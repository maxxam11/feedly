XOXOXOonFeedlyFileIncluded("lib/devhd.js");"use strict";function $feedly(b,a){if(a==undefined){a="[feedly]"}window.nslog(a+b)}(function(){var a=new Array();if(a.indexOf==null){Array.prototype.indexOf=function(c){for(var b=0;b<this.length;b++){if(this[b]==c){return b}}return -1}}})();var templates={};var devhd=function(){var c={};var e=new Object();function a(i,l,h){var f=i.split(".");
var n=f.pop();var j=f.join(".");var g=j.length?b(i,this):this;c.assert(!g[n],"Class '"+n+"' already defined");var m=g[n]=function(p){this.$clazz=m;this.$clazz.$name=n;if(p===e){return}this.initialize.apply(this,arguments)};if(l){m.prototype=new l(e);m.$super=l.prototype}if(h){c.extend(m.prototype,h)}return m.prototype}function b(h,g){var j,f=h.split("."),l=g||c;
for(j=0;j<f.length;j++){if(!l[f[j]]){l=l[f[j]]={}}else{l=l[f[j]]}}l.createClass=a;return l}function d(h,g){var j,f=h.split("."),l=g||c;for(j=0;j<f.length;j++){if(!l[f[j]]){return null}l=l[f[j]]}return l}c.pkg=b;c.createClass=a;c.$=d;c.destroy=function(f){var g,h;for(g=1;g<arguments.length;g++){h=arguments[g];o=f[h];if(o&&typeof o.destroy=="function"){o.destroy()
}delete f[h]}if(g==1){if(typeof f.destroy=="function"){f.destroy()}if(f.$clazz){delete f.$clazz}if(f.$super){delete f.$super}}};c.check=function(h,g){var f;for(f in g){if(g[f]){$feedly("[devhd.check] on '"+h+"', property '"+f+"' not released")}}};c.extend=function(i,h,g){for(var f in h){if(g==0||g==undefined||i[f]==undefined){i[f]=h[f]}else{if(g!=1){throw new Error("property '"+f+"' already set when extending object")
}}}return i};c.addFeature=function(g,f){return devhd.extend(g,f,-1)};c.assert=function(f,g){if(f){return}if(typeof g=="string"){throw new Error(g)}throw g};c.s3=function(f){return f};c.x2=function(h){var f=devhd.devicePixelRatio||window.devicePixelRatio||1;if(isNaN(f)){f=1}var g=h;if(f>1){g+="@2x"}g+=".png";return g};c.stackTrace=function(f){return["stack trace disabled"]
};return c}();window.devhd=devhd;XOXOXOonFeedlyFileIncluded("lib/i18n.js");"use strict";(function(){var d=devhd.pkg("i18n");var a=devhd.pkg("i18n.locales");var f={};var b=[];var g="en-us";var e=g;d.getLocales=function(){var i=[],h;for(h in f){i.push(h)}return i};d.setLocale=function(i){if(i==null){i="en-us"}var h=i.split(/_|\-/),i=h.join("-");if(f[i]){e=i;
b=f[i]}else{if(f[h[0]]){e=h[0];b=f[h[0]]}}};d.getLocale=function(){return e};d.setData=function(h){f[h[0]]=h;if(h[0]==e){b=h}};function c(h){}d.sealData=function(){d.setData=function(){c("setData")}};d.L=function(m,j){var h,l,n=[];if(typeof m=="number"){h=b[m]||m}else{h=m}if(typeof h=="string"){return h}if(typeof h=="function"){for(l=1;l<arguments.length;
l++){n.push(arguments[l])}if(n.length>0){return h.apply(h,n)}return h}if(typeof h=="number"){return"M."+h}throw"bad call 2 i18n.L(...)"};d.$L=function(m,j){var h=m,l,n=[];if(typeof m=="number"){h=b[m]||m}if(typeof h=="string"){return h}if(typeof h=="function"){for(l=1;l<arguments.length;l++){n.push(arguments[l])}return h.apply(h,n)}if(typeof h=="number"){return"M."+h
}throw"bad call - i18n.L$(...)"};d.F=function(u,s,r,q,p,n,m,l,j,i,h){var t=d.locales[e];if(s){if(t&&t[s]){return t[s](u,r,q,p,n,m,l,j,i,h)}return"no-format{"+s+"} "+u}return u}})();XOXOXOonFeedlyFileIncluded("lib/fn.js");"use strict";(function(){var a=devhd.pkg("fn");a.callback=function(e,d){var b=[],c;for(c=1;c<arguments.length;c++){b.push(arguments[c])
}return a.callbackApply(e,b)};a.callbackApply=function(g,c){try{var b=null;if(typeof(g)=="function"){return g.apply({},c)}if(g){b=(g.$this||g);if(typeof(g.$fn)=="function"){return g.$fn.apply(b,c)}if(g.$fn.length>0){for(var d=0;d<g.$fn.length;d++){g.$fn[d].apply(b,c)}return true}}return false}catch(f){try{try{console.log(f);$feedly("[fn] callback failed because "+f.name+" -- "+f.message+" -- "+g.toString())
}catch(h){}$feedly(devhd.utils.ExceptionUtils.formatError("callback",f))}catch(h){console.log(f);$feedly("[fn] callback failed because "+f.name+" -- "+f.message)}return false}};a.isCallack=function(b){if(b){return typeof(b)=="function"||b.$fn}return false}})();XOXOXOonFeedlyFileIncluded("lib/forms.js");"use strict";(function(){var b=devhd.pkg("forms");
var a="\r\n";b.boundary=function(){return"---------------------------"+new Date().getTime().toString(36)};b.multiPartForm=function(e,f){var c=[];for(var d in e){c.push("--");c.push(f);c.push(a);c.push('Content-Disposition: form-data; name="');c.push(d);c.push('"');c.push(a);c.push(a);c.push(e[d]);c.push(a)}c.push("--");c.push(f);c.push("--");c.push(a);
return c.join("")};b.webForm=function(e){var c=[];for(var d in e){c.push(d);c.push("=");c.push(encodeURIComponent(e[d]));c.push("&")}c.pop();return c.join("")}})();XOXOXOonFeedlyFileIncluded("lib/nitro.js");"use strict";var feedlyTerms={my:"home"};(function(){var a=devhd.pkg("utils");var b=devhd.i18n.L;a.AnnotationUtils=function(){var d={};d.highlightTextTerms=function(s,n,g){try{if(n==null||n.length==0){return s
}var l=new String(s);var q=[];for(var p=0;p<n.length;p++){var h=n[p];var t=new RegExp("("+h+")","gi");l=l.replace(t,"<span class='highlightedTerm'>$1</span>");var f=h.split(" ");if(f.length>1){for(var m=0;m<f.length;m++){if(f[m].length>3){q.push(f[m])}}}}if(q.length>0&&l.length==s.length&&g!=true){return d.highlightTextTerms(s,q,true)}else{return l}}catch(r){$feedly("[annotation utils] failed to highlight terms because:"+r.name+" -- "+r.message);
return s}};d.highlightTerms=function(w,s,l){try{if(s==null||s.length==0){return w}var q=c(w);var n=[];var u=[];for(var t=0;t<s.length;t++){var m=s[t];var h=m.split(" ");if(h.length>1){for(var p=0;p<h.length;p++){if(h[p].length>3){u.push(h[p])}}}}for(var p=0;p<q.length;p++){if(p%2==0){var g=q[p];for(var t=0;t<s.length;t++){var m=s[t];var x=new RegExp("("+m+")","gi");
g=g.replace(x,"<span class='highlightedTerm'>$1</span>")}n.push(g)}else{n.push(q[p])}}var f=n.join("");if(u.length>0&&f.length==q.join("").length&&l!=true){return d.highlightTerms(w,u,true)}else{return f}}catch(v){$feedly("[annotation utils] failed to highlight terms because:"+v.name+" -- "+v.message);return w}};d.breakHTMLIntoParts=c;function c(j){var f=[];
j=new String(j);var h=0;var g="content";for(var e=0;e<j.length;e++){if(g=="content"){if(j.charAt(e)!="<"){continue}f.push(j.slice(h,e));h=e;g="tag"}else{if(j.charAt(e)!=">"){continue}f.push(j.slice(h,e+1));h=e+1;g="content"}}f.push(j.slice(h));return f}d.highlightTerm=function(n,h){try{if(h==null){return n}var g=new String(n);var q=h.replace('"',"","g");
var j=q.split(" ");for(var l=0;l<j.length;l++){var f=j[l];var p=new RegExp("("+f+")","gi");g=g.replace(p,"<span class='highlightedTerm'>$1</span>")}return g}catch(m){$feedly("[annotation utils] failed to highlight term because:"+m.name+" -- "+m.message);return n}};return d}();a.ThingsUtils=function(){var c={};c.things=["blogs","news sites","thinkers","journals","youtube shows","podcasts","google alerts","tumblr blogs","stocks","500px channels","magazines","ebay listings","hulu shows","recipes","comics","craiglists","buzzfeeds","flick photos","vimeo shows","soundclouds","medium blogs","#topics"];
return c}();a.TopicUtils=function(){var d={};var c=["en-US","de","es","fr","it"];d.isEssential=function(f){var e=f.toLowerCase();for(var m=0;m<c.length;m++){var h=d[c[m]];for(var g=0;g<h.length;g++){if((h[g].label!=null&&e=="#"+h[g].label.toLowerCase())||(h[g].keyword!=null&&e==h[g].keyword.toLowerCase())){return true}}}return false};d["en-US"]=[{label:"tech",related:["apple","android"],unit:2},{label:"business"},{label:"design",related:["architecture","deco","branding","design thinking","graphic design","packaging","typography","web design","infography"]},{label:"food",visual:"http://s3.feedly.com/explore/cooking.v2.jpg"},{label:"marketing"},{label:"news",visual:"http://s3.feedly.com/explore/world-news.jpg"},{label:"fashion",related:["wedding","gardening"]},{label:"startups",visual:"http://s3.feedly.com/explore/entrepreneurship.jpg",keyword:"#entrepreneurship"},{label:"photography"},{label:"gaming"},{label:"baking"},{label:"do it yourself",visual:"http://s3.feedly.com/explore/do-it-yourself.jpg"},{label:"beauty"},{label:"comics"},{label:"cars",visual:"http://s3.feedly.com/explore/auto.jpg"},{label:"culture"},{label:"SEO"},{label:"education"},{label:"science",visual:"http://s3.feedly.com/explore/science.v2.jpg"},{label:"finance"},{label:"film",visual:"http://s3.feedly.com/explore/cinema.jpg",keyword:"#cinema"},{label:"travel"},{label:"YouTube",visual:"http://s3.feedly.com/explore/YouTube.v2.jpg",keyword:"#youtube"},{label:"vimeo",visual:"http://s3.feedly.com/explore/vimeo.v2.jpg"}];
d.de=[{label:"High-Tech",visual:"http://s3.feedly.com/explore/tech.jpg"},{label:"Nachrichten",visual:"http://s3.feedly.com/explore/world-news.jpg"},{label:"Kultur",visual:"http://s3.feedly.com/explore/culture.jpg"},{label:"Marketing",visual:"http://s3.feedly.com/explore/marketing.jpg"},{label:"Wirtschaft",visual:"http://s3.feedly.com/explore/politics.jpg"},{label:"Sport",visual:"http://s3.feedly.com/explore/sport.jpg"},{label:"Automobil",visual:"http://s3.feedly.com/explore/auto.jpg"},{label:"Architektur",visual:"http://s3.feedly.com/explore/architecture.jpg"},{label:"Design",visual:"http://s3.feedly.com/explore/design.jpg"},{label:"Fotoblogs",visual:"http://s3.feedly.com/explore/photography.jpg"},{label:"Gastronomie",visual:"http://s3.feedly.com/explore/cooking.jpg"},{label:"Handwerk",visual:"http://s3.feedly.com/explore/do-it-yourself.jpg"},{label:"Fashion",visual:"http://s3.feedly.com/explore/fashion.jpg"},{label:"Kino",visual:"http://s3.feedly.com/explore/cinema.jpg"}];
d.es=[{label:"Tecnología",visual:"http://s3.feedly.com/explore/tech.jpg"},{label:"moda",visual:"http://s3.feedly.com/explore/fashion.jpg"},{label:"videojuegos",keyword:"#juegosvideos",visual:"http://s3.feedly.com/explore/gaming.jpg"},{label:"gastronomía",visual:"http://s3.feedly.com/explore/cooking.jpg",keyword:"#gastronomia"},{label:"decoración",visual:"http://s3.feedly.com/explore/deco.jpg"},{label:"diseño",visual:"http://s3.feedly.com/explore/design.jpg"},{label:"cine",visual:"http://s3.feedly.com/explore/cinema.jpg"},{label:"Turismo",visual:"http://s3.feedly.com/explore/travel.jpg"},{label:"publicidad",visual:"http://s3.feedly.com/explore/marketing.jpg"},{label:"ciencia",visual:"http://s3.feedly.com/explore/science.jpg"}];
d.fr=[{label:"Technologie",visual:"http://s3.feedly.com/explore/tech.jpg"},{label:"Design",visual:"http://s3.feedly.com/explore/design.jpg"},{label:"Decoration",visual:"http://s3.feedly.com/explore/deco.jpg"},{label:"BD",visual:"http://s3.feedly.com/explore/comics.jpg"},{label:"Photographie",visual:"http://s3.feedly.com/explore/photography.jpg"},{label:"Finance",visual:"http://s3.feedly.com/explore/finance.jpg"},{label:"Politique",visual:"http://s3.feedly.com/explore/politics.jpg"},{label:"Actualites",visual:"http://s3.feedly.com/explore/news.jpg"},{label:"International",visual:"http://s3.feedly.com/explore/world-news.jpg"},{label:"Automobile",visual:"http://s3.feedly.com/explore/auto.jpg"},{label:"Mode",visual:"http://s3.feedly.com/explore/fashion.jpg"},{label:"gastronomie",visual:"http://s3.feedly.com/explore/cooking.jpg"},{label:"cinema",visual:"http://s3.feedly.com/explore/cinema.jpg"},{label:"Le Figaro",visual:"http://s3.feedly.com/explore/lefigaro.jpg"}];
d.it=[{label:"tecnologia",visual:"http://s3.feedly.com/explore/tech.jpg"},{label:"design",visual:"http://s3.feedly.com/explore/design.jpg"},{label:"gastronomia",visual:"http://s3.feedly.com/explore/cooking.jpg"},{label:"economia",visual:"http://s3.feedly.com/explore/finance.jpg"},{url:"mix://15175512314742267750/gossip",label:"gossip"},{url:"mix://15175512314742267750/tendenze",label:"tendenze",visual:"http://s3.feedly.com/explore/fashion.jpg"},{label:"scienza",visual:"http://s3.feedly.com/explore/science.jpg"},{label:"marketing",visual:"http://s3.feedly.com/explore/marketing.jpg"},{label:"fumetti",visual:"http://s3.feedly.com/explore/comics.jpg"},{label:"viaggi",visual:"http://s3.feedly.com/explore/travel.jpg"},{label:"cinema",visual:"http://s3.feedly.com/explore/cinema.jpg"}];
d.ja=[{label:"tech",related:["apple","android"]},{label:"news",visual:"http://s3.feedly.com/explore/world-news.jpg",keyword:"#world news"},{label:"business",visual:"http://s3.feedly.com/explore/business.v2.jpg"},{label:"gaming"},{label:"photography"},{label:"design",related:["architecture","deco","branding","design thinking","graphic design","packaging","typography","web design","infography"]},{label:"fashion",related:["wedding","gardening"]},{label:"cooking"},{label:"do it yourself",visual:"http://s3.feedly.com/explore/do-it-yourself.jpg"},{label:"sport"},{label:"cinema"},{label:"youtube"},{label:"vimeo"}];
d.ko=[{label:"tech",related:["apple","android"]},{label:"news",visual:"http://s3.feedly.com/explore/world-news.jpg",keyword:"#world news"},{label:"business",visual:"http://s3.feedly.com/explore/business.v2.jpg"},{label:"gaming"},{label:"photography"},{label:"design",related:["architecture","deco","branding","design thinking","graphic design","packaging","typography","web design","infography"]},{label:"fashion",related:["wedding","gardening"]},{label:"cooking"},{label:"do it yourself",visual:"http://s3.feedly.com/explore/do-it-yourself.jpg"},{label:"sport"},{label:"cinema"},{label:"youtube"},{label:"vimeo"}];
return d}();a.MapUtils=function(){var c={};c.size=function(f){var e=0;for(var d in f){if(f[d]!=null){e++}}return e};c.toArray=function(f){var d=[];for(var e in f){d.push(f[e])}return d};c.inc=function(e,d){if(e[d]==null){e[d]=0}e[d]++};return c}();a.JSONUtils=function(){var c={};c.decode=function(d){return JSON.parse(d)};c.encode=function(d){return JSON.stringify(d)
};return c}();a.Nibbler=function(q){var n,e,p,h,j,f,r,m,l,i,d,g,c;n=function(){var s,u,t;e=q.pad||"";p=q.dataBits;h=q.codeBits;j=q.keyString;f=q.arrayData;u=Math.max(p,h);t=0;r=[];for(s=0;s<u;s+=1){r.push(t);t+=t+1}l=t;m=p/i(p,h)};i=function(u,s){var v;while(s!==0){v=s;s=u%s;u=v}return u};d=function(B,x,z,A){var w,y,v,s,u,D,t,C;C=function(E){if(!A){t.push(j.charAt(E))
}else{if(f){t.push(E)}else{t.push(String.fromCharCode(E))}}};u=0;D=0;t=[];y=B.length;for(w=0;w<y;w+=1){D+=x;if(A){v=B.charAt(w);s=j.indexOf(v);if(v===e){break}else{if(s<0){throw'the character "'+v+'" is not a member of '+j}}}else{if(f){s=B[w]}else{s=B.charCodeAt(w)}if((s|l)!==l){throw s+" is outside the range 0-"+l}}u=(u<<x)|s;while(D>=z){D-=z;C(u>>D);
u&=r[D]}}if(!A&&D>0){C(u<<(z-D));y=t.length%m;for(w=0;w<y;w+=1){t.push(e)}}return(f&&A)?t:t.join("")};g=function(s){return d(s,p,h,false)};c=function(s){return d(s,h,p,true)};this.encode=g;this.decode=c;n()};a.ContentTypes={JSON:"text/javascript; charset=UTF-8"};a.ExceptionUtils=function(){var d={};var e=/\@(.+?):[0-9]+/gm;function c(g,f){if(g.length>f+3){return"..."+g.substring(g.length-f)
}return g}d.formatError=function(g,h){try{if(window!=null&&window.console!=null&&window.console.trace!=null){window.console.trace()}}catch(j){$feedly("[nitro] trace failed")}try{var f=[];if(h.name==null&&h.message==null){f.push(h.toString())}else{f.push("[error] failed to ");f.push(g);f.push(" because ");f.push(h.name);f.push(" -- ");f.push(h.message)
}return f.join("")}catch(i){return"failed to "+g}};return d}();a.RandomUtils=function(){var c={};c.shuffle=function(g){for(var e,d,f=g.length;f;e=parseInt(Math.random()*f),d=g[--f],g[f]=g[e],g[e]=d){}return g};return c}();a.NoneResizable={C0:true,C0l:true,C1:true,C3:true,C3l:true,C4:true,C5:true,C5l:true,C6:true,C7:true,C7l:true,C11l:true,C11p:true,C12:true,C14:true,C15l:true,C15p:true,C19l:true,C19p:true,C22l:true,C20:true,C23:true,C53:true,C55:true};
a.LeftBottomable={C2:true};a.NoneHidable={C3:true,C4:true,C3l:true,C4l:true,C6:true,C7:true,C7l:true,C14:true,C22l:true,C23:true};a.Placeholders={C3:"hidden",C4:"hidden",C3l:"hidden",C4l:"hidden",C6:"hidden",C7:"hidden",C7l:"hidden",C14:"hidden",C22l:"hidden",C23:"hidden"};a.CustomFlex={C2:0.7};a.PageConstants={UR_IMAGE_WIDTH:202,UR_IMAGE_HEIGHT:132,U3_IMAGE_WIDTH:68,U3_IMAGE_HEIGHT:34,U4_IMAGE_WIDTH:202,U4_IMAGE_HEIGHT:2*20+4*16,U5_IMAGE_WIDTH:264,U5_IMAGE_HEIGHT:"*",U6_IMAGE_WIDTH:152,U6_IMAGE_HEIGHT:130,U8_IMAGE_WIDTH:646-2,U8_IMAGE_HEIGHT:424,U9_IMAGE_WIDTH:645,U9_IMAGE_HEIGHT:14*17,U10_IMAGE_WIDTH:324-2,U10_IMAGE_HEIGHT:260-2,U14_IMAGE_WIDTH:264,U14_IMAGE_HEIGHT:206,U16_IMAGE_WIDTH:60,U16_IMAGE_HEIGHT:60,U15_IMAGE_WIDTH:63,U15_IMAGE_HEIGHT:63,U17_IMAGE_WIDTH:66,U17_IMAGE_HEIGHT:66,U18_IMAGE_WIDTH:49,U18_IMAGE_HEIGHT:49,U19_IMAGE_WIDTH:152,U19_IMAGE_HEIGHT:68,U20_IMAGE_WIDTH:51,U20_IMAGE_HEIGHT:51,FEED_HEADER_HEIGHT:28,USER_INDEX_HEIGHT:26,FEED_INDEX_HEIGHT:25,U_HEIGHT:function(c){if(c==12){return 17
}if(c==4){return 86}if(c==6){return this.U6_IMAGE_HEIGHT+1+1}if(c==7){return 161}if(c==1){return 34}if(c==0){return 34}return 22*c},MODULE_TITLE_HEIGHT:28,U10_WIDTH:221,UR_HEIGHT:300,UR_SPACER:6,UE_WIDTH:221,UC_WIDTH:170,UC_SPACER:6,UC_IMAGE_WIDTH:199-2,UC_IMAGE_HEIGHT:120-2};a.FeedTypeUtils=function(){var c={};c.process=function(d){if(d.promoted==true){return{primary:"Promoted"}
}if(d.contentType=="video"){return{primary:"Video",secondary:"channel"}}if(d.contentType=="podcast"){return{primary:"Podcast",secondary:"channel"}}if(d.partial){return{primary:"Abstract",secondary:"only"}}if(d.velocity!=null&&d.velocity<10&&d.estimatedEngagement!=null&&d.estimatedEngagement>100){return{primary:"Must",secondary:"read"}}if(d.velocity!=null&&d.velocity<30&&d.estimatedEngagement!=null&&d.estimatedEngagement>500){return{primary:"Must",secondary:"read"}
}return{primary:"Full",secondary:"content"}};return c}();a.VisualsUtils=function(){var c={};c.isException=function(f){try{var g=f.getBestAlternateLink();var d=f.getFeedId();if(g==null||d==null){return false}if(g.indexOf("/TheVegetarianFoodie")>-1){return true}if(g.indexOf("guardian.co.uk")>-1){return true}if(g.indexOf("adventure.com")>-1){return true
}if(d.indexOf("adventure.com")>-1){return true}if(d.indexOf("europeanforeignpolicy.eu")>-1){return true}if(g.indexOf("europeanforeignpolicy.eu")>-1){return true}if(d.indexOf("harvardbusiness")>-1){return true}if(g.indexOf("www.businessoffashion.com")>-1){return true}if(g.indexOf("entrepreneur.com")>-1){return true}if(g.indexOf("theverge.com")>-1){return true
}if(d.indexOf("fastcompany")>-1){return true}if(g.indexOf("fastcompany")>-1){return true}if(d.indexOf("fastcodesign")>-1){return true}if(g.indexOf("fastcodesign")>-1){return true}if(g.indexOf("www.sfgate.com")>-1){return true}if(g.indexOf("slate.com")>-1){return true}if(g.indexOf("betakit.com")>-1){return true}if(g.indexOf("etsy.com")>-1){return true
}if(d.indexOf("arstechnica")>-1){return true}if(d.indexOf("tennisnow")>-1){return true}if(d.indexOf("hanielas.blogspot.com")>-1){return true}return false}catch(h){$feedly("[nitro] failed to test exception:"+h.name+" -- "+h.message);return false}};c.isComic=function(d){var e=d.getAlternateLink();if(e.indexOf("dilbert.com")>-1){return true}return false
};c.disableInjection=function(e){var d=e.getFeedId();if(d.indexOf("daringfireball.net")>-1){return true}return false};c.fitsSize=function(h,e,f,d,g){if(h==null){return 0}if(h.width==null||h.height==null){return g==true?0:1}if((e=="*"||(h.width>=e*d))&&(f=="*"||(h.height>=f*d))){return 2}else{return 0}};c.fitsSizes=function(j,p,n){if(j==null){return 0
}if(j.width==null||j.height==null){return n==true?0:1}var h=0;for(var e=0;e<p.length;e++){var d=p[e][0];var m=p[e][1];var l=p[e][2]||1;var g=c.fitsSize(j,d,m,l,n);if(g==2){return g}else{h=Math.max(h,g)}}return h};return c}();a.VideoUtils=function(){var c={};c.extractThumbnail=function(h){try{var g=/youtube\.com\/embed\/([A-Za-z0-9\-_]+)/gi;var f=/youtube\.com\/v\/([A-Za-z0-9\-_]+)/gi;
var e=/ytimg\.com\/vi\/([A-Za-z0-9\-_]+)/gi;var d=/youtube\.com\/watch\?v=([A-Za-z0-9\-_]+)/gi;var i=devhd.utils.RegExUtils.select(g,h)||devhd.utils.RegExUtils.select(f,h)||devhd.utils.RegExUtils.select(e,h)||devhd.utils.RegExUtils.select(d,h);if(i!=null){return{url:"http://img.youtube.com/vi/"+i+"/0.jpg",videoId:"youtube:"+i,width:480,height:360}}}catch(j){$feedly("[video utils] YT Extraction failed:"+j.name+" -- "+j.message)
}return null};c.embedsYoutube=function(d){return c.extractThumbnail(d)!=null};return c}();a.RegExUtils=function(){var c={};c.select=function(e,f,d){if(f==null){return d}var g=e.exec(f);if(g&&g.length){return g[1]}else{return d}};c.selectN=function(f,g){if(g==null){return[]}var e=[];var h=null;do{var d=f.exec(g);h=d===null?null:d[1];if(h!=null){e.push(h)
}}while(h!=null);return e};c.extractVar=function(d,f){var e=new RegExp(f+" =\\s*(.*);\\s*[\n|<]","m");return c.select(e,d)};c.extractAttributeValue=function(f,e){var g=new RegExp(e+'[S]*=[S]*"([^"]*)"',"m");var d=c.select(g,f);if(d==null){g=new RegExp(e+"[S]*=[S]*'([^']*)'","m");d=c.select(g,f)}return d};c.extractEmbeddedVariable=function(d,j,i){try{var f=devhd.utils.StringUtils.extractBetween(d,j+" =",';\n"";');
if(f==null||f.content==null){return null}var h=devhd.utils.JSONUtils.decode(f.content);return h[i]}catch(g){$feedly("[extract variable] failed because "+g.name+" -- "+g.message+" -- "+j+" -- "+f.content);return null}};return c}();a.DurationUtils=function(){var d={};var c=60*1000;d.MINUTES=function(e){return e*c};d.HOURS=function(e){return e*60*c};d.DAYS=function(e){return e*24*60*c
};return d}();a.TermUtils=function(){var c={};c.formatTitle=function(d){if(d==null){return null}switch(d){case"feedly.all":case"#latest":return b(57);case"#my":return feedlyTerms.my;case"global.uncategorized":return b(58);case"#sources":return b(59);case"feedly.history":return b(60);case"feedly.saved":case"starred":return b(61);case"feedly.shared":return b(62);
case"global.must":return"must reads";case"feedly.annotated":return b(63);default:}var e=d.indexOf("/label/");if(e>0){return d.substring(e+7)}return d};c.formatTerm=function(d,e,f){if(d==null){return null}if(d==""){return null}if(e==null){e="-"}if(f==null){f="???"}if(d=="feedly.history"){return"user/"+e+"/tag/global.read"}if(d=="read"){return"user/"+e+"/tag/global.read"
}if(d=="like"){return"user/"+e+"/tag/feedly.plusone"}if(d=="#my"){return"user/"+e+"/category/global.all"}if(d=="reading-list"){return"user/"+e+"/category/global.all"}if(d=="#latest"){return"user/"+e+"/category/global.all"}if(d=="feedly.all"){return"user/"+e+"/category/global.all"}if(d=="global.uncategorized"){return"user/"+e+"/category/global.uncategorized"
}if(d=="global.all"){return"user/"+e+"/category/global.all"}if(d=="global.must"){return"user/"+e+"/category/global.must"}if(d=="global.saved"){return"user/"+e+"/tag/global.saved"}if(d=="starred"||d=="feedly.saved"){return"user/"+e+"/tag/global.saved"}if(d.indexOf("feedly.")==0){return"user/"+e+"/tag/"+d}return"user/"+e+"/"+f+"/"+d};c.extractUserId=function(e){if(e.indexOf("user/")!=0){return null
}var d=e.split("/");return d.length>1?d[1]:null};return c}();a.IdUtils=function(){var c={};c.formatTitle=function(d){if(d==null){return null}switch(d){case"global.saved":return"Saved for later";case"global.all":return"All";case"global.must":return"Must reads";default:return d}};c.formatId=function(f,d,e){if(d==null||d==""){return null}if(e==null){e="-"
}if(d=="starred"||d=="feedly.saved"){return"user/"+e+"/tag/global.saved"}if(d=="#my"||d=="reading-list"||d=="#latest"||d=="feedly.all"){return"user/"+e+"/category/global.all"}return"user/"+e+"/"+f+"/"+d};c.extractUserId=function(e){if(e.indexOf("user/")!=0){return null}var d=e.split("/");return d.length>1?d[1]:null};c.extractLabel=function(e){if(e==null){return null
}if(e.indexOf("/")==-1){return e}var d=e.split("/");return d[d.length-1]};return c}();a.StringUtils=function(){var d={};d.substitute=function(f,i){var h=new String(f);for(var g in i){if(f.indexOf(g)>-1){h=h.replace(g,i[g])}}return h};var e=/<\/?[^>]+>/gi;d.stripTags=function(f){if(f==null){return null}return f.replace(e,"")};d.replaceTagsWithSpace=function(f){if(f==null){return null
}return f.replace(e," ")};d.extractBetween=function(f,j,i,l){if(l==null){l=0}var h=f.indexOf(j,l);if(h==-1){return null}var g=f.indexOf(i,h+j.length);if(g==-1){g=f.length}return{content:f.substring(h+j.length,g),end:g+i.length}};d.matchesTerm=function(i,f){if(f==null){return true}if(i==null){return false}var m=new String(i).toLowerCase();var h=f.replace('"',"","g");
var l=h.split(" ");for(var g=0;g<l.length;g++){if(m.indexOf(l[g].toLowerCase())>-1){return true}}return false};d.trim=function(f){if(f==null){return null}if(typeof f!="string"){f=f.toString()}var g=f.replace(/^\s+/,"");return g.replace(/\s+$/,"")};d.ellipcify=function(g,f){if(g==null){return null}if(f<4){f=4}if(g.length>f-3){return g.substring(0,f-3)+"..."
}else{return g}};d.cleanSourceTitle=function(f){if(f==null){return f}f=f.replace('\u003cdiv style\u003d"direction:rtl;text-align:right"\u003e',"").replace("\u003c/div\u003e","");f=d.cleanTitle(f);if(f.indexOf("-")>10){f=d.trim(f.slice(0,f.indexOf("-")))}if(f.indexOf(":")>10){f=d.trim(f.slice(0,f.indexOf(":")))}if(f.indexOf(">")>10){f=d.trim(f.slice(0,f.indexOf(">")))
}if(f.indexOf("|")>10){f=d.trim(f.slice(0,f.indexOf("|")))}return f};d.microSourceTitle=function(f){if(f==null){return f}f=d.cleanTitle(f);if(f.indexOf("-")>4){f=d.trim(f.slice(0,f.indexOf("-")))}if(f.indexOf(":")>4){f=d.trim(f.slice(0,f.indexOf(":")))}if(f.indexOf(">")>4){f=d.trim(f.slice(0,f.indexOf(">")))}if(f.indexOf("|")>4){f=d.trim(f.slice(0,f.indexOf("|")))
}return f};d.cleanTitle=function(g){if(g==null){return g}g=devhd.str.stripTags(g);var f=g.replace(/#[0-9]* -/i,"");f=devhd.utils.StringUtils.trim(f);if(f==f.toUpperCase()){f=d.capitalize(f.toLowerCase())}return f.length<g.length/3||f.length<5?devhd.str.stripTags(g):f};function c(g,f){return f.replace(/[^\.+]/g," ")}d.capitalize=function(f){return f.replace(/\w+/g,function(g){return g.charAt(0).toUpperCase()+g.substr(1).toLowerCase()
})};d.simplifyTitle=function(f){f=d.cleanTitle(f);return f.replace(/(\W+)/g,c)};d.deEntitify=function(f){if(f==null){return f}return f.replace(/&quot;/g,'"')};d.escapeToUtf16=function(j){var h="";for(var f=0;f<j.length;++f){var g=j.charCodeAt(f).toString(16).toUpperCase();h+="\\u"+"0000".substr(g.length)+g}return h};return d}();a.HTMLUtils=function(){var h={};
h.cleanNode=function(y,G){if(y==null){return}if(y.getAttribute("data-clean")=="yes"){return}var F=r(G.maxWidth,y);if(y.removeAttribute!=null){var z,C;if(G.rtl==true){z=y.style.direction;C=y.style.textAlign}y.removeAttribute("style");y.removeAttribute("align");if(G.rtl==true){y.style.direction=z;y.style.textAlign=C}}if(y.tagName=="FONT"){y.removeAttribute("size");
y.removeAttribute("color");y.removeAttribute("face")}if(y.tagName=="IMG"){var E=parseInt(y.getAttribute("width"));var B=parseInt(y.getAttribute("height"));if((E==null||E==0||isNaN(E))&&y.naturalWidth>0){E=parseInt(y.naturalWidth)}if((B==null||B==0)||isNaN(B)&&y.naturalHeight>0){B=parseInt(y.naturalHeight)}y.removeAttribute("hspace");y.removeAttribute("width");
y.removeAttribute("height");y.style.maxWidth=F+"px";if(y.src.indexOf("/ad/")>-1||y.src.indexOf("doubleclick")>-1){G.pinImage=false}if(!isNaN(E)&&E>0&&!isNaN(B)&&B>0){m(y,E,B,G)}else{y.onload=function(){m(y,y.naturalWidth||y.width,y.naturalHeight||y.height,G)}}}if(y.tagName=="A"){try{y.target="_blank"}catch(D){$feedly("[html] clean up failed:"+D.name+" -- "+D.message)
}}if(y.tagName=="TABLE"||y.tagName=="TR"){try{var E=parseInt(y.getAttribute("width"));if(E!=null&&!isNaN(E)&&E>F){y.width=F}}catch(D){$feedly("[html] clean up failed:"+D.name+" -- "+D.message)}}if(y.tagName=="CENTER"){try{y.style.textAlign="left"}catch(D){$feedly("[html] clean up failed:"+D.name+" -- "+D.message)}}if(y.tagName=="IFRAME"){try{if(y.src.indexOf("youtube.com")>-1){w(y,G)
}else{var E=y.width;var B=y.height;if(E!=null&&B!=null&&B>0&&E>F){y.width=F+"px";y.height=Math.floor(B/E*F)+"px"}}}catch(D){$feedly("[html] clean up failed:"+D.name+" -- "+D.message)}}if(y.hasChildNodes()){var x=y.childNodes;for(var A=0;A<x.length;A++){if(x[A].nodeType!=1){continue}h.cleanNode(x[A],G)}}};function w(A,y){var x=A.width;var z=A.height;
if(x==null||z==null||isNaN(x)||isNaN(z)){A.style.display="block";return}var B=y.maxWidth;A.width=B+"px";A.height=Math.floor(z*B/x)+"px";A.style.marginTop="3rem";A.style.marginBottom="3rem";A.style.display="block"}function g(z){var x=z.ownerDocument.createElement("span");x.className="pinContainer";var A=z.ownerDocument.createElement("span");A.className="pin";
A.setAttribute("data-page-action","pinImage");A.setAttribute("data-page-action-input",z.src);if(z.getAttribute("title")!=null){A.setAttribute("data-title",z.getAttribute("title"))}x.appendChild(A);var y=z.ownerDocument.createElement("span");y.className="epin";y.setAttribute("data-page-action","epinImage");y.setAttribute("data-page-action-input",z.src);
if(z.getAttribute("title")!=null){y.setAttribute("data-title",z.getAttribute("title"))}x.appendChild(y);z.parentNode.replaceChild(x,z);z.className="pinable";x.appendChild(z)}function m(B,x,z,y){if(!B||!B.parentNode){return}try{var C=r(y.maxWidth,B);C=C-2;if(B.naturalWidth!=null&&B.naturalWidth>x){x=B.naturalWidth;z=B.naturalHeight}if(B.src.indexOf("rc.img")>-1&&B.src.indexOf("feedsportal")>-1){B.style.marginTop="0rem";
B.style.marginBottom="0rem";B.style.display="block"}else{if(x==null||z==null||isNaN(x)||isNaN(z)){}else{if(x==0&&z==0){B.style.maxWidth=C;B.style.display="block";B.style.marginTop="3rem";B.style.marginBottom="3rem";B.style.borderRadius="3px";B.style.border="1px solid #EFEFEF"}else{if(x<42||z<42){B.parentNode.removeChild(B)}else{if(x>C){B.style.width=C+"px";
B.style.height=Math.floor(z*C/x);B.style.marginTop="3rem";B.style.marginBottom="3rem";B.style.display="block";B.style.borderRadius="3px";B.style.border="1px solid #EFEFEF";if(y.pinImage=="yes"){g(B)}}else{if(x>(C/3)){B.style.marginTop="3rem";B.style.marginBottom="3rem";B.style.display="block";B.style.borderRadius="3px";B.style.border="1px solid #EFEFEF";
if(y.pinImage=="yes"&&x>C/2){g(B)}}else{B.style.cssFloat="right";B.style.marginLeft="1rem";B.style.marginBottom="1rem";B.style.display="inline"}}}}}}}catch(A){$feedly("[html]"+devhd.utils.ExceptionUtils.formatError("cleaning image",A))}}function r(y,x){return y}var q=Math.floor(Math.random()*10000000000000000000).toString(36);h.clearSelection=function(x){x.getSelection().removeAllRanges()
};h.grabRangeContext=function(z){var x=z.getSelection();if(x.rangeCount<1){return null}var y=v(x.getRangeAt(0));if(y==null){return null}var A=f(y.n0,j);if(A==null){return null}y=i(y);if(y==null){return null}return y};var p=" \t\n().,;";function j(x){return x&&x.nodeType==1&&x.hasAttribute("cdf_container")}function f(y,x){while(y){if(x(y)){break}y=y.parentNode
}return y}function v(x){if(x.startContainer==x.endContainer&&x.startOffset==x.endOffset){return null}return{n0:x.startContainer,o0:x.startOffset,n1:x.endContainer,o1:x.endOffset}}function i(x,A){if(!x||!x.n0){return x}var z,y;if(x.n0.nodeType==3){y=x.o0;z=x.n0.nodeValue;if(p.indexOf(z.charAt(y))<0){while(y>=0&&p.indexOf(z.charAt(y))<0){y-=1}x.o0=y+1
}else{while(y<z.length&&p.indexOf(z.charAt(y))>=0){y+=1}x.o0=y}}if(x.n1.nodeType==3){y=x.o1-1;z=x.n1.nodeValue;if(p.indexOf(z.charAt(y))<0){while(y<z.length&&p.indexOf(z.charAt(y))<0){y+=1}x.o1=y}else{while(y>=0&&p.indexOf(z.charAt(y))>=0){y-=1}x.o1=y+1}}return x}h.getHtmlSelection=function(B){var A=B.defaultView;var z=A.getSelection();if(z.rangeCount>=1){var y=z.getRangeAt(0).cloneContents();
var x=B.createElement("p");x.appendChild(y);return devhd.str.stripTags(x.innerHTML)}else{return""}};h.getRawSelection=function(B){var A=B.defaultView;var z=A.getSelection();if(z.rangeCount>=1){var y=z.getRangeAt(0).cloneContents();var x=B.createElement("p");x.appendChild(y);return x.innerHTML}else{return""}};h.getSelection=function(x){return devhd.str.stripTags(h.getHtmlSelection(x))
};h.getClientWidth=function(y){if(y==null||y.defaultView==null){return 1024}var x=y.defaultView;if(typeof(x.innerWidth)=="number"){return x.innerWidth}else{if(y.documentElement&&y.documentElement.clientWidth){return y.documentElement.clientWidth}else{if(y.body&&y.body.clientWidth){return y.body.clientWidth}}}};h.getClientHeight=function(y){var x=y.defaultView;
if(typeof(x.innerHeight)=="number"){return x.innerHeight}else{if(y.documentElement&&y.documentElement.clientHeight){return y.documentElement.clientHeight}else{if(y.body&&y.body.clientHeight){return y.body.clientHeight}}}};function c(y){var x=y.getElementById(q);if(x){return x}x=y.createElement("div");x.setAttribute("id",q);return x}h.append=function(y,x){var z=c(y.ownerDocument);
z.innerHTML=x;while(z.firstChild){y.appendChild(z.firstChild)}};h.prepend=function(y,x){if(y==null){return}if(y.firstChild==null){y.innerHTML=x}else{h.before(y.firstChild,x)}};h.prependElement=function(x,y){if(x==null){return}if(x.firstChild==null){x.appendChild(y)}else{x.insertBefore(y,x.firstChild)}};h.after=function(z,x){var y=c(z.ownerDocument);
y.innerHTML=x;while(y.firstChild){z.parentNode.insertBefore(y.firstChild,z.nextSibling)}};h.before=function(z,x){var y=c(z.ownerDocument);y.innerHTML=x;while(y.lastChild){z.parentNode.insertBefore(y.lastChild,z)}};h.remove=function(x){x.parentNode.removeChild(x)};var t={};h.injectCSS=function(D,y,x){try{if(x!=null&&t[x]==true){h.removeCSS(D,x)}var C,z,A;
if(D==null){return false}if(D.nodeType==1){C=D.ownerDocument}else{if(D.nodeType==9){C=D;z=C.getElementsByTagName("head")[0];if(D==null){return false}}else{throw"bad arguments to injectCSS"}}A=C.createElement("style");A.setAttribute("type","text/css");A.setAttribute("data-injected",x||"anonymous");if(typeof navigator!="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1){A.innerText=y
}else{if(A.styleSheet){A.styleSheet.cssText=y}else{A.innerHTML=y}}if(z){z.appendChild(A)}else{if(D){D.parentNode.insertBefore(A,D)}}if(x!=null){t[x]=true}return true}catch(B){$feedly("[nitro] failed to inject CSS. "+B.name+" -- "+B.message);return false}};h.removeCSS=function(D,x){try{var C=D.ownerDocument;if(D.nodeType==1){C=D.ownerDocument}else{if(D.nodeType==9){C=D
}}var B=C.getElementsByTagName("style");var z=0;for(var y=0;y<B.length;y++){if(B[y].getAttribute("data-injected")==x){h.remove(B[y]);z++}}delete t[x];return true}catch(A){$feedly("failed to remove CSS for label "+x+" -- "+A.name+" -- "+A.message);return false}};h.findElements=function(D,E){var C=E.className;var y=D.getElementsByClassName(C);var B=[];
for(var A=0;A<y.length;A++){var z=true;for(var x in E){if(x.indexOf("data-")!=0){continue}if(y[A].getAttribute(x)!=E[x]){z=false;break}}if(z){B.push(y[A])}}return B};h.findElementsByTagAndAttribute=function(B,A,D,y){var F=D,E=[],x,C,z;if(typeof F!="function"){F=function(G){if(!D||D=="*"){return true}if(D&&G.hasAttribute(D)){if(y){return y==G.getAttribute(D)
}else{return true}}return false}}if(B){x=B.getElementsByTagName(A||"*");for(C=0;C<x.length;C++){z=x.item(C);if(F(z)){E.push(z)}}}return E};h.findFirstElementByTagAndAttribute=function(A,y,x,z){var B=h.findElementsByTagAndAttribute(A,y,x,z);return B.length>0?B[0]:null};h.findParentElementByTagAndAttribute=function(A,y,x,z){var B;if(A==null){return null
}if(A.nodeType==1){if(y=="*"||y==A.tagName){B=A.getAttribute(x);if(B&&(z=="*"||z==B)){return A}}}return h.findParentElementByTagAndAttribute(A.parentNode,y,x,z)};h.addEventListener=function(A,x,z,y){if(A==null){return}if(A.addEventListener){A.addEventListener(x,z,y||false)}else{if(A.attachEvent){A.attachEvent("on"+x,z)}}};h.removeEventListener=function(A,x,z,y){if(A==null){return
}if(A.removeEventListener){A.removeEventListener(x,z,y||false)}else{if(A.detachEvent){A.detachEvent("on"+x,z)}}};h.empty=function(x){var y;if(x){y=x;while(x.firstChild){y.removeChild(x.firstChild)}}};h.text=function(x,y){h.empty(x);if(x){x.appendChild(x.ownerDocument.createTextNode(y))}};h.html=function(y,x){h.empty(y);if(y){y.innerHTML=x}};h.remove=function(x){var y;
if(x){y=x.parentNode;y.removeChild(x)}};h.addClass=function(B,y){if(!B||B.nodeType!=1){return}var z,C,x=B.className.split(/\s+/),A=x.length;for(var z=1;z<arguments.length;z++){C=arguments[z];if(C&&x.indexOf(C)<0){x.push(C)}}if(x.length>A){B.className=x.length>1?x.join(" "):x[0]}};h.removeClass=function(z,y){if(!z||z.nodeType!=1){return}var x=z.className.split(/\s+/);
x=x.filter(function(A){return A&&A.length&&y!=A});if(x.length==0){z.className=""}else{if(x.length==1){z.className=x[0]}else{z.className=x.join(" ")}}};h.unlink=function(y){var x={node:y};x.parent=y.parentNode;x.next=y.nextSibling;h.remove(y);return x};h.relink=function(x){x.parent.insertBefore(x.node,x.next)};h.outerHTML=function(y){if(y.nodeType!=1){return y.nodeValue
}var x=[];x.push("<");x.push(y.tagName);x.push(" ");x.push('class="');x.push(y.className);x.push('"/>');x.push(y.innerHTML);x.push("</");x.push(y.tagName);x.push(">");return x.join("")};h.findDataAttribute=function(y,x){if(y==null){return null}if(y.nodeType==1&&y.getAttribute(x)!=null){return y.getAttribute(x)}else{var z=y.parentNode;if(z!=null){return h.findDataAttribute(z,x)
}else{return null}}};h.listLinks=function(B){try{if(B==null){return[]}var z=[];var C=0;while(C>-1){var x=devhd.utils.StringUtils.extractBetween(B,"<a","</a>",C);if(x==null){C=-1}else{C=x.end;var y=devhd.utils.StringUtils.extractBetween(x.content,'href="','"');if(y!=null&&y.content!=null){z.push({href:s(y.content),all:x.content})}}}return z}catch(A){$feedly("[nitro] failed to listLinks:"+A.name+" -- "+A.message);
return[]}};h.getFirstLink=function(y){if(y==null){return null}var x=devhd.utils.StringUtils.extractBetween(y,'href="','"');return x==null?null:x.content};h.listLinkTags=function(B){try{if(B==null){return[]}var z=[];var C=0;while(C>-1){var x=devhd.utils.StringUtils.extractBetween(B,"<link",">",C);if(x==null){C=-1}else{C=x.end;var y=x.content;z.push({rel:devhd.utils.RegExUtils.extractAttributeValue(y,"rel"),href:devhd.utils.RegExUtils.extractAttributeValue(y,"href"),title:devhd.utils.RegExUtils.extractAttributeValue(y,"title"),type:devhd.utils.RegExUtils.extractAttributeValue(y,"type")})
}}return z}catch(A){$feedly("[nitro] failed to list link tags:"+A.name+" -- "+A.message);return[]}};function s(x){return x.replace("&amp;","&","g")}function e(y){if(y==null){return null}var x=parseInt(y.content);if(isNaN(x)){return null}else{return x}}h.listImages=function(C){try{if(C==null){return[]}var E=[];var D=0;while(D>-1){var y=devhd.utils.StringUtils.extractBetween(C,"<img",">",D);
if(y!=null&&y.content!=null){D=y.end;var A=e(devhd.utils.StringUtils.extractBetween(y.content,'width="','"'))||e(devhd.utils.StringUtils.extractBetween(y.content,"width='","'"));var x=e(devhd.utils.StringUtils.extractBetween(y.content,'height="','"'))||e(devhd.utils.StringUtils.extractBetween(y.content,"height='","'"));var z=devhd.utils.StringUtils.extractBetween(y.content,'src="','"')||devhd.utils.StringUtils.extractBetween(y.content,"src='","'");
if(z!=null){E.push({url:s(z.content),width:A,height:x})}}else{D=-1}}return E}catch(B){$feedly("[nitro] listImages failed "+B.name+" -- "+B.message);return[]}};h.listEmbeddings=function(D,A){try{if(D==null){return[]}if(A==null){A=[]}var B=[];var G=0;while(G>-1){var y=devhd.utils.StringUtils.extractBetween(D,"<embed",">",G);if(y==null){G=-1}else{if(y.content!=null){G=y.end;
var z=devhd.utils.StringUtils.extractBetween(y.content,'src="','"');if(z!=null){var x=z.content;var E=true;for(var C=0;C<A.length;C++){if(x.indexOf(A[C])>-1){E=false;break}}if(E){B.push(z.content)}}}else{G=y.end}}}return B}catch(F){$feedly("[feedly] failed to list embeddings:"+F.name+" -- "+F.message);return[]}};function u(A,y,x){var z=0;while(A!=null&&z!=1){z=y.call(y,A,x);
if(z==0&&A.nodeType==1){z=u(A.firstChild,y,x)}A=A.nextSibling}return z}function l(y,x){if(y.nodeType==1&&y.getAttribute("hilite.name")==x.name){x.list.push(y);return 2}return 0}h.unhighlightText=function(A,x){var I={name:x,list:[]};u(A,l,I);var B,z,E=I.list,G=A.ownerDocument;for(B=0;B<E.length;B++){z=E[B];var y=null;var D=G.createDocumentFragment();
var C=z.nextSibling;var F=z.parentNode;while((y=z.firstChild)){D.appendChild(y)}F.removeChild(z);F.insertBefore(D,C);F.normalize()}};function n(A,y,F,J){if(F==null||F.text==null||A.data==null){return}var G=F.text.toUpperCase();var K=0;if(A.nodeType==3){var I=A.data.toUpperCase().indexOf(G);if(I>=0){var E=document.createElement("span");if(F.title){E.setAttribute("title",F.title)
}if(F.style){E.setAttribute("style",F.style)}if(F.css){E.className=F.css}if(F.data){for(var C in F.data){E.setAttribute(C,F.data[C])}}var B=A.splitText(I);var x=B.splitText(G.length);var z=B.cloneNode(true);E.appendChild(z);B.parentNode.replaceChild(E,B);K=1}}else{if(A.nodeType==1&&A.childNodes&&!/(script|style|a)/i.test(A.tagName)){for(var D=0;D<A.childNodes.length;
++D){var L=n(A.childNodes[D],y,F,J);J=J-L;if(J<=0){break}D+=L}}}return K}h.highlightText=function(z,P,A,L){if(typeof Components=="undefined"){for(var M=0;M<A.length;M++){n(z,P,A[M],L)}}else{var N=Components.classes["@mozilla.org/embedcomp/rangefind;1"].createInstance().QueryInterface(Components.interfaces.nsIFind);var M,O=z.ownerDocument,E,B=0,y=O.createRange(),G,F=O.createRange(),C=z.childNodes.length,I,x,J;
N.caseSensitive=false;y.setStart(z,0);y.setEnd(z,C);F.setStart(z,C);F.setEnd(z,C);var B=0;for(M=0;M<A.length;M++){I=A[M];G=O.createRange();G.setStart(z,0);G.setEnd(z,0);var D=0;while((E=N.Find(I.text,y,G,F))&&(L==null||D<L)){x=O.createElement("span");if(I.title){x.setAttribute("title",I.title)}if(I.style){x.setAttribute("style",I.style)}if(I.css){x.setAttribute("class",I.css)
}if(I.data){for(var K in I.data){x.setAttribute(K,I.data[K])}}x.setAttribute("hilite.name",P);J=d(E,x);G=O.createRange();G.setStart(J,J.childNodes.length);G.setEnd(J,J.childNodes.length);B++;D++}}}};function d(y,C){var B=y.startContainer;var x=y.startOffset;var z=y.endOffset;var E=y.extractContents();var D=B.splitText(x);var A=D.parentNode;C.appendChild(E);
A.insertBefore(C,D);return C}return h}();a.FlowUtils=function(){var d={};d.parallelForEach=function(h,l,j,f){if(f==null){f={}}if(f.onStart!=null){f.onStart.call(h)}var m=l.length;if(m<1){if(m==0&&f.onSuccess!=null){f.onSuccess.call(h)}}for(var g=0;g<l.length;g++){j.call(h,l[g],g,function(){m=m-1;if(m==0&&f.onSuccess!=null){f.onSuccess.call(h)}},f.onError,f.onProgress)
}};d.flowN=function(h,n,j,l){var m=n;function f(){m--;if(m>0){return}devhd.fn.callback(l,h)}if(n<1){f();return}for(var g=0;g<n;g++){devhd.fn.callback(j,h,g,f)}};d.parallel=function(g,m,q){var l=null;var p=false;var f=m.length;function n(){if(p==true){return}f=f-1;if(f>0){if(q.earlyCompletion!=null){var i=q.earlyCompletion.call(g);if(i==true){p=true;
if(q.onComplete!=null){q.onComplete.call(g)}}}return}if(l){if(q.onError!=null){q.onError.call(g,l)}else{if(q.onComplete!=null){q.onComplete.call(g)}}}else{if(q.onComplete!=null){q.onComplete.call(g)}}}function h(i){l=i;n()}if(m.length<1){n();return}for(var j=0;j<m.length;j++){m[j].call(g,n,h)}};d.sequence=function(h,f,g){g=g||{};try{if(g.onStart!=null){g.onStart.call(h)
}c(h,f,0,function(){if(g.onSuccess!=null){g.onSuccess.call(h)}},g.onError,function(n,q,p,m,l,r){if(g.onProgress!=null){g.onProgress.call(h,n,q,p,m,l,r)}})}catch(i){var j=devhd.utils.ExceptionUtils.formatError("run sequence",i);$feedly("[FlowUtils][sequence]"+j+" -- "+f[0].toString());if(g.onError!=null){g.onError.call(h,-1,j)}}};function c(h,f,g,p,j,m){try{if(g>=f.length){p.call(h);
return}f[g].call(h,function(){c(h,f,g+1,p,j)},j,m)}catch(l){var n=devhd.utils.ExceptionUtils.formatError("run sequence",l);$feedly("[FlowUtils][sequence]"+n+" -- "+f[0].toString());if(j!=null){j.call(h,-1,n)}}}d.forEach=function(g,i,h,f){if(f==null){f={}}try{if(f.onStart!=null){f.onStart.call(g)}e(g,i,0,h,function(){if(f.onSuccess!=null){try{f.onSuccess.call(g)
}catch(m){$feedly("[FlowUtils][forEach] on success failed (1). "+m.name+" -- "+m.message+" -- "+f.onSuccess);console.trace()}}},f.onError,function(p,r,q,n,m,t){if(f.onProgress!=null){try{f.onProgress.call(g)}catch(s){$feedly("[FlowUtils][forEach] on progress failed. "+s.name+" -- "+s.message+" -- "+f.onProgress)}}})}catch(j){var l=devhd.utils.ExceptionUtils.formatError("run forEach",j);
$feedly("[FlowUtils][forEach]"+l+" -- "+h);if(f.onError!=null){try{f.onError.call(g,-1,l)}catch(j){$feedly("[FlowUtils][forEach] onError failed. "+j.name+" -- "+j.message+" -- "+f.onError)}}}};function e(f,n,j,h,p,l,q){try{if(j>=n.length){try{p.call(f)}catch(m){$feedly("[FlowUtils][forEach] on success failed (2). "+m.name+" -- "+m.message+" -- "+p);
console.trace()}return}h.call(f,n[j],j,function(){e(f,n,j+1,h,p,l,q)},l,q)}catch(m){var g=devhd.utils.ExceptionUtils.formatError("run forEach",m);$feedly("[FlowUtils][forEach]"+g+" -- "+h);if(l!=null){try{l.call(f,-1,g)}catch(m){$feedly("[FlowUtils][forEach] onError failed. "+m.name+" -- "+m.message+" -- "+l)}}}}return d}();a.DateUtils=function(){var d={};
d.isWeekEnd=function(){var e=new Date();return e.getDay()==0||e.getDay()==6};d.getMin=function(e){if(e==null||e.length==0){return null}return e.sort(function(g,f){g.getTime()-f.getTime()})[0]};d.create=function(e){if(typeof(e)=="string"){e=parseInt(e)}var f=new Date();f.setTime(e);return f};d.readISO8601=function(f){if(f==null){return null}var g="([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";
var i=f.match(new RegExp(g));var h=0;var e=new Date(i[1],0,1);if(i[3]){e.setMonth(i[3]-1)}if(i[5]){e.setDate(i[5])}if(i[7]){e.setHours(i[7])}if(i[8]){e.setMinutes(i[8])}if(i[10]){e.setSeconds(i[10])}if(i[12]){e.setMilliseconds(Number("0."+i[12])*1000)}if(i[14]){h=(Number(i[16])*60)+Number(i[17]);h*=((i[15]=="-")?1:-1)}h-=e.getTimezoneOffset();var j=new Date();
j.setTime(Number((Number(e)+(h*60*1000))));return j};d.writeISO8601=function(e,m,g){if(e==null){return null}if(!m){m=6}if(!g){var g="Z";var f=e}else{var j=g.match(/([-+])([0-9]{2}):([0-9]{2})/);var n=(Number(j[2])*60)+Number(j[3]);n*=((j[1]=="-")?-1:1);var f=new Date(Number(Number(this)+(n*60000)))}var h=function(p){return((p<10)?"0":"")+p};var l="";
l+=f.getUTCFullYear();if(m>1){l+="-"+h(f.getUTCMonth()+1)}if(m>2){l+="-"+h(f.getUTCDate())}if(m>3){l+="T"+h(f.getUTCHours())+":"+h(f.getUTCMinutes())}if(m>5){var i=Number(f.getUTCSeconds()+"."+((f.getUTCMilliseconds()<100)?"0":"")+h(f.getUTCMilliseconds()));l+=":"+h(i)}else{if(m>4){l+=":"+h(f.getUTCSeconds())}}if(m>3){l+=g}return l};d.readJSDate=function(e){return new Date(Date.parse(e))
};function c(){var e=new Date();e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}d.isDateToday=function(g){if(g==null){return false}var e=c();var f=new Date();f.setTime(e.getTime()+1000*60*60*24);return g.getTime()>e.getTime()&&g.getTime()<f.getTime()};d.isDateYesterday=function(g){var e=c();var f=new Date();f.setTime(e.getTime()-1000*60*60*24);
return g>f&&g<e};d.isDateWithinWeek=function(g){if(g==null){return false}var e=new Date();var f=new Date();f.setTime(e.getTime()-1000*60*60*24*7);return g>f&&g<e};d.getWeek=function(j){var h=0;var g=new Date(j.getFullYear(),0,1);var e=g.getDay()-h;e=(e>=0?e:e+7);var f=Math.floor((j.getTime()-g.getTime()-(j.getTimezoneOffset()-g.getTimezoneOffset())*60000)/86400000)+1;
var i;if(e<4){i=Math.floor((f+e-1)/7)+1;if(i>52){nYear=new Date(j.getFullYear()+1,0,1);nday=nYear.getDay()-h;nday=nday>=0?nday:nday+7;i=nday<4?1:53}}else{i=Math.floor((f+e-1)/7)}return i};return d}();a.Math=function(ah){var P={};P.bigInt2str=av;P.str2bigInt=aH;P.bitSize=aj;P.sub=aG;var v=0;var ag=0;var x=ag+1;var aK="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";
for(v=0;(1<<(v+1))>(1<<v);v++){}v>>=1;ag=(1<<v)-1;x=ag+1;var p=aD(1,1,1);var N=new Array(0);var ay=N;var n=N;var l=N;var j=N;var i=N;var h=N;var g=N;var f=N;var e=N;var ad=N;var aE=N;var ax=N;var y=N;var J=N;var K=N;var M=N;var ap=N;var ao=N;var am=N;var ak=N;var Z=N;var Y=N;var X=N;var au=N;var I=N;var G=N;var aq=N;var F=N;var aa=N;var Q=N;var aw=N;
var ac=N;var aM=N;var L=N;var aI=N;var V=N;var A=N;var O=N;var U=N;var R=N;var E=N;var D=N;var aA=N;function aj(t){var aP,aQ,T;for(aP=t.length-1;(t[aP]==0)&&(aP>0);aP--){}for(aQ=0,T=t[aP];T;(T>>=1),aQ++){}aQ+=v*aP;return aQ}function an(t,aP){var T=aD(0,(t.length>aP?t.length:aP)*v,0);ai(T,t);return T}function c(t,aP){var T=C(t);al(T,aP);return aF(T,1)
}function q(t,aP){var T=an(t,t.length+1);ae(T,aP);return aF(T,1)}function d(t,aP){var T=an(t,t.length+aP.length);aB(T,aP);return aF(T,1)}function aG(t,aP){var T=an(t,(t.length>aP.length?t.length+1:aP.length+1));aJ(T,aP);return aF(T,1)}function u(t,aP){var T=an(t,(t.length>aP.length?t.length+1:aP.length+1));ar(T,aP);return aF(T,1)}function aN(t,aQ){var T=an(t,aQ.length);
var aP;aP=inverseMod_(T,aQ);return aP?aF(T,1):null}function ab(t,aQ,aP){var T=an(t,aP.length);az(T,aQ,aP);return aF(T,1)}function r(t){return((t[t.length-1]>>(v-1))&1)}function aL(t,aQ){var T,aP=0;for(T=t.length-1;T>=0;T--){aP=(aP*x+t[T])%aQ}return aP}function aD(aQ,aR,aS){var aP,T;T=Math.ceil(aR/v)+1;T=aS>T?aS:T;var aT=new Array(T);w(aT,aQ);return aT
}function aH(aW,aP,T){var aT,aS,aR,aV,aU,t;var aQ=aW.length;if(aP==-1){aV=new Array(0);for(;;){aU=new Array(aV.length+1);for(aS=0;aS<aV.length;aS++){aU[aS+1]=aV[aS]}aU[0]=parseInt(aW,10);aV=aU;aT=aW.indexOf(",",0);if(aT<1){break}aW=aW.substring(aT+1);if(aW.length==0){break}}if(aV.length<T){aU=new Array(T);ai(aU,aV);return aU}return aV}aV=aD(0,aP*aQ,0);
for(aS=0;aS<aQ;aS++){aT=aK.indexOf(aW.substring(aS,aS+1),0);if(aP<=36&&aT>=36){aT-=26}if(aT<aP&&aT>=0){m(aV,aP);ae(aV,aT)}}for(aQ=aV.length;aQ>0&&!aV[aQ-1];aQ--){}aQ=T>aQ+1?T:aQ+1;aU=new Array(aQ);t=aQ<aV.length?aQ:aV.length;for(aS=0;aS<t;aS++){aU[aS]=aV[aS]}for(;aS<aQ;aS++){aU[aS]=0}return aU}function aC(t){var T;for(T=0;T<t.length;T++){if(t[T]){return 0
}}return 1}function av(T,aS){var aQ,aP,aR="";if(f.length!=T.length){f=C(T)}else{ai(f,T)}if(aS==-1){for(aQ=T.length-1;aQ>0;aQ--){aR+=T[aQ]+","}aR+=T[0]}else{while(!aC(f)){aP=S(f,aS);aR=aK.substring(aP,aP+1)+aR}}if(aR.length==0){aR="0"}return aR}function C(t){var T;var aP=new Array(t.length);ai(aP,t);return aP}function ai(t,aQ){var aP;var T=t.length<aQ.length?t.length:aQ.length;
for(aP=0;aP<T;aP++){t[aP]=aQ[aP]}for(aP=T;aP<t.length;aP++){t[aP]=0}}function w(t,aQ){var T,aP;for(aP=aQ,T=0;T<t.length;T++){t[T]=aP&ag;aP>>=v}}function ae(T,aS){var aQ,aP,aR,t;T[0]+=aS;aP=T.length;aR=0;for(aQ=0;aQ<aP;aQ++){aR+=T[aQ];t=0;if(aR<0){t=-(aR>>v);aR+=t*x}T[aQ]=aR&ag;aR=(aR>>v)-t;if(!aR){return}}}function z(t,aQ){var aP;var T=Math.floor(aQ/v);
if(T){for(aP=0;aP<t.length-T;aP++){t[aP]=t[aP+T]}for(;aP<t.length;aP++){t[aP]=0}aQ%=v}for(aP=0;aP<t.length-1;aP++){t[aP]=ag&((t[aP+1]<<(v-aQ))|(t[aP]>>aQ))}t[aP]>>=aQ}function s(t){var T;for(T=0;T<t.length-1;T++){t[T]=ag&((t[T+1]<<(v-1))|(t[T]>>1))}t[T]=(t[T]>>1)|(t[T]&(x>>1))}function aO(t,aQ){var aP;var T=Math.floor(aQ/v);if(T){for(aP=t.length;aP>=T;
aP--){t[aP]=t[aP-T]}for(;aP>=0;aP--){t[aP]=0}aQ%=v}if(!aQ){return}for(aP=t.length-1;aP>0;aP--){t[aP]=ag&((t[aP]<<aQ)|(t[aP-1]>>(v-aQ)))}t[aP]=ag&(t[aP]<<aQ)}function m(T,aS){var aQ,aP,aR,t;if(!aS){return}aP=T.length;aR=0;for(aQ=0;aQ<aP;aQ++){aR+=T[aQ]*aS;t=0;if(aR<0){t=-(aR>>v);aR+=t*x}T[aQ]=aR&ag;aR=(aR>>v)-t}}function S(t,aR){var T,aQ=0,aP;for(T=t.length-1;
T>=0;T--){aP=aQ*x+t[T];t[T]=Math.floor(aP/aR);aQ=aP%aR}return aQ}function B(T,aU,aP,t){var aR,aT,aQ,aS;aQ=T.length<aU.length?T.length:aU.length;aS=T.length;for(aT=0,aR=0;aR<aQ;aR++){aT+=aP*T[aR]+t*aU[aR];T[aR]=aT&ag;aT>>=v}for(aR=aQ;aR<aS;aR++){aT+=aP*T[aR];T[aR]=aT&ag;aT>>=v}}function af(T,aU,t,aR){var aQ,aT,aP,aS;aP=T.length<aR+aU.length?T.length:aR+aU.length;
aS=T.length;for(aT=0,aQ=aR;aQ<aP;aQ++){aT+=T[aQ]+t*aU[aQ-aR];T[aQ]=aT&ag;aT>>=v}for(aQ=aP;aT&&aQ<aS;aQ++){aT+=T[aQ];T[aQ]=aT&ag;aT>>=v}}function aJ(t,aS){var aP,aR,T,aQ;T=t.length<aS.length?t.length:aS.length;for(aR=0,aP=0;aP<T;aP++){aR+=t[aP]-aS[aP];t[aP]=aR&ag;aR>>=v}for(aP=T;aR&&aP<t.length;aP++){aR+=t[aP];t[aP]=aR&ag;aR>>=v}}function ar(t,aS){var aP,aR,T,aQ;
T=t.length<aS.length?t.length:aS.length;for(aR=0,aP=0;aP<T;aP++){aR+=t[aP]+aS[aP];t[aP]=aR&ag;aR>>=v}for(aP=T;aR&&aP<t.length;aP++){aR+=t[aP];t[aP]=aR&ag;aR>>=v}}function aB(t,aP){var T;if(ay.length!=2*t.length){ay=new Array(2*t.length)}w(ay,0);for(T=0;T<aP.length;T++){if(aP[T]){af(ay,t,aP[T],T)}}ai(t,ay)}function al(t,T){if(h.length!=t.length){h=C(t)
}else{ai(h,t)}if(g.length!=t.length){g=C(t)}divide_(h,T,g,t)}function az(t,aQ,aP){var T;if(n.length!=2*t.length){n=new Array(2*t.length)}w(n,0);for(T=0;T<aQ.length;T++){if(aQ[T]){af(n,t,aQ[T],T)}}al(n,aP);ai(t,n)}function at(aU,t){var aQ,aP,aS,aT,aR,aV,T;for(aR=aU.length;aR>0&&!aU[aR-1];aR--){}T=aR>t.length?2*aR:2*t.length;if(n.length!=T){n=new Array(T)
}w(n,0);for(aQ=0;aQ<aR;aQ++){aT=n[2*aQ]+aU[aQ]*aU[aQ];n[2*aQ]=aT&ag;aT>>=v;for(aP=aQ+1;aP<aR;aP++){aT=n[aQ+aP]+2*aU[aQ]*aU[aP]+aT;n[aQ+aP]=(aT&ag);aT>>=v}n[aQ+aR]=aT}al(n,t);ai(aU,n)}function aF(t,T){var aP,aQ;for(aP=t.length;aP>0&&!t[aP-1];aP--){}aQ=new Array(aP+T);ai(aQ,t);return aQ}return P}()})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.app.js");
templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.app=templates.mobile.app||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.app;function g(m){var l=arguments,j;for(j=1;j<l.length;j++){m.push(l[j])}}function d(j){try{if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j
}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.layout=function(){var j=[];g(j,e[0]);if(TABLET()){g(j,i.tabletFooter())}else{g(j,i.footer())}g(j,i.shelf());g(j,i.locator());g(j,e[1]);return j.join(f)};i.locator=function(){var j=[];g(j,e[2]);return j.join(f)};i.shelf=function(){var j=[];g(j,e[3]);g(j,templates.mobile.activitySign("Loading updates"));
g(j,e[4]);return j.join(f)};i.footer=function(){var j=[];g(j,e[5],NAVIGATION_BAR,e[6],2*NAVIGATION_BAR,e[7],NAVIGATION_BAR,e[6],NAVIGATION_BAR,e[8]);return j.join(f)};i.tabletFooter=function(){var j=[];g(j,e[9],OUTER,e[10],OUTER,e[11],NAVIGATION_BAR,e[12]);return j.join(f)};e=[' \n<div id="gallery" style="overflow:hidden; width:100%"> \n',"\n</div> \n",' \n<div id="locator"><div id="cursor"></div></div> \n<div id="where" style="visibility:hidden"></div> \n',' \n<div id="shelf"> \n<div id="card0" class="card"> \n','\n</div> \n<div id="card1" class="card" style="display:none"> \n</div> \n<div id="card2" class="card" style="display:none"> \n</div> \n</div> \n',' \n<div id="footer"> \n<div style="float:left; height: ',"px; width:",'px"> \n<div id="home" data-app-action="showSelector" data-app-action-hint="Home" class="toolbarIcon touchable"></div> \n</div> \n<div id="status" style="float:left"></div> \n<div style="float:left; height: ','px; overflow:hidden"> \n<div id="wrench" data-app-action="showFeedOptions" data-app-action-hint="Options" class="toolbarIcon touchable" style="display:none"></div> \n<div id="markAsRead" data-app-action="handleMarkEditoAsRead" data-app-action-hint="Mark as read" class="toolbarIcon touchable" style="display:none"><div id="markAsReadCount"></div></div> \n<div id="add" data-app-action="askFollowCurrentFeed" data-app-action-hint="Follow" class="toolbarIcon touchable" style="display:none"></div> \n<div id="refresh" data-app-action="refresh" data-app-action-hint="Refresh" class="toolbarIcon touchable" style="display:none"></div> \n</div> \n<div id="store" data-app-action="showStore" data-app-action-hint="Explore" class="toolbarIcon touchable" style="float:left"></div> \n</div> \n',' \n<div id="footer"> \n<div style="padding-left:',"px; padding-right:",'px"> \n<div style="float:right; height: ','px; overflow:hidden"> \n<div id="add" data-app-action="askFollowCurrentFeed" data-app-action-hint="Follow" class="toolbarButton touchable" style="display:none">Follow</div> \n<div id="wrench" data-app-action="showFeedOptions" data-app-action-hint="Customize" class="toolbarIcon touchable" style="display:none"></div> \n</div> \n<div id="status" style="float:left"></div> \n</div> \n</div> \n']
})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.font.js");templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.font=templates.mobile.font||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.font;function g(m){var l=arguments,j;for(j=1;j<l.length;j++){m.push(l[j])}}function d(j){try{if(j==null){return""
}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.faces_system=function(){var j=[];if(ANDROID()){g(j,e[0])}return j.join(f)};i.faces_dinwebpro=function(){var j=[];g(j,e[1]);return j.join(f)};i.faces_ptserif=function(){var j=[];g(j,e[2]);return j.join(f)};i.faces_lora=function(){var j=[];g(j,e[3]);return j.join(f)
};i.faces_slabserif=function(){var j=[];g(j,e[4]);return j.join(f)};e=[' @font-face { \nfont-family : "Roboto"; \nfont-weight : 300; \nfont-style : normal; \nsrc : local( "sans-serif-light" ); \n} \n'," \n@font-face \n{ \nfont-family : 'DINWebPro-CondensedMedium'; \nsrc : url( 'fonts/DINCompPro-MediumCondensed.ttf' ) format( 'truetype' ); \nfont-weight : normal; \nfont-style : normal; \n} \n"," \n@font-face \n{ \nfont-family : 'PT Serif'; \nsrc : url( 'fonts/PT_Serif-Web-Regular.ttf' ) format( 'truetype' ); \nfont-weight : normal; \nfont-style : normal; \n} \n@font-face \n{ \nfont-family : 'PT Serif'; \nsrc : url( 'fonts/PT_Serif-Web-Italic.ttf' ) format( 'truetype' ); \nfont-weight : normal; \nfont-style : italic; \n} \n@font-face \n{ \nfont-family : 'PT Serif'; \nsrc : url( 'fonts/PT_Serif-Web-Bold.ttf' ) format( 'truetype' ); \nfont-weight : bold; \nfont-style : normal; \n} \n@font-face \n{ \nfont-family : 'PT Serif'; \nsrc : url( 'fonts/PT_Serif-Web-BoldItalic.ttf' ) format( 'truetype' ); \nfont-weight : bold; \nfont-style : italic; \n} \n"," \n@font-face \n{ \nfont-family : 'Lora'; \nsrc : url( 'fonts/Lora-Regular.ttf' ) format( 'truetype' ); \nfont-weight : normal; \nfont-style : normal; \n} \n@font-face \n{ \nfont-family : 'Lora'; \nsrc : url( 'fonts/Lora-Italic.ttf' ) format( 'truetype' ); \nfont-weight : normal; \nfont-style : italic; \n} \n@font-face \n{ \nfont-family : 'Lora'; \nsrc : url( 'fonts/Lora-Bold.ttf' ) format( 'truetype' ); \nfont-weight : bold; \nfont-style : normal; \n} \n@font-face \n{ \nfont-family : 'Lora'; \nsrc : url( 'fonts/Lora-BoldItalic.ttf' ) format( 'truetype' ); \nfont-weight : bold; \nfont-style : italic; \n} \n"," \n@font-face \n{ \nfont-family : 'Slab Serif'; \nsrc : url( 'fonts/GuardianTextEgyp-Regular-Web.ttf' ) format( 'truetype' ); \nfont-weight : normal; \nfont-style : normal; \n} \n@font-face \n{ \nfont-family : 'Slab Serif'; \nsrc : url( 'fonts/GuardianTextEgyp-RegularIt-Web.ttf' ) format( 'truetype' ); \nfont-weight : normal; \nfont-style : italic; \n} \n@font-face \n{ \nfont-family : 'Slab Serif'; \nsrc : url( 'fonts/GuardianTextEgyp-Bold-Web.ttf' ) format( 'truetype' ); \nfont-weight : bold; \nfont-style : normal; \n} \n@font-face \n{ \nfont-family : 'Slab Serif'; \nsrc : url( 'fonts/GuardianTextEgyp-BoldIt-Web.ttf' ) format( 'truetype' ); \nfont-weight : bold; \nfont-style : italic; \n} \n"]
})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.css.js");templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.css=templates.mobile.css||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.css;function g(m){var l=arguments,j;for(j=1;j<l.length;j++){m.push(l[j])}}function d(j){try{if(j==null){return""
}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.base=function(C){var P=[];g(P,e[0],faces("system"),e[0],faces("tall"),e[1],family("regular"),e[2],feedlyTheme.back,e[3],H,e[4],W,e[5],feedlyTheme.meta,e[6],feedlyTheme.meta,e[7]);var v,K;switch(AD){case 1:v=14;K=9;break;case 2:v=16;K=11;break;case 4:default:v=18;
K=13}g(P,e[8],Math.floor(H/7)-20,e[9],Math.floor((W-90)/2),e[10],Math.floor(H/7)-20,e[9],Math.floor((W-70)/2),e[11]);var z,A,u,x;switch(AD){case 1:z=24;A=16;u=9;x=42;break;case 2:z=28;A=18;u=14;x=54;break;case 4:default:z=30;A=18;u=18;x=60}g(P,e[12],OUTER,e[13],-OUTER,e[14],-OUTER,e[15],-OUTER,e[16],W,e[17],H-NAVIGATION_BAR,e[18],FEEDLY_GREEN,e[19],feedlyTheme.teal,e[20],feedlyTheme.unread,e[21],FEEDLY_GREEN,e[22],FEEDLY_GREEN,e[23],PALETTE[2],e[24],PALETTE[4],e[25],family("tall"),e[26],Math.floor((SH()-30)*0.2),e[27],OUTER,e[28],OUTER,e[29],LETTER_SPACING,e[30],z,e[31],family("header"),e[32],Math.floor((SH()-100)*0.5),e[33],OUTER,e[14],OUTER,e[34],A,e[35],OUTER,e[14],OUTER,e[36],feedlyTheme.meta,e[37]);
var D,F,L;switch(AD){case 1:D=24;F=14;L=16;break;case 2:D=28;F=15;L=17;break;case 4:default:D=32;F=16;L=18}var q=0;var r=Math.floor(SH()*(ORIENTATION()=="landscape"?(AD==1?0.45:0.5):0.55));if(r<70){r=0}if(r>300){q=r-300;r=300}var p=r>0?r-60:0;var j=Math.min(W-4*OUTER,380);g(P,e[38],OUTER,e[13],-OUTER,e[14],-OUTER,e[15],-OUTER,e[16],W,e[17],H-NAVIGATION_BAR,e[18],FEEDLY_GREEN,e[39],PALETTE[4],e[40],FEEDLY_GREEN,e[41],FEEDLY_GREEN,e[42],feedlyTheme.teal,e[43],PALETTE[2],e[44],3*OUTER,e[15],q,e[45],OUTER,e[13],3*OUTER,e[14],3*OUTER,e[17],r,e[46],r>0?"block":"none",e[47],p,e[48],r>0?2*OUTER:Math.floor((SH()-30)*0.2),e[49],Math.min(W-4*OUTER,380),e[50],LETTER_SPACING,e[30],D,e[51],family("header"),e[52],F,e[53],Math.min(W-4*OUTER,380),e[54],L,e[55],Math.min(W-4*OUTER,380),e[15],2*OUTER,e[56]);
var l,N,n;switch(AD){case 1:l=24;N=14;n=16;break;case 2:l=28;N=15;n=17;break;case 4:default:l=32;N=16;n=18}var q=0;var r=Math.floor(SH()*(ORIENTATION()=="landscape"?(AD==1?0.45:0.5):0.55));if(r<120){r=0}if(r>300){q=r-300;r=300}var p=r>0?r-60:0;if(SH()==504){q=0;p=265}var E=Math.min(W-4*OUTER,380);g(P,e[57],OUTER,e[13],-OUTER,e[14],-OUTER,e[15],-OUTER,e[16],W,e[17],H-NAVIGATION_BAR,e[58],feedlyTheme.copy,e[59],feedlyTheme.back,e[60],3*OUTER,e[15],q,e[45],2*OUTER,e[17],r,e[46],r>0?"block":"none",e[61],p,e[62],r>0?2*OUTER:Math.floor((SH()-30)*0.2),e[49],Math.min(W-4*OUTER,380),e[50],LETTER_SPACING,e[30],l,e[51],family("header"),e[63],N,e[53],Math.min(W-4*OUTER,380),e[64],feedlyTheme.accent,e[65],n,e[55],Math.min(W-4*OUTER,380),e[15],2*OUTER,e[66],n,e[67],Math.min(W-4*OUTER,380),e[15],2*OUTER,e[68]);
var m,w,B;switch(AD){case 1:m=24;w=14;B=16;break;case 2:m=28;w=15;B=17;break;case 4:default:m=32;w=16;B=18}var q=0;var r=Math.floor(SH()*(ORIENTATION()=="landscape"?(AD==1?0.45:0.5):0.55));if(r<70){r=0}if(r>300){q=r-300;r=300}var p=r>0?r-60:0;var E=Math.min(W-4*OUTER,380);g(P,e[69],OUTER,e[13],-OUTER,e[14],-OUTER,e[15],-OUTER,e[16],W,e[17],H-NAVIGATION_BAR,e[58],feedlyTheme.copy,e[59],feedlyTheme.back,e[70],3*OUTER,e[15],q,e[45],OUTER,e[13],3*OUTER,e[14],3*OUTER,e[17],r,e[46],r>0?"block":"none",e[71],p,e[72],r>0?2*OUTER:Math.floor((SH()-30)*0.2),e[49],Math.min(W-4*OUTER,380),e[50],LETTER_SPACING,e[30],m,e[51],family("header"),e[73],w,e[53],Math.min(W-4*OUTER,380),e[74],feedlyTheme.accent,e[65],B,e[55],Math.min(W-4*OUTER,380),e[15],2*OUTER,e[75],feedlyTheme.secondary,e[58],feedlyTheme.secondary_text,e[76],B,e[67],Math.min(W-4*OUTER,380),e[15],2*OUTER,e[77]);
var t=Math.min(Math.floor((W-6*PAD)/3),80);var G=H>=548?20:5;g(P,e[78],m+6,e[45],G,e[79],t,e[80],3*t,e[81]);var O,s,J;switch(AD){case 1:O=24;s=17;break;case 2:O=28;s=18;break;case 4:default:O=32;s=20}var M=Math.min(W-4*OUTER,380);g(P,e[82],OUTER,e[13],-OUTER,e[14],-OUTER,e[15],-OUTER,e[16],W,e[17],H-NAVIGATION_BAR,e[18],feedlyTheme.announcement,e[83],r>0?2*OUTER:Math.floor((SH()-30)*0.2),e[49],M,e[50],LETTER_SPACING,e[30],O,e[51],family("header"),e[84],s,e[85],M,e[86],3*OUTER,e[13],3*OUTER,e[14],3*OUTER,e[87]);
var y,I;switch(AD){case 1:y=20;I=16;break;case 2:y=24;I=16;break;case 4:default:y=24;I=16}g(P,e[88],OUTER,e[13],-OUTER,e[14],-OUTER,e[15],-OUTER,e[16],W,e[17],H-NAVIGATION_BAR,e[89],usvg("mobile-unpack-explore-arrow"),e[90],LETTER_SPACING,e[30],y,e[91],Math.floor(1.2*y),e[51],family("header"),e[92],I,e[91],Math.floor(1.2*y),e[93],feedlyTheme.bu_color,e[94],feedlyTheme.bu_back,e[95],feedlyTheme.bu_color_disabled,e[96],feedlyTheme.bu_back_touched,e[97],feedlyTheme.ma_text,e[98],feedlyTheme.pb_back,e[99],NAVIGATION_BAR,e[100],W,e[17],H-NAVIGATION_BAR,e[101],feedlyTheme["shelf_back_"+NAVIGATION()],e[102],feedlyTheme.back,e[103],LINE_HEIGHT,e[104],OUTER,e[105],OUTER,e[106],feedlyTheme.back,e[107],(NAVIGATION_BAR-16-1-1)/2,e[108],NAVIGATION_BAR,e[109],NAVIGATION()=="stack"?"block":"none",e[59],feedlyTheme.where,e[110],OUTER,e[14],OUTER,e[16],W-2*OUTER,e[111],feedlyTheme.lb_border,e[112],Math.ceil(((OUTER+LOCATOR-1)/2)),e[113],NAVIGATION()=="swipe"?"block":"none",e[114],feedlyTheme.lb_cursor,e[115],NAVIGATION_BAR-1,e[116],feedlyTheme.lb_border,e[59],feedlyTheme.lb_back,e[117],feedlyTheme.lb_text,e[103],NAVIGATION_BAR,e[17],NAVIGATION_BAR,e[16],W-4*NAVIGATION_BAR,e[118]);
if(IOS_7PLUS()){g(P,e[119])}else{g(P,e[120])}g(P,e[121],family("footer"),e[122],family("header"),e[123],W-2*OUTER-150,e[124],(NAVIGATION_BAR==60?11:9),e[125],(NAVIGATION_BAR==60?34:24),e[91],(NAVIGATION_BAR==60?42:28),e[126],(NAVIGATION_BAR-TOOLBAR_ICON)/2,e[127],(NAVIGATION_BAR-TOOLBAR_ICON)/2,e[128],TOOLBAR_ICON,e[129],TOOLBAR_ICON,e[130],NAVIGATION_BAR,e[17],NAVIGATION_BAR,e[51]);
if(SVG()){g(P,e[131])}g(P,e[132],svg(themable("mobile-icon-home")),e[133],svg(themable("mobile-icon-store")),e[134],svg(themable("mobile-icon-follow")),e[135],feedlyTheme.accent,e[136],Math.floor((NAVIGATION_BAR-36)/2),e[137],svg(themable("mobile-icon-customize")),e[138],usvg(themable("mobile-icon-markasread")),e[139],svg(themable("mobile-icon-refresh")),e[140],LINE_HEIGHT,e[141],PAD,e[142],-PAD+8,e[14],-PAD+8,e[45],-PAD,e[143],PAD,e[144],feedlyTheme.pu_back,e[58],feedlyTheme.pu_color,e[145],NAVIGATION_BAR+10,e[146],LIST_BAR,e[105],LIST_BAR,e[147],LIST_BAR==60?18:14,e[148],feedlyTheme.pu_separator,e[149],feedlyTheme.pu_separator_last,e[150],feedlyTheme.accent,e[151],LINE_HEIGHT,e[152],LINE_HEIGHT,e[153],feedlyTheme.se_meta,e[154],feedlyTheme.showcased,e[155],feedlyTheme.highlight,e[156],feedlyTheme.etiquette,e[157],ANDROID()?1:3,e[158],family("tall"),e[159],LETTER_SPACING,e[160],family("header"),e[161]);
if(ANDROID()==false&&AD==1){g(P,e[162])}g(P,e[163],feedlyTheme.unread,e[164],feedlyTheme.read,e[165],feedlyTheme.unread,e[166],THEME()=="black"?0.73:1,e[167],feedlyTheme.placeholder,e[168],feedlyTheme.summary,e[169],feedlyTheme.summary2,e[170],feedlyTheme.meta,e[171],family("regular"),e[172],feedlyTheme.meta2,e[173],feedlyTheme.engagement,e[174],feedlyTheme.hot,e[175],svg(themable("mobile-icon-saved-h11")),e[176],AD==2?"3px":"center",e[177],svg("mobile-icon-saved-h11-vignette"),e[178],svg(themable("mobile-icon-saved-h10")),e[179],AD==2?"2px":"center",e[180],svg("mobile-icon-saved-h11-vignette"),e[181],svg(themable("mobile-icon-saved-h10")),e[179],AD==2?"2px":"center",e[182],svg("mobile-icon-saved-h10-vignette"),e[183],svg(themable("mobile-icon-saved-h10")),e[184],svg("mobile-icon-saved-h10-vignette"),e[185],NAVIGATION_BAR==60?16:14,e[186],feedlyTheme.meta,e[187],FEEDLY_GREEN,e[188],PAD,e[105],PAD,e[28],PAD,e[189],60,e[190],usvg("mobile-login-google"),e[191],usvg("mobile-login-facebook"),e[192],-OUTER,e[13],-OUTER,e[17],CH(1,1,0,0)+2*OUTER,e[193],OUTER,e[4],W-2*OUTER,e[194],ANDROID()?1:3,e[195],family("tall"),e[196],LETTER_SPACING,e[197],family("header"),e[198],PAD,e[45],PAD,e[199],Math.floor((W-3*OUTER)/2),e[200],usvg("mobile-rating-1out10"),e[201],usvg("mobile-rating-2out10"),e[202],usvg("mobile-rating-3out10"),e[203],usvg("mobile-rating-4out10"),e[204],usvg("mobile-rating-5out10"),e[205],usvg("mobile-rating-6out10"),e[206],usvg("mobile-rating-7out10"),e[207],usvg("mobile-rating-8out10"),e[208],usvg("mobile-rating-9out10"),e[209],usvg("mobile-rating-10out10"),e[210],W>600?210:210,e[211],H-NAVIGATION_BAR-210-180>OUTER?Math.floor((H-NAVIGATION_BAR-210-180)/2):OUTER,e[212],AD==1?34:39,e[213],LETTER_SPACING,e[214]);
return P.join(f)};e=[" \n"," \nbody \n{ \n"," \nbackground-color : ","; \nmargin : 0px; \nborder : 0px; \nheight : ","; \nwidth : ","; \noverflow : hidden; \n-webkit-touch-callout : none; \n-webkit-user-select : none; \n-webkit-tap-highlight-color : rgba( 0, 0, 0, 0 ); \n-webkit-text-size-adjust : none; \n} \n* \n{ \n-webkit-tap-highlight-color : rgba( 0, 0, 0, 0 ); \n-webkit-user-select : none; \n} \ninput, textarea \n{ \n-webkit-user-select : text; \n} \n#initialSign \n{ \ncolor : ","; \n} \n#activityHint \n{ \ncolor : ","; \n} \n.touchable \n{ \ntext-decoration : none; \ncolor : inherit; \ndisplay : block; \n} \n.touchable a \n{ \ntext-decoration : none; \ncolor : inherit; \n} \n","\n#swipeHelper \n{ \nbackground : url( images/mobile-hint-swipe-left@2x.png ) no-repeat center center; \n-webkit-background-size : 90px 70px; \nbackground-size : 90px 70px; \nposition : absolute; \nwidth : 90px; \nheight : 70px; \nbottom : ","px; \nright : ","px; \nopacity : 0.35; \n} \n#scrollHelper \n{ \nbackground : url( images/mobile-hint-swipe-up@2x.png ) no-repeat center center; \n-webkit-background-size : 70px 90px; \nbackground-size : 70px 90px; \nposition : absolute; \nwidth : 70px; \nheight : 90px; \nbottom : ","px; \nopacity : 0.35; \n} \n","\n.help \n{ \nadding-top : ","px; \nmargin-left : ","px; \nmargin-right : ","px; \nmargin-top : ","px; \nwidth : ","px; \nheight : ","; \ncolor : #FFFFFF; \nbackground-color : ","; \n} \n.help.teal \n{ \nbackground-color : ","; \n} \n.help.gray \n{ \nbackground-color : rgba( 102, 102, 102 ); \n} \n.help.end \n{ \nbackground-color : inherit; \ncolor : ","; \n} \n.help.blue \n{ \nbackground-color : ","; \n} \n.help.green \n{ \nbackground-color : ","; \n} \n.help.purple \n{ \nbackground-color : ","; \n} \n.help.orange \n{ \nbackground-color : ","; \n} \n.help .metadata \n{ \nfont-size : 14px; \nline-height : 20px; \ncolor : rgba( 255, 255, 255, 0.7 ); \n} \n.help .hint \n{ \nmargin-left : auto; \nmargin-right : auto; \nmargin-bottom : 1em; \ndisplay : inline-block; \npadding : 6px; \npadding-bottom : 4px; \nfont-size : 13px; \ntext-transform : uppercase; \ncolor : rgba( 255, 255, 255, 0.6 ); \nline-height : 1em; \nbackground-color : rgba( 0, 0, 0, 0.4 ); \nletter-spacing : 0em; \n"," \n} \n.help .header \n{ \npadding-top : ","; \npadding-left : ","px; \npadding-right : ","px; \nline-height : 1.3em; \ntext-decoration : none; \ntext-overflow : ellipsis; \nfont-weight : 700; \nletter-spacing : ","; \nfont-size : ","px; \ntext-align : center; \n"," \n} \n.help.end .header \n{ \nfloat : left; \nmargin-top : ","; \nmargin-left : ","px; \nline-height : 1em; \nfont-size : 22px; \n} \n.help .description \n{ \nfont-size : ","px; \nline-height : 1.5em; \nopacity : 0.85; \nclear : both; \ntext-align : center; \npadding-top : 1em; \nmargin-left : ","px; \n} \n.help.end .description \n{ \nfont-size : 16px; \ncolor : ","; \n} \n#thing_ \n{ \nborder-bottom : 1px dotted #DDD; \nfont-weight : bold; \ncolor : #FFF; \n} \n/****************************************************************** \n* ANNOUNCEMENT \n******************************************************************/ \n","\n.announcement \n{ \npadding-top : ","; \n-webkit-transition : background-color 0.35s linear; \n} \n.announcement.orange \n{ \nbackground-color : ","; \n} \n.announcement.blue \n{ \nbackground-color : ","; \n} \n.announcement.green \n{ \nbackground-color : ","; \n} \n.announcement.gray \n{ \nbackground-color : #666666; \n} \n.announcement.teal \n{ \nbackground-color : ","; \n} \n.announcement.red \n{ \nbackground-color : #a7001b; \n} \n.announcement.purple \n{ \nbackground-color : ","; \n} \n.announcement.darkgray \n{ \nbackground-color : #383838; \n} \n.announcement .container \n{ \n-webkit-transition : opacity 0.35s linear; \n} \n.announcement .illustration \n{ \nmargin : ","px; \nmargin-bottom : ","px; \nbackground-repeat : no-repeat; \nbackground-position : bottom, center; \n-webkit-background-size : contain; \nbackground-size : contain; \ndisplay : ","; \n} \n.announcement.buttonable .illustration \n{ \nheight : ","px; \n} \n.announcement .header \n{ \nmargin-top : ","px; \nmargin-left : auto; \nmargin-right : auto; \nmax-width : ","px; \nline-height : 1.3em; \ntext-align : center; \ntext-decoration : none; \ntext-overflow : ellipsis; \nfont-weight : 700; \nletter-spacing : ","px; \n"," \n} \n.announcement .description \n{ \nfont-size : ","px; \nmargin-top : 0.8em; \nmargin-left : auto; \nmargin-right : auto; \nmax-width : ","px; \nline-height : 1.5em; \nclear : both; \nopacity : 0.70; \ntext-align : center; \n} \n.announcement .cfa \n{ \nbackground-color : rgba( 0, 0, 0, 0.3 ); \nheight : 60px; \nline-height : 60px; \ntext-align : center; \nfont-size : ","px; \nborder-radius : 4px; \ncolor : #FFFFFF; \nmax-width : ","px; \nmargin-left : auto; \nmargin-right : auto; \n} \n/****************************************************************** \n* PLEASE \n******************************************************************/ \n","\n.please \n{ \npadding-top : ","; \ncolor : ","; \nbackground-color : ","; \n-webkit-transition : background-color 0.35s linear; \n} \n.please .container \n{ \n-webkit-transition : opacity 0.35s linear; \n} \n.please .illustration \n{ \nmargin : ","; \n} \n.please.buttonable .illustration \n{ \nheight : ","px; \n} \n.please .header \n{ \nmargin-top : "," \n} \n.please .description \n{ \nfont-size : ","px; \nline-height : 1.5em; \nclear : both; \nopacity : 0.70; \ntext-align : center; \n} \n.please .cfa \n{ \nbackground-color : ","; \nheight : 60px; \nline-height : 60px; \ntext-align : center; \nfont-size : ","px; \nmargin-left : auto; \nmargin-right : auto; \n} \n.please .secondary \n{ \nfont-size : ","px; \nmax-width : ","px; \nmargin-left : auto; \nmargin-right : auto; \n} \n/****************************************************************** \n* MONSTER \n******************************************************************/ \n","\n.monster \n{ \npadding-top : ","; \n-webkit-transition : background-color 0.35s linear; \n} \n.monster .container \n{ \n-webkit-transition : opacity 0.35s linear; \n} \n.monster .illustration \n{ \nmargin : ","; \n} \n.monster.buttonable .illustration \n{ \nheight : ","px; \n} \n.monster .header \n{ \nmargin-top : "," \n} \n.monster .description \n{ \nfont-size : ","px; \nline-height : 1.5em; \nclear : both; \nopacity : 0.70; \ntext-align : center; \n} \n.monster .cfa \n{ \nbackground-color : ","px; \nmargin-left : auto; \nmargin-right : auto; \n} \n.secondary \n{ \nborder : 1px solid ","; \nborder-radius : 4px; \ntext-align : center; \nheight : 60px; \nline-height : 60px; \n} \n.monster .secondary \n{ \nfont-size : ","px; \nmargin-left : auto; \nmargin-right : auto; \n} \n","\n#markasread_monster_header \n{ \nfont-size : ","px; \n} \n.statCell \n{ \nwidth : ","px; \nfloat : left; \n} \n.statNumber \n{ \nfont-size : 22px; \ntext-align : center; \nline-height : 1.2em; \n} \n.statLabel \n{ \nfont-size : 12px; \ntext-align : center; \nline-height : 1.2em; \n} \n#markasread_monster_stats \n{ \nwidth : ","px; \nmargin-left : auto; \nmargin-right : auto; \nmargin-bottom : 40px; \n} \n/****************************************************************** \n* TUTORIAL \n******************************************************************/ \n","\n.tutorial \n{ \npadding-top : ","; \n} \n.tutorial .header \n{ \nmargin-top : "," \n} \n.tutorial .description \n{ \nfont-size : ","px; \nmargin-top : 0.5em; \nmargin-left : auto; \nmargin-right : auto; \nmax-width : ","px; \nline-height : 1.5em; \nclear : both; \nopacity : 0.40; \ntext-align : center; \n} \n.tutorial .illustration \n{ \nmargin-top : ","px; \nbackground-repeat : no-repeat; \nbackground-position : top, center; \n-webkit-background-size : contain; \nbackground-size : contain; \nheight : 600px; \n} \n/*** GETTING STARTED ***/ \n","\n.gettingStarted \n{ \npadding-top : ","; \ncolor : #FFF; \nbackground-color : #3E9950; \n} \n#exploreMessage \n{ \nbackground-image : url( "," ); \nbackground-position : right top; \nbackground-size : 71px 61px; \nbackground-repeat : no-repeat; \nposition : absolute; \ntop : 0px; \nright : -10px; \npadding-right : 70px; \npadding-top : 20px; \n} \n.gettingStarted .hintHeader \n{ \nfont-weight : 700; \nletter-spacing : ","px; \nline-height : "," \n} \n.gettingStarted .hintDescription \n{ \nfont-size : ","px; \nopacity : 0.65; \nclear : both; \n} \n.button \n{ \nfont-size : 16px; \nline-height : 60px; \npadding-left : 24px; \npadding-right : 24px; \nfont-weight : bold; \nborder-radius : 3px; \ncolor : ","; \nmargin : 0px; \nmargin-top : 6px; \n-webkit-appearance : none; \nbackground : ","; \ntext-align : center; \n} \n.button.disabled \n{ \ncolor : ","; \n} \n.button.touched \n{ \nbackground : none; \nbackground-color : ","; \n} \n.connector \n{ \nmargin-bottom : 1em; \ncolor : ","; \n} \n#progressBar \n{ \nposition : absolute; \nbottom : 0px; \nleft : 0px; \nheight : 4px; \nbackground-color : ","; \nz-index : 99; \n} \n#progressIndicator \n{ \nwidth : 0px; \nheight : 4px; \nbackground : -webkit-gradient( linear, left bottom, right bottom, color-stop(0, rgb(196,232,143)), color-stop(0.35, rgb(168,217,94)), color-stop(0.75, rgb(116,182,51) ) ); \n} \n#shelf \n{ \nposition : absolute; \ntop : ","px; \nleft : 0px; \nwidth : ","px; \noverflow : hidden; \nbackground-color : ","; \n-webkit-transform : translate3d(0,0,0) rotate(0) scale(1); \n-webkit-perspective : 1000px; \n-webkit-backface-visibility : hidden; \n} \n.card \n{ \n-webkit-transform : translate3d(0,0,0) rotate(0) scale(1); \n-webkit-transform-origin : 50% 50%; \n-webkit-transition-property : -webkit-transform, opacity; \n-webkit-backface-visibility : hidden; \nbackground-color : ","; \nline-height : ","px; \npadding-top : ","px; \npadding-left : ","px; \noverflow : hidden; \nposition : absolute; \ntop : 0px; \nleft : 0px; \nz-index : 2; \n} \n#offline \n{ \nposition : absolute; \nbottom : 0px; \nleft : 0px; \nwidth : 100%; \nheight : 44; \nline-height : 44px; \ncolor : #FFF; \nz-index : 999999; \nbackground-color : #555555; \ntext-align : center; \n-webkit-transition : -webkit-transform 0.3s linear; \n-webkit-backface-visibility : hidden; \n} \n#reporter \n{ \nposition : absolute; \nz-index : 100000; \nfont-size : 16px; \nline-height : 18px; \nwidth : 100%; \nheight : 100%; \nbackground-image : url( images/mobile-explain-back.png ); \nbackground-position : 0px 34px; \nbackground-repeat : repeat-x; \n-webkit-background-size : 250px 60px; \nbackground-size : 250px 60px; \nbackground-color : ","; \n} \n.errorHolder \n{ \nbackground-color : #c10b0b; \ncolor : #e68181; \npadding : 34px; \nmin-height : 126px; \n} \n.errorMessage \n{ \ncolor : #fad6d6; \n} \n#faviconHolder \n{ \nfloat : left; \npadding : ","px; \nborder : 1px solid #DFDFDF; \nheight : 16px; \nwidth : 16px; \noverflow : hidden; \n} \n#favicon \n{ \nbackground-color : #EAECEC; \n} \n#where \n{ \nheight : 60px; \nwidth : 4px; \nborder : 1px solid #EFEFEF; \nposition : absolute; \ntop : ","px; \nright : 3px; \ndisplay : ","; \n-webkit-transform : translate3d( 0px, 0px, 0px ); \n-webkit-transition_ : -webkit-transform 0.3s cubic-bezier( 0.25, 0.25, 0, 1 ), opacity 0.3s; \n-webkit-transition_ : opacity 0.2s; \n-webkit-backface-visibility : hidden; \nborder-radius : 3px; \nopacity : 0; \nz-index : 3; \n} \n#locator \n{ \nheight : 1px; \nmargin-left : ","px; \nbackground-color : ","; \nposition : absolute; \nz-index : 2; \nbottom : ","px; \n-webkit-transform : translate3d( 0px, 0px, 0px ); \n-webkit-backface-visibility : hidden; \ndisplay : ","; \n} \n#cursor \n{ \nheight : 1px; \nwidth : 24px; \nbackground-color : ","; \n-webkit-transform : translate3d( 0px, 0px, 0px ); \n-webkit-backface-visibility : hidden; \n-webkit-transition : -webkit-transform 0.3s cubic-bezier( 0.25, 0.25, 0, 1 ); \n} \n#footer \n{ \nheight : ","px; \nborder-bottom : 1px solid ","; \n} \n#status \n{ \nfont-size : 14px; \ncolor : ","px; \noverflow : hidden; \nwhite-space : nowrap; \ntext-overflow : ellipsis; \ntext-align : center; \ntext-transform : capitalize; \n"," font-weight : 300; \n"," font-weight : 400; \n"," "," \n} \n.tablet #status \n{ \ntext-align : left; \n"," \nwidth : ","px; \n} \n#markAsReadCount \n{ \nfont-size : ","px; \ntext-align : center; \nwidth : ","px; \n} \n.toolbarIcon \n{ \nbackground-position : ","px ","px; \n-webkit-background-size : ","px; \nbackground-size : ","px; \nbackground-repeat : no-repeat; \nwidth : "," opacity : 0.5; \n"," } \n.toolbarButton \n{ \n} \n#home \n{ \nbackground-image : url( "," ); \n} \n#store \n{ \nbackground-image : url( "," ); \n} \n#add \n{ \nbackground-image : url( "," ); \n} \n.tablet #add \n{ \nbackground-color : ","; \nborder-radius : 3px; \ncolor : #FFF; \npadding-left : 10px; \npadding-right : 10px; \nbackground-image : none; \nfont-size : 14px; \nline-height : 36px; \nmargin-top : ","px; \n} \n#wrench \n{ \nbackground-image : url( "," ); \n} \n#markAsRead \n{ \nbackground-image : url( "," ); \n} \n#refresh \n{ \nbackground-image : url( "," ); \n} \n.fadable \n{ \n-webkit-transition : opacity 0.45s linear; \n} \n.android .fadable \n{ \n-webkit-transition : opacity 0.75s linear; \n} \n.explain \n{ \nbackground-image : url( images/mobile-explain-back.png ); \nbackground-position : 0px 34px; \nbackground-repeat : repeat-x; \n-webkit-background-size : 250px 60px; \nbackground-size : 250px 60px; \npadding : 20px; \n} \n#panel \n{ \nposition : absolute; \nz-index : 100001; \ntop : 0; \nleft : 0; \nwidth : 100%; \nheight : 100%; \n} \n#panel .box \n{ \nbackground-color : #1a1a1a; \ncolor : #E8E8E8; \n-webkit-border-radius : 4px; \npadding : 20px; \nmargin : auto; \nmargin-top : 54px; \nmax-width : 240px; \n} \n#panel .message \n{ \nfont-size : 14px; \ncolor : #AAAAAA; \nline-height : ","px; \n} \n#panel input \n{ \nwidth : 100%; \nfont-size : 16px; \nmargin-top : 7px; \nline-height : 32px; \nborder : 1 px solid #000000; \n} \n#tooltip \n{ \nposition : absolute; \nz-index : 999999; \n} \n#tooltipArrow \n{ \nbackground-image : url( images/mobile-icon-tooltip-arrow@2x.png ); \nbackground-repeat : no-repeat; \nbackground-position : center center; \nbackground-size : 16px 8px; \n-webkit-background-size : 16px 8px; \nwidth : 16px; \nheight : 8px; \nmargin-left : 18px; \nmargin-right : 18px; \n} \n#tooltipBody \n{ \nbackground-color : #21aabd; \ncolor : rgba( 255, 255, 255, 0.85 ); \npadding : ","px; \nline-height : 1.5em; \nfont-size : 15px; \nclear : both; \n} \n#tooltipContent \n{ \n} \n#tooltipOK \n{ \nfont-size : 13px; \nline-height : 28px; \ntext-align : center; \nborder-top : 1px solid rgba( 255, 255, 255, 0.25 ); \nmargin-left : ","px; \npadding : 8px; \nmargin-top : ","px; \n} \n#popup \n{ \nposition : absolute; \nz-index : 100001; \ntop : 0px; \nleft : 0px; \nwidth : 100%; \nheight : 100%; \n} \n#popup .popupbox \n{ \nposition : absolute; \nz-index : 100002; \nbackground-color : ","; \ntop : ","px; \nright : 10px; \nwidth : 240px; \n} \n.popupbox .option \n{ \nline-height : ","px; \npadding-right : 15px; \ncolor : #FFFFFFF; \nfont-size : ","px; \nbackground-repeat : no-repeat; \nbackground-position : 0px 0px; \nbackground-size : 44px 44px; \nborder-bottom : 1px solid ","; \nborder-left : 4px solid transparent; \n} \n.popupbox .last \n{ \nborder-bottom : 1px solid ","; \n} \n.popupbox .option.selected \n{ \nborder-left : 4px solid ","; \n} \n.popupbox .viewOption \n{ \nheight : 57px; \nwidth : 57px; \nbackground-repeat : no-repeat; \nbackground-position : center center; \nbackground-size : 44px 44px; \nfloat : left; \n} \n.popupbox .viewOption.selected \n{ \nbackground-color : #444444; \n} \n#popup .button \n{ \nheight : ","px; \noverflow : hidden; \ndisplay : inline-block; \ncolor : #FFFFFF; \nfont-size : 16px; \nline-height : ","px; \npadding : 20px; \npadding-left : 60px; \nbackground-repeat : no-repeat; \nbackground-color : #383838; \nbackground-position : 8px 8px; \n-webkit-background-size : 44px 44px; \nbackground-size : 44px 44px; \n} \n#popup .button.google \n{ \nbackground-color : #4C8FFB; \nbackground-image : url( images/mobile-google@2x.png ); \n} \n.popupbox .hint \n{ \nfont-size : 14px; \ncolor : ","; \n} \n.showcased \n{ \nbackground-color : ","; \nopacity : 0.99; /* see card.base.js for hack information */ \n} \n/****** TOUCH HIGHLIGHT ***********/ \n.touchable.touched \n{ \nbackground-color : ","; \n} \n.touchable.touched .vignette .title \n{ \nbackground : -webkit-gradient( linear, left top, left bottom, color-stop( 0%, rgba( 0, 0, 0, 0 ) ), color-stop( 100%, rgba( 0, 0, 0, 0.93 ) ) ); \n} \n/****** COMMON OVERVIEW ELEMENTS ***********/ \n.etiquette \n{ \nbackground-color : ","; \ncolor : #FFF; \nfont-size : 12px; \npadding : 6px; \npadding-bottom : ","px; \ntext-transform : uppercase; \nline-height : 1em; \nfloat : left; \nmargin-bottom : 3px; \nletter-spacing : 0em; \nborder-radius : 2px; \n"," \n} \n.title \n{ \ntext-decoration : none; \ntext-overflow : ellipsis; \nfont-weight : bold; \nletter-spacing : ","; \n"," \n} \n"," .horizontal .title \n{ \nfont-family : sans-serif; \n} \n"," \n.title.unread \n{ \ncolor : ","; \n} \n.title.read \n{ \ncolor : ","; \n} \n.notMarkAsReadAware .title.read \n{ \ncolor : ","; \n} \n.ad .title \n{ \ncolor : rgba( 255, 255, 255, 0.93 ); \n} \n.ad .hint \n{ \nopacity : 0.65; \n} \n.ad .metadata \n{ \ndisplay : none; \n} \n.showcased__ .title \n{ \ncolor : rgba( 255, 255, 255, 0.93 ); \n} \n.showcased__ .hint \n{ \nopacity : 0.65; \n} \n.showcased__ .summary \n{ \ncolor : rgba( 255, 255, 255, 0.55 ); \n} \n.showcased__ .metadata \n{ \ncolor : rgba( 255, 255, 255, 0.4 ); \n} \n.showcased__ .likes \n{ \ncolor : rgba( 255, 255, 255, 0.93 ); \n} \n.vignette .title \n{ \nbackground : -webkit-gradient( linear, left top, left bottom, \ncolor-stop( 0%, rgba( 0, 0, 0, 0 ) ), \ncolor-stop( 100%, rgba( 0, 0, 0, 0.9 ) ) \n); \n} \n.vignette.minimalist .title \n{ \nbackground : -webkit-gradient( linear, left top, left bottom, \ncolor-stop( 0%, rgba( 80, 80, 80, 0 ) ), \ncolor-stop( 100%, rgba( 0, 0, 0, 0.5 ) ) \n); \n} \n.vignette .title.unread, .notMarkAsReadAware .vignette .title.read \n{ \ncolor : rgba( 255, 255, 255, 0.93 ); \n} \n.vignette .title.read \n{ \ncolor : rgba( 255, 255, 255, 0.5 ); \n} \n.vignette .metadata \n{ \ncolor : rgba( 255, 255, 255, 0.66 ); \n} \n.vignette .likes \n{ \ncolor : rgba( 255, 255, 255, 0.93 ); \n} \n.visual, .floatingVisual \n{ \noverflow : hidden; \nbackground-position : 50% 25%; \n-webkit-background-size : cover; \nbackground-size : cover; \nbackground-repeat : no-repeat; \nopacity : ","; \nborder-radius : 4px; \n} \n.visual.video1, .floatingVisual.video1 \n{ \nbackground-position : center center, 50% 30%; \n-webkit-background-size : 60px 60px, cover; \nbackground-size : 60px 60px, cover; \nbackground-repeat : no-repeat, no-repeat; \n} \n.visual.video2, .floatingVisual.video2 \n{ \nbackground-position : bottom left, 50% 30%; \n-webkit-background-size : 40px 40px, cover; \nbackground-size : 40px 40px, cover; \nbackground-repeat : no-repeat, no-repeat; \n} \n.visual.video3, .floatingVisual.video3 \n{ \nbackground-position : center center, 50% 30%; \n-webkit-background-size : 40px 40px, cover; \nbackground-size : 40px 40px, cover; \nbackground-repeat : no-repeat, no-repeat; \n} \n.vignette .visual \n{ \nbackground-color : ","; \nbackground-position : 50% 0%; \n} \n.d1 .vertical .visual \n{ \nborder-radius : 0px; \n} \n.summary \n{ \ncolor : ","; \noverflow : hidden; \ntext-overflow : ellipsis; \nline-height : 19px; \n} \n.typo .summary \n{ \ncolor : ","; \n} \n.ad .summary \n{ \ncolor : rgba( 255, 255, 255, 0.55 ); \n} \n.highlightedTerm \n{ \nbackground-color: #FFF5B0; \npadding: 2px 1px; \nborder-radius: 2px; \n} \n.summary .highlightedTerm, .read .highlightedTerm, .vignette .highlightedTerm \n{ \ncolor: #404040; \n} \n.metadata \n{ \ncolor : ","; \noverflow : hidden; \nletter-spacing : 0em; \nfont-weight : 400; \n"," \n} \n.typo .metadata \n{ \ncolor : ","; \n} \n.ad .metadata \n{ \ncolor : rgba( 255, 255, 255, 0.4 ); \n} \n.likes \n{ \ncolor : ","; \nfont-weight : normal; \nmargin-right : 1px; \n} \n.likes.hot \n{ \ncolor : ","; \nmargin-right : 1px; \n} \n.nbrRecommendations \n{ \n} \n.quicklisted \n{ \nbackground-image : url( "," ); \nbackground-repeat : no-repeat; \npadding-right : 11px; \nbackground-position : center ","; \n-webkit-background-size : 11px 11px; \nborder-right : 4px solid transparent; \n} \n.vignette .quicklisted \n{ \nbackground-image : url( "," ); \n} \n.meta14 .quicklisted \n{ \npadding-right : 10px; \nbackground-image : url( "," ); \nbackground-position : center ","; \n-webkit-background-size : 10px 10px; \n} \n.vignette .meta14 .quicklisted \n{ \nbackground-image : url( "," ); \n} \n.meta13 .quicklisted \n{ \npadding-right : 9px; \nbackground-image : url( ","; \n-webkit-background-size : 9px 9px; \n} \n.vignette .meta13 .quicklisted \n{ \nbackground-image : url( "," ); \n} \n.meta12 .quicklisted \n{ \npadding-right : 9px; \nbackground-image : url( "," ); \n-webkit-background-size : 9px 9px; \n} \n.vignette .meta12 .quicklisted \n{ \nbackground-image : url( "," ); \n} \n.ad .likes \n{ \ncolor : rgba( 255, 255, 255, 0.93 ); \n} \n.ad .nbrRecommendations \n{ \npadding-right : 0px; \nbackground : none; \n} \n.loadingSign \n{ \nfont-size : ","px; \nmargin-left : 44px; \nmargin-right : 44px; \ncolor : ","; \nfont-weight : 300; \ntext-align : center; \n} \n.loadingTarget \n{ \ndisplay : none; \n} \n@-webkit-keyframes bounce \n{ \n0%, 20%, 50%, 80%, 100% {-webkit-transform: translateY(0);} \n40% {-webkit-transform: translateY(-45px);-webkit-backface-visibility:hidden;} \n60% {-webkit-transform: translateY(-22px);-webkit-backface-visibility:hidden;} \n} \n.bouncer \n{ \n-webkit-animation-name: bounce; \n-webkit-animation-iteration-count: 1; \n-webkit-animation-duration: 1.2s; \n} \n.button2 \n{ \nbackground-color : ","; \nfont-size : 16px; \nline-height : 60px; \nmargin-bottom : ","px; \nborder-radius : 3px; \nwidth : 200px; \nmargin-left : auto; \nmargin-right : auto; \ntext-align : left; \npadding-left : ","px; \nbackground-position : 16px 16px; \nbackground-size : 28px 28px; \nbackground-repeat : no-repeat; \ncolor : white; \n} \n.button2.google \n{ \nbackground-color : #488AE9; \ncolor : white; \nbackground-image : url( "," ); \n} \n.button2.facebook \n{ \nbackground-color : #4963A4; \nbackground-image : url( "," ); \n} \n/****************************************** \n* APP AD CARD \n******************************************/ \n.feedlyAppAdCard \n{ \nmargin-top : ","px; \nbackground-repeat : no-repeat; \nbackground-position : center; \nbackground-size : cover; \n} \n.feedlyAppAdInfo \n{ \nposition : absolute; \nbottom : 0px; \npadding : ","px; \npadding-top : 100px; \nbackground : -webkit-gradient( linear, left top, left bottom, color-stop( 0%, rgba( 0, 0, 0, 0 ) ), color-stop( 100%, rgba( 0, 0, 0, 1 ) ) ); \n} \n.feedlyAppAdEtiquette \n{ \nbackground-color : #2c61a6; \ncolor : #FFF; \nfont-size : 12px; \npadding : 6px; \npadding-bottom : ","px; \ntext-transform : uppercase; \nline-height : 1em; \nfloat : left; \nmargin-bottom : 12px; \nmargin-right : 4px; \nletter-spacing : 0em; \n"," \n} \n.feedlyAppAdEtiquette.ad \n{ \nbackground-color : #3979CC; \n} \n.feedlyAppAdName \n{ \ntext-decoration : none; \ntext-overflow : ellipsis; \nfont-weight : bold; \nletter-spacing : ","; \nfont-family : sans-serif; \nfont-size : 24px; \nline-height : 1.2em; \ncolor : #FFF; \nclear : both; \nmargin-top : 12px; \nmargin-bottom : 6px; \n"," \n} \n.feedlyAppAdDescription \n{ \ncolor : #FFF; \nline-height : 19px; \nclear : both; \n} \n.feedlyAppAdSeparator \n{ \nborder-top : 1px solid rgba( 255, 255, 255, 0.3 ); \nheight : 1px; \nmargin-top : ","px; \n} \n.feedlyAppAdAction \n{ \nborder : 1px solid rgba( 255, 255, 255, 0.6 ); \nmin-width : ","px; \ncolor : #FFF; \nborder-radius : 3px; \nfloat : right; \ntext-align : center; \nline-height : 54px; \nfont-size : 18px; \nfont-weight : bold; \npadding-left : 8px; \npadding-right : 8px; \n} \n.feedlyAppAdRating \n{ \nheight : 27px; \nbackground-repeat : no-repeat; \nbackground-position : left center; \nbackground-size : 90px 27px; \n} \n.feedlyAppAdRating.rating1out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating2out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating3out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating4out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating5out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating6out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating7out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating8out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating9out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdRating.rating10out10 \n{ \nbackground-image : url( "," ); \n} \n.feedlyAppAdMeta \n{ \ncolor : #FFF; \noverflow : hidden; \nletter-spacing : 0em; \nfont-weight : 400; \nline-height : 27px; \n} \n.feedlyAppAdMeta \n{ \ncolor : #FFF; \noverflow : hidden; \nletter-spacing : 0em; \nfont-weight : 400; \nline-height : 27px; \n} \n.welcomePoster \n{ \nmax-width : ","px; \nmargin-left : auto; \nmargin-right : auto; \npadding-top : ","px; \n} \n.welcomePoster .posterText \n{ \nfont-size : ","px; \nline-height : 1.3em; \nfont-weight : 300; \nletter-spacing : ","; \nfont-family : Roboto, sans-serif; \n} \n.welcomePoster .posterText b \n{ \nfont-family : sans-serif; \nfont-weight : 700; \n} \n.welcomePoster .metaText \n{ \npadding-top : 2em; \nfont-size : 14px; \nline-height : 1.4em; \nfont-weight : 300; \n} \n"]
})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.d2.css.js");templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.d2=templates.mobile.d2||{};templates.mobile.d2.css=templates.mobile.d2.css||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.d2.css;function g(m){var l=arguments,j;for(j=1;j<l.length;
j++){m.push(l[j])}}function d(j){try{if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.base=function(l){var j=[];return j.join(f)};e=[]})();XOXOXOonFeedlyFileIncluded("lib/streets-mobile.js");"use strict";(function(){var a=devhd.pkg("streets");a.create=function(){var b="LOADED";var i={};var n=[];var l=null;var e=null;var c=null;var m=null;var j="AD1";
var p={};var h=null;i.version="1.0.0";i.attachDocument=function(s){m=s};i.getDocument=function(){return m};i.setEnvironment=function(s){j=s};i.getMode=function(){return h};i.setMode=function(s){h=s};i.getState=function(){return b};i.load=function(s){l=s};function r(){n=[];var t={};for(var s in l){if(l[s].length!=null){for(var u=0;u<l[s].length;u++){if((h!=null&&l[s][u].environment=="@"+h)||j==l[s][u].environment||l[s][u].environment=="others"){t[s]=l[s][u];
break}}}else{t[s]=l[s]}}n.push(t)}function g(s,v,u){var y="set"+v.charAt(0).toUpperCase()+v.substr(1),t=s[y]||s.inject;try{t.call(s,u,v)}catch(w){var x="[streets] failed to inject inject into:"+s.id+" using setter "+y+" because "+w.name+" -- "+w.message;throw x}}function f(s){var v=s.split(".");if(v.length<=1||v[0]!="devhd"){return null}var u=devhd;
for(var t=1;t<v.length&&u!=null;t++){u=u[v[t]]}return u}i.start=function(){if(b=="STARTED"){return}try{var C,w;r();i.lastErrorMessage=null;for(var y=0;y<n.length;y++){var t=n[y];C="creation";for(var A in t){w=A;var v=t[A];v.fn=f(v.factory);v.dependencies=v.dependencies||[];v.properties=v.properties||{};if(typeof v.fn!="function"){var u="failed to look up factory for :"+A+". Hint: no function for "+v.factory;
throw u}aService=v.fn(A);if(aService==null){var u="failed to look up factory for :"+A+". Hint: factory = "+v.factory;throw u}p[A]=aService;devhd.addFeature(aService,devhd.features.home);devhd.addFeature(aService,devhd.features.bind);aService.setHome(i)}C="injection";for(var A in t){w=A;aService=p[A];var v=t[A];for(var x=0;x<v.dependencies.length;x++){g(aService,v.dependencies[x],i.service(v.dependencies[x]))
}for(var s in v.properties){var B=v.properties[s];g(aService,s,B)}}C="loading";for(var A in t){w=A;if(p[A].load!=null){p[A].load()}}C="initialization";for(var A in t){w=A;if(p[A].initialize!=null){p[A].initialize()}}}b="STARTED"}catch(z){var u="[streets] failed to start streets because "+z.name+" -- "+z.message+" -- "+C+" -- "+w;i.goOffline("["+C+"] "+u)
}};i.stop=function(v){try{if(b=="LOADED"){return}if(b=="STOPPED"){return}if(b=="STARTED"){for(var u=n.length-1;u>-1;u--){var t=n[u];for(var s in t){if(p[s].unbindAll!=null){p[s].unbindAll()}}for(var s in t){if(p[s].uninitialize!=null){p[s].uninitialize()}}for(var s in t){if(p[s].unload!=null){p[s].unload()}}for(var s in t){delete p[s].home;delete p[s].element;
delete p[s].bind;delete p[s].unbindAll}for(var s in t){delete p[s]}}}m=null;p={};b="STOPPED"}catch(w){b="STOPPED";i.goOffline("failed to stop because "+w.name+" -- "+w.message)}};var q=[];var d=0;i.track=function(s,t){var u={element:s,event:t};q.push(u);d++};i.untrack=function(u,v){for(var t=0;t<q.length;t++){var s=q[t];if(s.element==u&&s.event==v){q.splice(t,1)
}}};i.getOfflineReason=function(){return e||""};i.getOfflineDate=function(){return c};i.goOffline=function(t){$feedly("ask go offline. reason: "+t);if(b=="OFFLINE"){return}try{i.stop("going offline")}catch(s){$feedly("[goOffline] trapping stop error: "+s.name+" -- "+s.message)}b="OFFLINE";e=t;c=new Date();$feedly("gone offline. reason: "+t)};i.service=function(s){var t=p[s];
if(t!=null){return t}return null};i.element=function(s,t){if(m==null&&t==null){var u="[streets][element()] failed because no document attached to streets intance. ElementId :="+s;$feedly(u);throw new Error(u)}return(t||m).getElementById(s)};return i}})();XOXOXOonFeedlyFileIncluded("lib/google-mobile.js");"use strict";(function(){var a=devhd.pkg("utils");
a.GoogleUtils=function(){var g={};g.processEntries=function(n,l){if(n==null){return[]}var h=[];for(var i=0;i<n.length;i++){var p=n[i];var m=g.jsonEntry(p,l,"search");h.push(m)}return h};g.jsonEntry=function(m,i,l,h){if(m.likingUsers!=null&&m.likingUsers.length!=null){m.likingUsers=m.likingUsers.length}var j=new devhd.atom.JSONEntry(m,i,l,h);j.metadata.subscribed=false;
j.metadata.u=4;j.metadata.mustRead=false;j.metadata.age=(new Date().getTime()-j.crawledTime)/(3600*1000);return j};g.processCloudEntries=function(n,l){if(n==null){return[]}var h=[];for(var i=0;i<n.length;i++){var p=n[i];var m=g.jsonCloudEntry(p,l);h.push(m)}return h};g.jsonCloudEntry=function(j,h){var i=new devhd.cloud.JSONEntry(j,h);i.metadata.subscribed=false;
i.metadata.u=4;i.metadata.mustRead=false;i.metadata.age=(new Date().getTime()-i.crawled)/(3600*1000);return i};g.askDeltaUnreadCounts=function(j,i){var h={reader:{}};devhd.utils.FlowUtils.parallel(h,[askTryUnreadCountStep],{onComplete:function(){if(h.reader.unreadCounts==null||h.denied==true){devhd.fn.callback(i,h.denied)}else{devhd.fn.callback(j,h.reader.unreadCounts)
}}})};g.askEnrichSession=function(i,j,h){if(j!=null){j()}};g.askProfile=function(l,h,j){var i=SESSION();if(i==null){devhd.fn.callback(h);return}g.askCloudProfile(l,h,j)};g.askCloudProfile=function(q,l,p){var n=SESSION();var i={reader:{}};for(var h in n){i[h]=n[h]}try{var j=this;devhd.utils.FlowUtils.parallel(i,[e,c,d,b,f],{onComplete:function(){try{if(i.reader.subscriptions==null){devhd.fn.callback(p,i.status,i.message)
}else{try{$feedly("[cloud] available (using API).  subscriptions="+i.reader.subscriptions.length+", userId="+i.feedlyId+", product="+i.reader.profile.product);var r=SESSION();if(r!=null&&r.feedlyPlan!="pro"&&r.feedlyPlan!="business"&&i.reader.profile.product!=null){$feedly("[cloud] detected a new plan:"+r.feedlyPlan+" --> "+i.reader.profile.product);
askRenewFeedlyAuth(function(){devhd.fn.callback(q,i);$feedly("[cloud] plan auto-change successful:"+SESSION().feedlyPlan)},function(){devhd.fn.callback(q,i)},function(){devhd.fn.callback(q,i)},function(){devhd.fn.callback(q,i)})}else{devhd.fn.callback(q,i)}}catch(t){$feedly("[cloud] failed to auto-change plan:"+t.name+" -- "+t.message);devhd.fn.callback(q,i)
}}}catch(t){return devhd.fn.callback(p,-1,"ask profile/"+t.name)}}})}catch(m){devhd.fn.callback(l)}};function e(j){try{var i=SESSION();this.userId=i.feedlyId;this.googleId=i.googleId;devhd.fn.callback(j)}catch(h){$feedly("[error] ask user info failed because "+h.name+" -- "+h.message);devhd.fn.callback(j)}}function d(j){try{var h=this;GET("!{cloud}/v3/profile?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,function(l){try{h.reader.profile=devhd.utils.JSONUtils.decode(l)
}catch(m){$feedly("[error] failed to access profile. "+l+" because "+m.name+" -- "+m.message);h.reader.profile=null;h.status=901;h.message="/v3/profile. Maintenance."}devhd.fn.callback(j)},function(l,m){$feedly("[error] failed to access profile because: "+l);h.reader.profile=null;h.status=l;h.message="/v3/profile";devhd.fn.callback(j)},{"Content-Type":"application/json","$Authorization.feedly":"$FeedlyAuth"})
}catch(i){this.reader.profile=null;this.status=901;this.message="/v3/profile "+i.name+" -- "+i.message;$feedly("[error] ask profile failed because "+i.name+" -- "+i.message);devhd.fn.callback(j)}}function f(j){try{var h=this;GET("!{cloud}/v3/subscriptions?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,function(l){try{h.reader.subscriptions=devhd.utils.JSONUtils.decode(l)
}catch(m){$feedly("[error] failed to access subscriptions. Invalid JSON "+l+" because "+m.name+" -- "+m.message);h.reader.subscriptions=null;h.status=901;h.message="/v3/subscriptions. Maintenance."}devhd.fn.callback(j)},function(l,m){$feedly("[error] failed to access subscriptions because: "+l);h.status=l;h.message="/v3/subscriptions";devhd.fn.callback(j)
},{"Content-Type":"application/json","$Authorization.feedly":"$FeedlyAuth"})}catch(i){this.status=901;this.message="/v3/subscriptions "+i.name+" -- "+i.message;$feedly("[error] ask subscriptions failed because "+i.name+" -- "+i.message);devhd.fn.callback(j)}}function c(j){try{var h=this;GET("!{cloud}/v3/preferences?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,function(l){try{h.reader.preferences=devhd.utils.JSONUtils.decode(l)
}catch(m){$feedly("[warning] failed to access preferences. Invalid JSON "+l+" because "+m.name+" -- "+m.message);h.reader.preferences={}}devhd.fn.callback(j)},function(l,m){$feedly("[warning] failed to access preferences. HTTP Error "+l+" -- "+m);h.reader.preferences={};devhd.fn.callback(j)},{"Content-Type":"application/json","$Authorization.feedly":"$FeedlyAuth"})
}catch(i){$feedly("[warning] failed to access preferences. Exception "+i.name+" -- "+i.message);this.reader.preferences={};devhd.fn.callback(j)}}function b(j){try{var h=this;GET("!{cloud}/v3/tags?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,function(p){try{var l=devhd.utils.JSONUtils.decode(p);if(l==null){l=[]
}var n=[];for(var m=0;m<l.length;m++){if(l[m].label==null){continue}n.push({id:l[m].id,label:l[m].label})}n.sort(function(s,r){return s.label.localeCompare(r.label)});h.reader.tags=n}catch(q){$feedly("[warning] failed to access tags. Invalid JSON "+p+" because "+q.name+" -- "+q.message);h.reader.tags=[]}devhd.fn.callback(j)},function(l,m){$feedly("[warning] failed to access tags. HTTP Error "+l+" -- "+m);
h.reader.tags=[];devhd.fn.callback(j)},{"Content-Type":"application/json","$Authorization.feedly":"$FeedlyAuth"})}catch(i){$feedly("[warning] failed to access tags. Exception "+i.name+" -- "+i.message);this.reader.tags={};devhd.fn.callback(j)}}return g}()})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.js");templates=templates||{};templates.mobile=templates.mobile||{};
(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile;function g(m){var l=arguments,j;for(j=1;j<l.length;j++){m.push(l[j])}}function d(j){try{if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""
}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")
}i.dot=function(l,j,q,p,n){var m=[];n=n||{};g(m,e[0]);if(n.dataAppAction!=null){g(m,e[1],n.dataAppAction,e[2])}if(n.dataAppActionInput!=null){g(m,e[3],n.dataAppActionInput,e[2])}if(n.dataURL!=null){g(m,e[4],n.dataURL,e[2])}g(m,e[5],CW(l,j,INNER)-OUTER,e[6],CH(q,p,n.marginTop,INNER)-OUTER,e[7],n.cssFloat=="right"?"right":"left",e[8],INNER,e[9],INNER,e[10],n.backgroundColor||"#909090",e[11],n.backgroundImage!=null?"url("+n.backgroundImage+")":"",e[12],n.label,e[13],n.hint,e[14]);
return m.join(f)};i.googleReaderLoginBanner=function(){var j=[];g(j,e[15]);return j.join(f)};i.noSourcesDefined=function(){var j=[];g(j,i.explain("Welcome to feedly","Search for sources you like and click on the + icon to add them to your feedly."));return j.join(f)};i.promptLogin=function(){var j=[];g(j,e[16],Math.min(400,W-20-40),e[17]);return j.join(f)
};i.layoutFlowNext=function(l){var j=[];g(j,e[18]);return j.join(f)};i.layoutConsole=function(){var j=[];var m=["device_os_version","feedly_app_version","screen_width_px","screen_height_px","display_width_px","display_height_px"];g(j,e[19]);for(var l=0;l<m.length;l++){g(j,e[11],m[l],e[20],SETTING(m[l]),e[21])}g(j,e[22],window.devicePixelRatio,e[23],SB,e[24],AD,e[25],DIMENSIONS.portrait.width+" x "+DIMENSIONS.portrait.height,e[26],DIMENSIONS.landscape.width+" x "+DIMENSIONS.landscape.height,e[27],window.innerWidth,e[28],window.innerHeight,e[29]);
return j.join(f)};i.layoutTests=function(){var j=[];g(j,e[30]);return j.join(f)};i.layoutIOStats=function(n,p){var t=[];var u=[];for(k in n){var s=n[k];var l=100000000,j=0,r=0;for(var m=0;m<s.length;m++){l=Math.min(s[m],l);r=Math.max(s[m],r);j+=s[m]}j=Math.ceil(j/s.length);var q=k;if(p!=null){q=q.replace(new RegExp(p,"gi"),"-")}u.push({prettyKey:q,min:l,average:j,max:r,count:s.length})
}u=u.sort(function(w,v){return v.average-w.average});g(t,e[31]);for(var m=0;m<u.length;m++){g(t,e[32],u[m].prettyKey,e[33],u[m].min,e[33],u[m].average,e[33],u[m].max,e[33],u[m].count,e[34])}g(t,e[35]);return t.join(f)};i.layoutConnections=function(l){var j=[];g(j,e[36],PAD,e[37]);if(l.isConnected("evernote")){g(j,e[38])}else{g(j,e[39])}g(j,e[40]);if(l.isConnected("windowsLive")){g(j,e[41])
}else{g(j,e[42])}g(j,e[43]);return j.join(f)};i.layoutWelcome=function(){var j=[];g(j,e[44]);if(NAVIGATION()=="scroll"||NAVIGATION()=="stack"){g(j,e[45])}else{g(j,e[46])}g(j,e[47]);return j.join(f)};i.layoutHelp11=function(){var j=[];g(j,i.tutorial("All in one place","Quick access to your favorite blogs, news sites, youtube channels and podcasts.","oneplace"));
return j.join(f)};i.layoutHelp12=function(){var j=[];g(j,i.tutorial("Faster Reading","Feedly transforms sites into cards which load fast and are easy to read.","uncluttered"));return j.join(f)};i.layoutHelp13=function(){var j=[];g(j,i.tutorial("Clean Layouts","Title only, Magazine or Cards.","titleonly"));return j.join(f)};i.layoutHelp14=function(){var j=[];
g(j,i.tutorial("Easy sharing","Easily save and share your best finds. Spark conversations. Show your expertise.","productive"));return j.join(f)};i.tutorial=function(p,m,n){var l=[];var j=ANDROID()?"android":"ios";if(AD==1){j=j+".ad1"}else{j=j+".ad4"}g(l,e[48],p,e[49],AD==1?"none":"block",e[50],m,e[51],n,e[52],j,e[53]);return l.join(f)};i.layoutHelp1=function(){var j=[];
g(j,e[54]);if(NAVIGATION()=="scroll"||NAVIGATION()=="stack"){g(j,e[45])}else{g(j,e[46])}g(j,e[47]);return j.join(f)};i.layoutHelp2=function(){var j=[];g(j,i.announcement("default","cloud","Upgrade Complete","Your feeds have been successfully moved to the feedly cloud! Let's all wish Google Reader a happy retirement!"));return j.join(f)};i.layoutHelp3=function(){var j=[];
g(j,i.announcement("default","desktop","feedly.com","feedly is also available on the web and syncs transparently through the cloud."));return j.join(f)};i.layoutHelp4=function(){var j=[];g(j,e[55]);if(NAVIGATION()=="scroll"||NAVIGATION()=="stack"){g(j,e[45])}else{g(j,e[46])}g(j,e[47]);return j.join(f)};i.layoutHelp5=function(){var j=[];g(j,e[56]);if(NAVIGATION()=="scroll"||NAVIGATION()=="stack"){g(j,e[45])
}else{g(j,e[46])}g(j,e[47]);return j.join(f)};i.layoutHelp6=function(){var j=[];g(j,e[57]);if(NAVIGATION()=="scroll"||NAVIGATION()=="stack"){g(j,e[45])}else{g(j,e[46])}g(j,e[47]);return j.join(f)};i.layoutHelp7=function(){var j=[];g(j,e[58]);return j.join(f)};i.layoutHelp9=function(){var j=[];g(j,i.monster("feednotfound","Sorry","feedly has trouble connecting to this feed. Please try again later or send an email to care@feedly.com.",null,false,0.9));
return j.join(f)};i.layoutHelp10=function(){var j=[];g(j,i.monster("noresults","Found no results","Try widening your search criteria",null,false,0.9));return j.join(f)};i.transition=function(m,l,j,n){var p=[];g(p,e[59],l,e[60]);if(n!=null){if(n>0){g(p,e[61],n,e[62],n>1?"s":"",e[63])}else{g(p,e[64])}}g(p,e[47]);if(NAVIGATION()=="scroll"||NAVIGATION()=="stack"){g(p,e[45])
}else{g(p,e[46])}g(p,e[47]);return p.join(f)};i.announcement=function(v,q,p,u,s,r,l,m){var t=[];var n=(s!=null)&&(r!=null);var j=m||new Date().getTime();g(t,e[65],j,e[66],v,e[11],s!=null?" touchable":"",e[11],n?" buttonable":"",e[67],j,e[68],l!=null?l:1,e[50]);if(SVG()){g(t,e[69],j,e[70],usvg("mobile-illustration-"+q),e[71])}else{g(t,e[69],j,e[72],q,e[73])
}g(t,e[69],j,e[74],j,e[75],p,e[76],j,e[77],u,e[14]);if(n){g(t,e[69],j,e[78],r,e[60])}g(t,e[43]);return t.join(f)};i.layoutRateMe=function(){var j=[];g(j,i.please("rate","Enjoying the new feedly?","Please help us become a 5-star app <br>and grow the community!",true,"Add a quick review"));return j.join(f)};i.please=function(q,p,t,s,r,l,m){var u=[];var n=(s!=null)&&(r!=null);
var j=m||new Date().getTime();g(u,e[65],j,e[79],s!=null?" touchable":"",e[11],n?" buttonable":"",e[67],j,e[80],j,e[81],q,e[82],j,e[83],j,e[84],p,e[76],j,e[85],t,e[14]);if(n){g(u,e[69],j,e[86],FEEDLY_GREEN_HI,e[87],r,e[60])}g(u,e[43]);return u.join(f)};i.layoutMarkAsRead=function(){var j=[];g(j,e[88],usvg(themable("mobile-monster-markasread")),e[89]);
g(j,i.layoutMarkAsReadStats("&nbsp;","&nbsp;","&nbsp;"));g(j,e[90]);return j.join(f)};i.layoutMarkAsReadStats=function(j,p,n){var m=[];var l=80+80*(p>0?1:0)+80*(n>0?1:0);g(m,e[91],l,e[92],j,e[93]);if(p>0){g(m,e[94],p,e[95])}if(n>0){g(m,e[94],n,e[96])}g(m,e[97]);return m.join(f)};i.layoutHelp8=function(){var j=[];g(j,i.monster("markasread","All read","See options to show all stories",null,false));
return j.join(f)};i.layoutHelp15=function(){var j=[];g(j,i.monster("markasread","No saved articles","Your saved items will be here",null,false));return j.join(f)};i.monster=function(r,q,u,t,s,m,n){var v=[];var p=(t!=null)&&(s!=null);var l=n||new Date().getTime();var j=0;if(u==null||u==""){j=30}g(v,e[65],l,e[98],t!=null?" touchable":"",e[11],p?" buttonable":"",e[67],l,e[80],l,e[99],r,e[100],j,e[101],l,e[83],l,e[84],q,e[76],l,e[85],u,e[14]);
if(p){g(v,e[69],l,e[86],FEEDLY_GREEN_HI,e[87],s,e[60])}g(v,e[43]);return v.join(f)};i.layoutFailed=function(l){var j=[];g(j,i.monster("failed","feedly will be back soon","See blog.feedly.com. Hint: "+l,true,"Try to Refresh"));return j.join(f)};i.layoutGetStarted=function(l){var j=[];var m=(OUTER-10);g(j,e[102]);if(l!=true){g(j,e[103],PAD,e[104],PAD,e[105])
}g(j,e[47]);return j.join(f)};i.explain=function(n,m,l){var j=[];g(j,e[106],SH(),e[107],W,e[108],feedlyTheme.sa_header,e[109],n,e[110],feedlyTheme.sa_text,e[109],m,e[111]);if(l!=null){g(j,e[112],l,e[113])}g(j,e[43]);return j.join(f)};i.confirm=function(l){var j=[];g(j,e[114],l,e[115]);return j.join(f)};i.prompt=function(m,l){var j=[];g(j,e[114],m,e[116],l,e[117]);
return j.join(f)};i.activitySign=function(l){var j=[];g(j,e[118],(SH()-2*OUTER-51-NAVIGATION_BAR)/2,e[119],THEME()=="black"?"images/mobile-loading-102-black-"+(ANDROID()?"android":"ios")+".gif":"images/mobile-loading-102.gif",e[120],l||"Loading",e[121]);return j.join(f)};i.status=function(m,l){var j=[];if(l!=null){g(j,e[11],d(m),e[122],d(l),e[111])}else{g(j,e[11],d(m),e[123])
}return j.join(f)};i.activity=function(n,q,r){var m=[];var l=r||1;var j=r&&r>1?"yes":"no";function p(t){return Math.round(Math.random()*t)}g(m,e[124],n,e[52],p(100),e[125]);if(SETTING("device_os")!="android"){g(m,e[126],l,e[127],q||PANEL_W,e[128],j,e[50])}g(m,e[129],AD,e[130],n,e[131],PANEL_W,e[132],NAVIGATION_BAR,e[133],LOCATOR,e[134],LIST_BAR,e[135],TOUCH_HIGHLIGHT_DELAY,e[136],TOUCH_SLOP,e[137],PAD,e[138],OUTER,e[139],INNER,e[140],W,e[141],H,e[142],devhd.utils.JSONUtils.encode(PALETTE),e[143],devhd.utils.JSONUtils.encode(PALETTE_HI),e[144],devhd.utils.JSONUtils.encode(THEME_WHITE),e[145],devhd.utils.JSONUtils.encode(THEME_BLACK),e[146],FEEDLY_GREEN,e[147],FEEDLY_GREEN_HI,e[148],devhd.utils.JSONUtils.encode(ESB),e[149],DPR,e[150],MODE,e[151],LETTER_SPACING,e[152],feedlyApplicationType,e[153],feedlyApplicationVersion,e[154],devhd.utils.JSONUtils.encode(feedlyTheme),e[155],devhd.utils.JSONUtils.encode(feedlyFont),e[156],devhd.utils.JSONUtils.encode(fFaces),e[157],SETTING("feedly_theme")||"white",e[158],feedlyTheme.default_activity_text,e[159],feedlyTheme.default_activity_text,e[160],feedlyTheme.default_activity_text,e[161],n,e[162],feedlyTheme.default_activity_back,e[163]);
return m.join(f)};i.feedOptions=function(l){var j=[];g(j,e[164],feedlyTheme.pu_separator,e[165],svg("mobile-action-titleonly"),e[166],l.entryOverviewSize==0?"selected":"",e[167],svg("mobile-action-list"),e[166],l.entryOverviewSize==1?"selected":"",e[168],svg("mobile-action-magazine"),e[166],l.entryOverviewSize==4?"selected":"",e[169],svg("mobile-action-"+(AD==1?"poster":"mosaic")),e[166],l.entryOverviewSize==6||l.entryOverviewSize==5?"selected":"",e[170],svg("mobile-action-refresh"),e[171]);
if(l.mustRead!=true){g(j,e[172],svg("mobile-action-mark-as-favorite"),e[173])}else{g(j,e[172],svg("mobile-action-mark-as-favorite"),e[174])}g(j,e[172],svg("mobile-action-mark-as-read"),e[175]);if(l.oldestFirstKnob!="yes"){g(j,e[172],svg("mobile-action-oldest-first"),e[176])}else{g(j,e[172],svg("mobile-action-oldest-first"),e[177])}if(l.hideReadArticlesFilter=="off"){g(j,e[172],svg("mobile-action-unread"),e[178])
}else{g(j,e[172],svg("mobile-action-unread"),e[179])}if(l.entryNavigation!="visit"){g(j,e[172],svg("mobile-action-visit"),e[180])}else{g(j,e[172],svg("mobile-action-visit"),e[181])}g(j,e[182],svg("mobile-action-remove"),e[183]);return j.join(f)};i.categoryOptions=function(l){var j=[];g(j,e[164],feedlyTheme.pu_separator,e[165],svg("mobile-action-titleonly"),e[166],l.entryOverviewSize==0?"selected":"",e[167],svg("mobile-action-list"),e[166],l.entryOverviewSize==1?"selected":"",e[168],svg("mobile-action-magazine"),e[166],l.entryOverviewSize==4?"selected":"",e[169],svg("mobile-action-"+(AD==1?"poster":"mosaic")),e[166],l.entryOverviewSize==6||l.entryOverviewSize==5?"selected":"",e[170],svg("mobile-action-refresh"),e[171]);
if(l.allowMarkAsRead==true){g(j,e[172],svg("mobile-action-mark-as-read"),e[184],l.markAsReadLabel,e[63])}if(l.allowOldestFirst==true){if(l.oldestFirstKnob!="yes"){g(j,e[172],svg("mobile-action-oldest-first"),e[176])}else{g(j,e[172],svg("mobile-action-oldest-first"),e[177])}}if(l.allowShowRead==true){if(l.hideReadArticlesFilter=="off"){g(j,e[172],svg("mobile-action-unread"),e[178])
}else{g(j,e[172],svg("mobile-action-unread"),e[179])}}if(l.allowOpenDirectly==true){if(l.entryNavigation!="visit"){g(j,e[172],svg("mobile-action-visit"),e[180])}else{g(j,e[172],svg("mobile-action-visit"),e[181])}}g(j,e[47]);return j.join(f)};i.meta=function(j,p){var l=[];p=p||4;var n=j.getEngagement();var m=n;if(n>10000){m=Math.floor(n/1000)+"K"}else{if(n>1000){m=(Math.floor(n/100)/10)+"K"
}else{if(n>900){m="900"}else{if(n>800){m="800"}else{if(n>700){m="700"}else{if(n>600){m="600"}else{if(n>500){m="500"}else{if(n>400){m="400"}else{if(n>300){m="300"}else{if(n>200){m="200"}else{if(n>100){m="100"}}}}}}}}}}}if(n>0){g(l,e[185],n,e[109],m,e[111])}g(l,e[186],j.getId(),e[187],j.isQuicklisted()?"inline":"none",e[188]);return l.join(f)};i.dateAsDuration=function(n,v,j,t){var r=[];
var v=v||{};var u=v.hoursOnly==true;var l=n;if(typeof l==="number"){l=new Date();l.setTime(n*1000)}var q=((new Date().getTime())-l.getTime())/1000;var s=Math.floor(q/(24*3600));var p=Math.floor((q-s*24*3600)/3600);var m=Math.floor((q-s*24*3600-p*3600)/60);if(AD==1&&j!=true){g(r,e[189]);if(q<0){g(r,e[11],devhd.date.formatDate(l,h(51)+" z"),e[123])}else{if(s==0){if(p<1){g(r,e[190],t==true?"":"/&nbsp;",e[191],a(67,m),e[111])
}else{g(r,e[11],t==true?"":"/&nbsp;",e[192],a(68,p),e[123])}}else{if(!u){g(r,e[11],t==true?"":"/&nbsp;",e[192],a(69,s),e[123])}}}g(r,e[47])}else{g(r,e[189]);if(q<0){g(r,e[11],devhd.date.formatDate(l,h(51)+" z"),e[123])}else{if(s==0){if(p<1){g(r,e[193],a(70,m),e[111])}else{g(r,e[11],t==true?"":"/&nbsp;",e[192],a(71,p),e[123])}}else{if(!u){g(r,e[11],t==true?"":"/&nbsp;",e[192],a(72,s),e[123])
}}}g(r,e[47])}return r.join(f)};i.partialEntry=function(j){var l=[];g(l,i.entryStart(j));g(l,e[194],THEME()=="black"?"images/mobile-loading-black-102.gif":"images/mobile-loading-102.gif",e[195]);g(l,i.entryEnd());return l.join(f)};i.youtubeEntry=function(j){var l=[];g(l,e[196],THEME(),e[50]);g(l,i.entryStart(j));g(l,i.entryHeading(j));if(ESB["images.debug"]||ESB["grid.debug"]||ESB["meta.debug"]){g(l,i.metadataDump(j))
}var m=Math.min(W-2*OUTER,604);g(l,e[197],m,e[198],Math.floor(m*0.6),e[199],j.metadata.youtube,e[200]);g(l,i.callForActions(j));g(l,e[201]);g(l,i.entryEnd(j));g(l,e[201]);return l.join(f)};i.vimeoEntry=function(j){var l=[];g(l,e[196],THEME(),e[50]);g(l,i.entryStart(j));g(l,i.entryHeading(j));if(ESB["images.debug"]||ESB["grid.debug"]||ESB["meta.debug"]){g(l,i.metadataDump(j))
}var m=Math.min(W-2*OUTER,604);g(l,e[202],m,e[198],Math.floor(m*0.6),e[203],j.metadata.vimeo,e[204]);g(l,i.callForActions(j));g(l,e[201]);g(l,i.entryEnd(j));g(l,e[201]);return l.join(f)};i.optimizedContent=function(m){var n=[];var q=m.getHighlightedContentOrSummary();var l=ESB["images.inlinedResize"]!=null&&ESB["images.inlinedResize"].indexOf("ad"+AD)>-1;
var r=Math.min(W-2*OUTER,604);var p=0;var s=m.mapContentVisuals();var j=DPR;if(ANDROID()&&m.listContentVisuals().length<2){j=window.devicePixelRatio}q=q.replace(/(<img.*?src=")([^"]*)("[^>]*>)/gi,function(u,A,w,z){p=p+1;var y=m.lookupVisual(w);if((y!=null&&(y.width==null||y.width<=r*j))||l==false){if(p==1){return A+w+'" data-sourced="yes" data-original="'+w+'" data-src="'+w+z
}else{return A+'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+w+'" data-original="'+w+z}}else{var x=parseInt((r*j))+"x*!0.01";var v=m.getId()+".inlined_v3."+p;var t=ESB["images.resize["+Math.floor(Math.random()*2)+"]"]+"?key="+encodeURIComponent(v)+"&entryId="+encodeURIComponent(v)+"&sizes="+encodeURIComponent(x)+"&url="+encodeURIComponent(w);
if(p==1){return A+t+'" data-sourced="yes" data-original="'+w+'" data-src="'+w+z}else{return A+'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="'+t+'" data-original="'+w+z}}}).replace(/(<iframe.*?src=")([^"]*)("[^>]*>.*<\/iframe>)/gi,function(v,x,t,w){var u=t.indexOf("youtube")>-1||t.indexOf("vimeo")>-1||t.indexOf("soundcloud")>-1||t.indexOf("slideshare")>-1||t.indexOf("hulu")>-1||t.indexOf("scribd")>-1||t.indexOf("kickstarter.com")>-1||t.indexOf("instagram")>-1||t.indexOf("vine.co")>-1||t.indexOf("embedly.com")>-1||t.indexOf("archive.org")>-1||t.indexOf(".go.com")>-1||t.indexOf("theverge.com")>-1||t.indexOf("dailymotion")>-1||t.indexOf("theguardian.com")>-1;
if(u){return x+'about:blank" data-src="'+t+w}else{return"<a class='blockedIframe' data-frame=\""+encodeURI(v.replace(/"/gi,"'"))+"\" onclick='inlineFrame( this ); return false;' href='"+encodeURI(m.getBestAlternateLink())+"'>Tap to load frame</a>"}});g(n,e[205],q,e[123]);return n.join(f)};i.email=function(j,m){var l=[];g(l,e[206],c(m||""),e[207],c(j.getBestAlternateLink()),e[109],j.getCleanTitle(),e[208],c(j.getBestAlternateLink()),e[109],j.getSourceTitle(),e[209],j.getCleanContentOrSummary(),e[210]);
return l.join(f)};i.emailURL=function(l,m){var j=[];g(j,e[211],m,e[212],c(l),e[109],l,e[213]);return j.join(f)};i.entry=function(t){var q=[];var u=t.getEnclosure("audio");var r=t.getEnclosure("video");var j=t.getEnclosure("image");var s=t.metadata.externalVisual;var l=t.listContentVisuals();g(q,e[214],THEME(),e[50]);g(q,i.entryStart(t));try{g(q,e[215]);
g(q,i.entryHeading(t));if(ESB["images.debug"]||ESB["grid.debug"]||ESB["meta.debug"]){g(q,i.metadataDump(t))}}catch(p){$feedly("[mag] render entry heading failed:"+p.name+" -- "+p.message);g(q,e[216],p.name+" -- "+p.message,e[123])}try{g(q,e[217]);if(t.getDecoration("OneNote")!=null){g(q,e[218],c(t.getDecoration("OneNote")),e[219])}g(q,e[220]);if(t.getDecoration("Evernote")!=null){g(q,e[221])
}g(q,e[222]);var n=t.listTagLabels();if(n.length>0){for(var m=0;m<n.length;m++){g(q,e[223],n[m],e[109],n[m],e[63])}}g(q,e[47]);if(s!=null&&t.countInlinedVisuals()==0&&devhd.utils.VisualsUtils.disableInjection(t)==false){g(q,e[224],s.url,e[225],s.width,e[198],s.height,e[226])}else{if(j!=null&&j.href!=null&&t.countInlinedVisuals()==0){g(q,e[227],j.href,e[228])
}}g(q,i.optimizedContent(t));if(u!=null){if(SETTING("device_os")=="android"){g(q,e[229],u.href,e[230],u.type,e[231])}else{g(q,e[232],u.href,e[230],u.type,e[231])}}if(r!=null&&r!=null){g(q,e[233],r.href,e[230],r.type,e[234])}g(q,e[235],t.asText().length,e[236],l.length,e[237]);g(q,i.callForActions(t));g(q,e[201])}catch(p){$feedly("[mag] render entry body failed:"+p.name+" -- "+p.message);
g(q,e[238],p.name+" -- "+p.message,e[123])}g(q,i.entryEnd(t));g(q,e[201]);return q.join(f)};i.callForActions=function(x){var v=[];var u="Tweet";switch(SETTING("feedly_favorite_sharing_tool")){case"buffer":u="Buffer";break;case"gplus":u="Google+";break;case"email":u="Email";break;case"facebook":u="Facebook";break;case"sms":u="SMS";break;case"browser":u="Browser";
break;case"twtter":default:u="Tweet"}if(x.metadata.following==false){g(v,e[239]);if(AD==1&&x.getCleanSourceTitle().length<20){g(v,e[240],d(x.getCleanSourceTitle()),e[241])}else{if(AD==1){g(v,e[242])}else{g(v,e[240],d(x.getCleanSourceTitle()),e[241])}}g(v,e[47])}else{g(v,e[243]);var q=null;try{var n=streets.service("reader");var m=n.getPreference("customSharing");
if(m!=null){var t=x.getTitle();var l=x.getId();var j=x.getCleanSourceTitle();var w=x.getBestAlternateLink();var p=n.getUserId();q=m;var s=n.getPreference("customizationKey")||"";if(s.indexOf("REDEF")>-1){q=q.replace("add","mobile","gi")}q=q.replace("${id}",encodeURIComponent(l),"gi").replace("${url}",encodeURIComponent(w),"gi").replace("${source}",encodeURIComponent(j),"gi").replace("${userId}",encodeURIComponent(p),"gi").replace("${title}",encodeURIComponent(t),"gi")
}}catch(r){$feedly("[custom sharing] failed to create URL:"+r.name+" vs "+r.message)}if(q!=null){g(v,e[244],c(q),e[245],OUTER,e[246],c(x.getAlternateLink()),e[247])}else{g(v,e[248],u,e[249],OUTER,e[246],c(x.getAlternateLink()),e[247])}g(v,e[47])}return v.join(f)};i.loadingWebsite=function(j){var l=[];g(l,e[196],THEME(),e[250]);return l.join(f)};i.entryPreview=function(j){var l=[];
g(l,e[196],THEME(),e[50]);g(l,i.entryStart(j));g(l,e[251]);g(l,i.entryEnd(j));g(l,e[201]);return l.join(f)};i.metadataDump=function(l){var m=[];g(m,e[252]);for(var j in l.metadata){g(m,e[253],j,e[254],JSON.stringify(l.metadata[j]),e[255])}g(m,e[256],JSON.stringify(l.jsonInfo.visual),e[256],JSON.stringify(l.listContentVisuals()),e[60]);var p=l.listContentVisuals();
if(p.length>0){g(m,e[257]);for(var n=0;n<p.length;n++){g(m,e[258],p[n].url,e[259],p[n].url,e[260],p[n].width==null?"?":p[n].width,e[28],p[n].height==null?"?":p[n].height,e[261])}g(m,e[47])}g(m,e[47]);return m.join(f)};i.direction=function(l){var j=[];if(l==true){g(j,e[262])}return j.join(f)};i.entryStart=function(j){var l=[];g(l,e[263],THEME(),e[264],AD,e[11],j.metadata.promoted==true?"promoted":"",e[50]);
return l.join(f)};i.entryHeading=function(j){var l=[];if(j.hasContentHeader()){g(l,e[265],templates.mobile.direction(j.isTitleRTL()),e[266],j.getAlternateLink(),e[267],j.getHighlightedTitle(),e[268],j.getId(),e[269],j.isHot()?"hot":"",e[270],j.isQuicklisted()==false&&j.getEngagement()==0?"none":"inline",e[50]);g(l,templates.mobile.meta(j,3));g(l,e[271],d(j.getCleanSourceTitle()),e[123]);
if(j.listAuthors().length>0){g(l,e[272],j.listAuthors(),e[123])}g(l,templates.mobile.dateAsDuration(j.getCrawledDate(),{},true));g(l,e[273])}return l.join(f)};i.entryEnd=function(j){var l=[];g(l,e[60]);return l.join(f)};i.layoutViz=function(){var j=[];g(j,e[274],-PAD,e[275],-PAD,e[276]);return j.join(f)};i.sampleAppOfTheDay=function(){var j=[];g(j,e[277]);
return j.join(f)};e=[' <div class="dot touchable" \n',' data-app-action="','" \n',' data-app-action-input="',' data-url="',' \nstyle="width:',"; height: ","; float:","; margin-right:","px; margin-bottom:","px; background:"," ",' top left no-repeat"> \n<div class="label"> \n',' \n</div> \n<div class="hint"> \n'," \n</div> \n</div> \n"," \nSign in using Google \n",' \n<div class="popupbox" style="width:','px; padding:20px; line-height: 24px"> \nLogin to save your favorites and access them from all your devices.<br> \n<div style="padding-top: 20px; text-align:right"> \n<div class="button touchable google" data-app-action="setupGooglePlusLogin">Login with Google</div> \n</div> \n</div> \n',' \n<!-- templates.mobile.activitySign( "Jump to next", label, false ) --> \n','\n<div style="line-height: 1.6em; font-size:16px"> \n<div style="font-weight:bold">System Metrics</div> \n'," : "," <br/> \n"," device pixel ratio: "," <br/> \nsoft buttons: ",'<br/> \n<div style="margin-top:1em; font-weight:bold">Dimensions</div> \nlayout type (aka. AD): ',"<br/> \nportrait: ","<br/> \nlandscape: ","<br/> \ncurrent: "," x ",' \n</div> \n<p> \n<div id="mailDebugInfo" data-app-action="mailDebugInfo" class="button touchable"> \nEmail Debug Information \n</div> \n',' \n<div data-app-action="testExpireOAuthToken" class="button touchable"> \nTest Expire OAuth Token \n</div> \n<div data-app-action="testCorruptRefreshToken" class="button touchable"> \nTest Corrupt Refresh Token \n</div> \n<div data-app-action="testFailed" class="button touchable"> \nTest Failed \n</div> \n<div data-app-action="testTooltip" class="button touchable"> \nTest Tooltip \n</div> \n','\n<table cellpadding="3" cellspacing="0" border="1" style="border: 1px solid #808080"> \n',' <tr> \n<td style="border: 1px solid #808080"> \n',' \n</td> \n<td style="border: 1px solid #808080"> \n'," \n</td> \n</tr> \n"," </table> \n",' \n<div style="margin-right:','px"> \n<div class="connector"> \nEvernote \n',' <div id="evernoteConnector" data-card-action="disconnectEvernote" class="button touchable"> \nDisconnect from Evernote \n</div> \n',' <div id="evernoteConnector" class="button disabled"> \nNot connected yet \n</div> \n',' </div> \n<div class="connector"> \nOneNote \n',' <div id="windowsLiveConnector" data-card-action="disconnectWindowsLive" class="button touchable"> \nDisconnect from OneNote \n</div> \n',' <div id="windowsLiveConnector" class="button disabled"> \nNot connected yet \n</div> \n'," </div> \n</div> \n",' \n<div class="help green"> \n<div class="welcomePoster"> \n<div class="posterText"> \nThe \n<b>information</b> \nyou need to \n<b>keep ahead</b>. \n</div> \n<div class="metaText"> \nA single place to read and share the content of your favorite sites. \n</div> \n</div> \n',' <div id="scrollHelper"></div> \n',' <div id="swipeHelper"></div> \n'," </div> \n",'\n<div class="tutorial"> \n<div class="header">','</div> \n<div class="description" style="display:','"> \n',' \n</div> \n<div class="illustration" style="background-image:url( images/mobile-illustration-',".",'.png )"></div> \n</div> \n',' \n<div class="help blue"> \n<div class="header">Introducing Stack</div> \n<div class="description"> \nA faster vertical swiping model. See settings to roll back to the old \nhorizontal swipe. \n</div> \n',' \n<div class="help blue"> \n<div class="header">Home</div> \n<div class="description"> \nThe top stories in your feedly. \n</div> \n',' \n<div class="help blue"> \n<div class="header">Explore</div> \n<div class="description"> \nDiscover new sources. \n</div> \n',' \n<div class="help blue"> \n<div class="header">Saved for later</div> \n<div class="description"> \nList of stories you have saved for later in feedly. \nAccessible across devices. \n</div> \n',' \n<div class="help teal"> \n<div class="header">Not Found</div> \n<div class="description"> \nThere are no stories or videos available in this feed. Please \ntry another site or try to reload later. \n</div> \n</div> \n',' \n<div class="help blue"> \n<div class="header"> \n<div class="hint" style="background-color:rgba( 0, 0, 0, 0.2 )">Coming next</div> \n<div style="clear:both; margin-top: 18px"> \n'," \n</div> \n",' <div class="metadata" style="margin-top:6px">'," unread article","</div> \n",' <div class="metadata" style="margin-top:6px">no unread stories</div> \n','\n<div id="','_announcement" class="announcement ','" data-card-action="handleCallForAction"> \n<div id="','_announcement_container" class="container" style="opacity:',' <div id="','_announcement_illustration" class="illustration" style="background-image:url( ',' )"></div> \n','_announcement_illustration" class="illustration" style="background-image:url( images/mobile-illustration-','@2x.png )"></div> \n','_announcement_message" class="message"> \n<div id="','_announcement_header" class="header">','</div> \n<div id="','_announcement_description" class="description"> \n','_announcement_cfa" class="touchable cfa" data-touch-highlight="rgba( 0, 0, 0, 0.8 )" data-card-action="handleCallForAction"> \n','_monster" class="please ','_monster_container" class="container"> \n<div id="','_monster_illustration" class="illustration" style="background-image:url( images/mobile-','@2x.png )"></div> \n<div id="','_monster_message" class="message"> \n<div id="','_monster_header" class="header">','_monster_description" class="description"> \n','_monster_cfa" class="touchable cfa" data-touch-highlight="','" data-card-action="handleCallForAction"> \n',' \n<div id="markasread_monster" class="monster buttonable"> \n<div id="markasread_monster_container" class="container"> \n<div id="markasread_monster_header" class="header">Done</div> \n<div id="markasread_monster_illustration" class="illustration" style="background-image:url( ',' )"></div> \n<div id="markasread_monster_stats" class="message"> \n','\n</div> \n<div id="markasread_monster_cfa" class="touchable secondary" data-card-action="handleCallForAction" > \nMark all as read \n</div> \n</div> \n</div> \n',' <div style="width: ','px; margin-left:auto; margin-right:auto;"> \n<div class="statCell"> \n<div class="statNumber">','</div> \n<div class="statLabel">reviewed</div> \n</div> \n',' <div class="statCell"> \n<div class="statNumber">','</div> \n<div class="statLabel">read</div> \n</div> \n','</div> \n<div class="statLabel">saved</div> \n</div> \n',' <div style="clear:both"></div> \n</div> \n<div style="clear:both"></div> \n','_monster" class="monster ','_monster_illustration" class="illustration" style="background-image:url( images/mobile-monster-',"@2x.png ); margin-top:",'px"></div> \n<div id="',' <div class="gettingStarted"> \n<div id="exploreMessage"> \n<div class="hintDescription"> \nGet started \n</div> \n<div class="hintHeader">Pick a topic or blog you like</div> \n</div> \n',' <div id="personalizedSuggestions" style="position:absolute; bottom: ','px; width: 100%"> \n<div style="text-align:center; margin-bottom:','px; opacity:0.5">Get personalized suggestions</div> \n<div id="personalizeWithGoogle" class="touchable button2 google" data-touch-highlight="#3C76C9" data-app-action="setupGooglePlusLogin" data-app-action-input="signup"> \nPersonalize with Google \n</div> \n<div id="personalizeWithFacebook" class="touchable button2 facebook" data-touch-highlight="#304372" data-app-action="setupFacebookLogin" data-app-action-input="signup"> \nPersonalize with Facebook \n</div> \n</div> \n',' \n<div class="explain" style="height:',"px; width:",'px; display: table-cell; vertical-align: middle; padding-top:50px"> \n<div style="max-width:500px"> \n<b style="color:','">','</b> \n<span style="color:',"</span> \n",' <div class="button">',"</button> \n",' \n<div class="box"> \n<div class="message">','</div> \n<div id="confirmYes" class="button">Yes</div> \n<div id="confirmNo" class="button">No</div> \n</div> \n','</div> \n<input type="text" id="promptInput"> \n<div id="promptYes" class="button">','</div> \n<div id="promptNo" class="button">Cancel</div> \n</div> \n',' \n<div id="indicator" class="loadingSign" style="margin-top: ','px"> \n<img id="activitySpinner" src="','" width="51" height="51" align="absmiddle" /> \n<div id="activityHint" style="margin-top:9px">',"...</div> \n</div> \n",' <span class="detail">/ '," \n","\n<html> \n<head> \n<title>",'</title> \n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> \n',' <meta name="viewport" content="initial-scale=1,minimum-scale=1,maximum-scale=',",width=",",user-scalable="," <script> \nvar AD = ",'; \nvar ACTIVITY_NAME = "','"; \nvar PANEL_W = ',"; \nvar NAVIGATION_BAR = ","; \nvar LOCATOR = ","; \nvar LIST_BAR = ","; \nvar TOUCH_HIGHLIGHT_DELAY = ","; \nvar TOUCH_SLOP = ","; \nvar PAD = ","; \nvar OUTER = ","; \nvar INNER = ","; \nvar W = ","; \nvar H = ","; \nvar PALETTE = ","; \nvar PALETTE_HI = ","; \nvar THEME_WHITE = ","; \nvar THEME_BLACK = ",'; \nvar FEEDLY_GREEN = "','"; \nvar FEEDLY_GREEN_HI = "','"; \nvar ESB = ',"; \nvar DPR = ",'; \nvar MODE = "','"; \nvar LETTER_SPACING = "','"; \nvar feedlyApplicationType = "','"; \nvar feedlyApplicationVersion = "','"; \nvar devhd = { i18n : {} }; \nvar templates = {}; \nvar feedlyTheme = ',"; \nvar feedlyFont = ","; \nvar fFaces = ",'; \nvar initialTheme = "','"; \nfunction MAIN() \n{ \ndocument.body.innerHTML = "<span style=\'color:',"; padding:17px'>Empty</span>\"; \n} \nfunction ONAPPEVENT() \n{ \n} \nwindow.onload = function(){ \ndocument.body.innerHTML = \"<span style='color:","; padding:17px'></span>\"; \n$B.core.wm.markAsReady(); \ndocument.body.innerHTML = \"<span style='color:",'; padding:17px\'></span>"; \n} \n<\/script> \n<!--inject.bridge--> \n<script src="mobile/activity.','.js"><\/script> \n<style> \nbody \n{ \nbackground-color : ','; \n} \n</style> \n</head> \n<body id="activity" style="-webkit-text-size-adjust:none;"></body> \n</html> \n',' \n<div class="popupbox"> \n<div style="padding:5px; border-bottom : 1px solid ','"> \n<div style="background-image:url( ',' )" class="viewOption touchable ','" data-app-action="askTitleOnlyView"></div> \n<div style="background-image:url( ','" data-app-action="askListView"></div> \n<div style="background-image:url( ','" data-app-action="askMagazineView"></div> \n<div style="background-image:url( ','" data-app-action="askCardsView"></div> \n<div style="clear:both"></div> \n</div> \n<div style="background-image:url( ',' )" class="option touchable" data-app-action="refresh">Refresh</div> \n',' <div style="background-image:url( ',' )" class="option touchable" data-app-action="askMarkFeedAsMustRead">Promote to Must Read</div> \n',' )" class="option touchable" data-app-action="askUndoMarkFeedAsMustRead">Undo Must Read</div> \n',' )" class="option touchable" data-app-action="handleMarkEditoAsRead">Mark All As Read</div> \n',' )" class="option touchable" data-app-action="askOldestFirst">Oldest Stories First</div> \n',' )" class="option touchable" data-app-action="askUndoOldestFirst">Undo Oldest First</div> \n',' )" class="option touchable" data-app-action="askHideRead">Show Updates Only</div> \n',' )" class="option touchable" data-app-action="askShowRead">Show All Stories</div> \n',' )" class="option touchable" data-app-action="askOpenDirectly">Open Webpage Directly</div> \n',' )" class="option touchable" data-app-action="askUndoOpenDirectly">Undo Open Directly</div> \n',' \n<div style="background-image:url( ',' )" class="option touchable" data-app-action="askUnfollowCurrentFeed">Remove</div> \n</div> \n',' )" class="option touchable" data-app-action="handleMarkEditoAsRead">',' <span class="nbrRecommendations" title="',' <span id="','_quicklisted" class="quicklisted" style="display:','"></span> \n',' <div style="direction:ltr; display:inline-block"> \n',' <span class="lessThanAnHour">',"&nbsp;","",' <span class="lessThanAnHour">/&nbsp;','\n<table height="100%" width="100%" border="0"> \n<tr> \n<td valign="middle" style="text-align:center; color:#909090"> \n<img src="','" width="51" height="51" align="absmiddle" /> \n</td> \n</tr> \n</table> \n',' \n<div class="',' <div id="content" class="content" style="display:none"> \n<iframe src="about:blank" width="','" height="','" data-src="http://www.youtube.com/embed/','?hd=1&showinfo=0" frameborder="0" allowfullscreen></iframe> \n</div> \n<div id="callForActionsSection"> \n<div style="clear:both"></div> \n',"\n</div> \n",' \n<div id="content" class="content" style="display:none"> \n<iframe src="about:blank" width="','" data-src="http://player.vimeo.com/video/','?hd=1&showinfo=0" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe> \n</div> \n<div id="callForActionsSection"> \n<div style="clear:both"></div> \n',"\n"," \n<body> \n",' \n<br/> \n<br/> \n---- <br/> \n<b><a href="','</a></b><br/> \n// <b><a href="',"</a></b><br/> \n<br/> \n",' \n<br/> \n---- <br/><br/> \nShared via <b><a href="http://feedly.com">my feedly reader</a></b> \n</body> \n'," \n<body> \n<br/> \n<br/> \n---- <br/> \n<b>",'</b><br> \n<a href="','</a><br/> \n---- <br/> \nShared via <b><a href="http://feedly.com">my feedly reader</a></b> \n</body> \n','\n<div class="','\n<div id="feedlyPromotedHeader" style="display:none"></div> \n',"\nfailed to render heading ",'\n<div id="content" class="content" style="display:none"> \n<div id="oneNoteLinkHolder"> \n',' <a href="','" class="oneNoteLink"> \nSee version saved in OneNote \n</a> \n',' </div> \n<div id="evernoteLinkHolder"> \n',' <div class="evernoteLink"> \nSaved in Evernote \n</div> \n',' </div> \n<div id="tagHolder"> \n',' <div class="tag" onclick="askRemoveTag( this )" data-tag="',' <div class="externalVisual"> \n<img src="','" width="','" /> \n</div> \n',' <img src="','" /> \n',' <video src="','" type="','" \ncontrols="controls" preload="none" \nonclick="this.play()" \n/> \n',' <audio src="',' <div class="attachment"> \n<br/> \n<video \nsrc="','" \ncontrols="controls" preload="none" \nonclick="this.play()" \n/> \n</video> \n</div> \n',' </div> \n<div id="callForActionsSection"> \n<div style="clear:both"></div> \n<div id="feedlyShowImageCaption" data-text-length="','" data-visuals-count="','" style="display:none; clear:both"> \n<div id="feedlyImageCaption" style="display:none; margin-top:30px; margin-bottom:47px"></div> \n<div id="feedlyShowImageCaptionButton" class="showImageCaption" onclick="document.getElementById( \'feedlyImageCaption\' ).style.display=\'block\'; this.style.display=\'none\'">Show image caption</div> \n</div> \n',"\nfailed to render entry ",' <div id="addToMyFeedly" class="addToMyFeedly" onclick="addToMyFeedly()"> \n+feedly \n</div> \n<div style="font-size:12px; line-height:16px; padding-bottom: 17px; text-align: center"> \n'," Get <b>","</b> delivered to your feedly. \n"," And never miss a post. \n",' <div style="clear:both"> \n',' <a class="callForAction" href="','">Custom sharing \n</a><a class="callForAction" style="margin-left:','px" href="','">Visit website</a> \n',' <div class="callForAction" ontouchend="favoriteShare()">',' \n</div><a class="callForAction" style="margin-left:','"> \n<div id="content" class="content loading"> \n<span style="font:sans-serif">Loading website...</span> \n</div> \n</div> \n','\n<div id="content" class="content loading"> \nLoading website... \n</div> \n',' \n<div onclick="document.getElementById( \'feedlyDebugMetadata\' ).style.display=\'block\'; this.style.display=\'none\'" style="border-radius:4px; clear:both; padding:20px; margin-top: 20px; margin-bottom: 20px; text-align:center; background-color:#E0E0E0; color:#808080"> \nShow debug metadata \n</div> \n<div id="feedlyDebugMetadata" style="display:none"> \n<div style="background-color:yellow; font-size: 13px; line-height: 17px; padding:5px"> \n'," <b>","</b> ","<br/> \n"," \n<br/><br/> \n",' <div style="background-color:cyan; font-size: 13px; line-height: 17px; padding:5px"> \n',' <div> \n<div style="margin-right:5px; width:100px; height: 100px; background-image:url( ',' ); -webkit-background-size:cover; float: left" ></div> '," --> ",' \n<div style="clear:both"></div> \n</div> \n',' style="direction:rtl;text-align:right" \n',' \n<div id="entry" class="'," d",' <div class="header" ','> \n<a style="display:block" href="','" \nclass="title" target="_blank">','</a> \n<div class="metadata"> \n<span id="','_meta" class="likes ','" style="display:',"\n</span> \n"," / by ","\n</div> \n</div> \n",' \n<div id="vis" style="margin-top:',"px; margin-left:",'px; overflow: hidden"></div> \n',' \n<div class="feedlyAppAdCard touchable" style="background-image:url( images/mobile-promotedapp-clashoftheclans.png )" data-card-action="showProduct"> \n<div class="feedlyAppAdInfo"> \n<div class="feedlyAppAdEtiquette ad">Ad</div> \n<div class="feedlyAppAdEtiquette">App of the day</div> \n<div class="feedlyAppAdName">Class of Clans</div> \n<div class="feedlyAppAdDescription">Lead your clan to victory in an epic combat. Build your village, train your troups and battle!</div> \n<div class="feedlyAppAdSeparator"></div> \n<div class="feedlyAppAdAction">Start playing</div> \n<div class="feedlyAppAdRating rating9out10"></div> \n<div class="feedlyAppAdMeta">New release</div> \n</div> \n</div> \n']
})();XOXOXOonFeedlyFileIncluded("lib/observable.js");"use strict";(function(){var b=devhd.pkg("model");var a=b.createClass("Observable");a.initialize=function(){this.observers=[]};a.registerObserver=function(c){if(this.observers.indexOf(c)>=0){return}this.observers.push(c)};a.unregisterObserver=function(d){var c=this.observers.indexOf(d);if(c<0){return
}this.observers.splice(c,1)};a.removeAllObservers=function(){this.observers=[]};a.fire=function(f,h,g,d,p){if(this.observers.length==0){return}var n=[];for(var j in this.observers){n.push(this.observers[j])}for(var l=0;l<n.length;l++){try{var c=n[l];if(this.observers.indexOf(c)<0){}else{if(c[f]){c[f].call(c,h,g,d,p)}else{if(c.onEvent!=null){c.onEvent.call(c,f,h,g,d,p)
}else{if(typeof(c)=="function"){c.call(c,f,h,g,d,p)}}}}}catch(m){$feedly(devhd.utils.ExceptionUtils.formatError("notify observer",m)+". Hint: "+n[l]+"."+f)}}};a.destroy=function(){this.removeAllObservers()};a.toString=function(){var c="[obj:"+this.$clazz.$name;if(this.id){c+=","+this.id}return c+"]"};b.createObservable=function(d){var c=new devhd.model.Observable();
c.id=d;c.toString=function(){return"[service:"+this.id+"]"};c.$feedly=function(e){$feedly("["+this.id+"] "+e)};return c}})();XOXOXOonFeedlyFileIncluded("lib/locales.js");"use strict";(function(){var d=devhd.pkg("i18n.locales");var q=devhd.i18n.L;function t(w,A,z){var x,y="";if(typeof w=="string"){y="<"+w+">"}else{if(w&&w.length){for(x=0;x<w.length;x++){y+="<"+w[x]+">"
}}}return y}function p(y,C,B){var z,w,A="";if(typeof y=="string"){w=y.indexOf(" ");A="</"+(w<0?y:y.substring(0,w))+">"}else{if(y&&y.length){for(z=0;z<y.length;z++){w=y[z].indexOf(" ");A+="</"+(w<0?y[z]:y[z].substring(0,w))+">"}}}return A}function n(w,y,x){return w.toLowerCase()}function v(w,y,x){return w.toUpperCase()}function g(w,A,z){var x,y=w.split(/\s+/);
for(x=0;x<y.length;x++){y[x]=y[x].charAt(0).toUpperCase()+y[x].substring(1)}return y.join(" ")}function i(w,y,x){return w.charAt(0)+w.substring(1)}function m(w,y,x){return devhd.str.toSafeHTML(w)}function b(w,y,x){if(typeof w=="string"){return w}if(w!=null){return w.toString()}return x||""}function r(y){var w,x;for(w=1;w<arguments.length;w++){x=arguments[w];
if(typeof x=="string"){return x}if(x&&x.length>=3){if((x[1]==0&&y==x[0])||(x[1]==-1&&y<=x[0])||(x[1]<-1&&y<x[0])||(x[1]==1&&y>=x[0])||(x[1]>1&&y>x[0])){return x[2]}}}return""}function j(w,y,x){if(y=="long"){return devhd.date.formatDate(w,q(47))}if(y=="short"){return devhd.date.formatDate(w,q(48))}return devhd.date.formatDate(w,q(49))}function u(w,y,x){if(y=="long"){return devhd.date.formatDate(w,q(50))
}if(y=="short"){return devhd.date.formatDate(w,q(51))}return devhd.date.formatDate(w,q(52))}function c(w,y,x){return q(q(53),u(w,y,x),j(w,y,x))}function h(w,y,x){return devhd.number.formatNumber(w,q(54),y,x)}function a(w,y,x){return devhd.number.formatNumber(w,q(55),y,x)}function s(w,y,x){return devhd.number.formatNumber(w*100,q(56),y,x)}function e(w,A,z){var x=w[0],y=w[1];
return devhd.utils.AnnotationUtils.highlightTerm(devhd.str.toSafeHTML(x),y)}var l={};l.tag=t;l.t0=p;l.lowercase=n;l.uppercase=v;l.upper=g;l.capitalize=i;l.choice=r;l.text=m;l.html=b;l.hilite=e;l.date=j;l.time=u;l.datetime=c;l.number=h;l.currency=a;l.percent=s;var f=devhd.extend({},l);d["en-us"]=f;f=devhd.extend({},l);d.pl=f;f=devhd.extend({},l);d.fr=f;
f=devhd.extend({},l);d["en-ca"]=f;f=devhd.extend({},l);d.de=f;f=devhd.extend({},l);d["en-gb"]=f;f=devhd.extend({},l);d.it=f})();XOXOXOonFeedlyFileIncluded("lib/l10n.js");(function(){var b=devhd.i18n,a=[],c="";a[0]="en-us";a[1]="en-us";a[2]="en";a[3]="us";a[59]="all sources";a[63]="annotated articles";a[57]="All";a[62]="my shared items";a[60]="reading history";
a[69]=function(d){return[b.F(d,"number"),b.F(d,"choice",[1,0,"d"],"d")].join(c)};a[72]=function(d){return[b.F(d,"number")," ",b.F(d,"choice",[1,0,"day"],"days")," ago"].join(c)};a[68]=function(d){return[b.F(d,"number"),b.F(d,"choice",[1,0,"h"],"h")].join(c)};a[71]=function(d){return[b.F(d,"number")," ",b.F(d,"choice",[1,0,"hour ago"],"hours ago")].join(c)
};a[67]=function(d){return[b.F(d,"number"),"min"].join(c)};a[70]=function(d){return[b.F(d,"number"),"min ago"].join(c)};a[61]="Saved for later";a[58]="uncategorized";a[43]="AM";a[42]="PM";a[50]="h:mm:ss a z";a[52]="h:mm:ss a";a[51]="h:mm a";a[47]="MMMM d, yyyy";a[49]="MMM d, yyyy";a[48]="M/d/yy";a[53]=function(e,d){return[b.F(d)," ",b.F(e)].join(c)};
a[30]="Jan";a[31]="Feb";a[40]="Nov";a[41]="Dec";a[32]="Mar";a[33]="Apr";a[34]="May";a[35]="Jun";a[36]="Jul";a[37]="Aug";a[38]="Sep";a[39]="Oct";a[18]="January";a[19]="February";a[28]="November";a[29]="December";a[20]="March";a[21]="April";a[22]="May";a[23]="June";a[24]="July";a[25]="August";a[26]="September";a[27]="October";a[11]="Sun";a[12]="Mon";a[13]="Tue";
a[14]="Wed";a[15]="Thu";a[16]="Fri";a[17]="Sat";a[4]="Sunday";a[5]="Monday";a[6]="Tuesday";a[7]="Wednesday";a[8]="Thursday";a[9]="Friday";a[10]="Saturday";a[65]=".";a[66]=",";a[64]=";";a[54]="#,##0.###;-#,##0.###";a[55]="\u00a4#,##0.00;(\u00a4#,##0.00)";a[56]="#,##0%";b.setData(a)})();(function(){var b=devhd.i18n,a=[],c="";a[0]="pl";a[1]="pl-";a[2]="pl";
a[3]="";a[59]="all sources";a[63]="annotated articles";a[57]="latest";a[62]="my shared items";a[60]="reading history";a[69]=function(d){return[b.F(d,"number")," ",b.F(d,"choice",[1,0,"dzie\u0144"],"dni")," temu"].join(c)};a[72]=function(d){return[b.F(d,"number")," ",b.F(d,"choice",[1,0,"day"],"days")," ago"].join(c)};a[68]=function(d){return[b.F(d,"number")," ",b.F(d,"choice",[1,0,"godzina"],[4,-1,"godziny"],"godzin")," temu"].join(c)
};a[71]=function(d){return[b.F(d,"number")," ",b.F(d,"choice",[1,0,"hour ago"],"hours ago")].join(c)};a[67]=function(d){return[b.F(d,"number")," ",b.F(d,"choice",[1,0,"minuta"],[4,-1,"minuty"]," minut")," temu"].join(c)};a[70]=function(d){return[b.F(d,"number"),"min ago"].join(c)};a[61]="Zapisane na p\u00f3\u017aniej";a[58]="uncategorized";a[43]="AM";
a[42]="PM";a[50]="HH:mm:ss z";a[52]="HH:mm:ss";a[51]="HH:mm";a[47]="d MMMM yyyy";a[49]="yyyy-MM-dd";a[48]="yy-MM-dd";a[53]=function(e,d){return[b.F(d)," ",b.F(e)].join(c)};a[30]="sty";a[31]="lut";a[40]="lis";a[41]="gru";a[32]="mar";a[33]="kwi";a[34]="maj";a[35]="cze";a[36]="lip";a[37]="sie";a[38]="wrz";a[39]="pa\u017a";a[18]="stycze\u0144";a[19]="luty";
a[28]="listopad";a[29]="grudzie\u0144";a[20]="marzec";a[21]="kwiecie\u0144";a[22]="maj";a[23]="czerwiec";a[24]="lipiec";a[25]="sierpie\u0144";a[26]="wrzesie\u0144";a[27]="pa\u017adziernik";a[11]="N";a[12]="Pn";a[13]="Wt";a[14]="\u015ar";a[15]="Cz";a[16]="Pt";a[17]="So";a[4]="niedziela";a[5]="poniedzia\u0142ek";a[6]="wtorek";a[7]="\u015broda";a[8]="czwartek";
a[9]="pi\u0105tek";a[10]="sobota";a[65]=",";a[66]="\u00a0";a[64]=";";a[54]="#,##0.###;-#,##0.###";a[55]="\u00a4 #,##0.00;-\u00a4 #,##0.00";a[56]="#,##0%";b.setData(a)})();devhd.i18n.sealData();XOXOXOonFeedlyFileIncluded("lib/str.js");"use strict";(function(){var c=devhd.pkg("str");var b=/<\/?[^>]+>/gi;c.stripTags=function(d){if(d==null){return null}return d.replace(b,"")
};c.trim=function(f){var e,d;for(e=0;e<f.length;e++){if(c.isSpace(f.charAt(e))==false){break}}for(d=f.length-1;d>e;d--){if(c.isSpace(f.charAt(d))==false){break}}if(e!=0||d!=f.length){return f.substr(e,d-e+1)}return f};c.endsWith=function(f,d){var e=this.lastIndexOf(d);return e==(f.length-d.length)};c.isSpace=function(d){return d==" "||d=="\f"||d=="\n"||d=="\r"||d=="\t"
};c.toSafeHTML=function(d){try{if(d==null){return""}if(typeof d!="string"){return d}if(typeof d.replace!="function"){return d}return d.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(f){LOG.error(62," toSafeHTML failed to safe html content attr",f);return""}};c.toSafeAttr=function(d){if(d==null){return""}if(typeof d!="string"){return d}if(typeof d.replace!="function"){return d
}return d.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ")};c.toSafeAttr2=function(d){if(d==null){return""}if(typeof d!="string"){return d}if(typeof d.replace!="function"){return d}return d.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")};c.toJsEsc=function(d){if(d==null){return""
}if(typeof d!="string"){return d}if(typeof d.replace!="function"){return d}d=d.replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/\'/g,"\\'").replace(/&#39;/g,"\\'").replace(/\n/g," ");d=d.replace(/\f/g," ").replace(/\r/g," ").replace(/\t/g," ");return d};c.escape=function(d){if(d==null){return""}d=d.replace(/\\/g,"\\\\").replace(/\"/g,'\\"').replace(/\'/g,"\\'").replace(/\n/g,"\\n");
d=d.replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/\t/g,"\\t");return d};c.toSource=function(d){return'"'+c.escape(d)+'"'};c.normalizeSpaces=function(d){return this.replace(/\s+/g," ")};c.left=function(e,d){if(e.length<d){return e}return e.substr(0,d-3)+"..."};var a=/\$\{(.*?)\}/gm;c.replaceTokens=function(d,e){return d.replace(a,function(g,f){return e[f]||""
})}})();XOXOXOonFeedlyFileIncluded("lib/features.js");"use strict";(function(){var b=devhd.pkg("features");var e=b.bind={};e.bind=function(g,j,h,f){var i=this,l;if(this.bindings==null){this.bindings=[]}if(typeof g=="string"){g=this.element(g)}if(g==null){return}if(typeof j=="string"){l=function(m){return h.call(i,m)};this.bindings.push({element:g,event:j,listener:l});
devhd.utils.HTMLUtils.addEventListener(g,j,l,f===true)}else{devhd.bindml.bind(g,j,this.home);this.bindings.push({element:g,behavior:j})}if(this.home!=null){this.home.track(g,j)}};e.unbind=function(j,l){if(j==null){return true}if(this.bindings==null){this.bindings=[]}var f=this.bindings.length;for(var h=0;h<this.bindings.length;h++){var g=this.bindings[h];
if(g.element!=j){continue}if(g.event==l){devhd.utils.HTMLUtils.removeEventListener(g.element,g.event,g.listener,false);g.element=null;g.listener=null;this.bindings.splice(h,1);if(this.home!=null){this.home.untrack(j,l)}}else{if(g.behavior==l){devhd.bindml.unbind(g.element,g.behavior);g.element=null;g.listener=null;g.behavior=null;this.bindings.splice(h,1);
if(this.home!=null){this.home.untrack(j,l)}}}}if(f==this.bindings.length){return false}return true};e.unbindAll=function(){var f;if(this.bindings==null){return}while(this.bindings.length){f=this.bindings.pop();if(f.listener){devhd.utils.HTMLUtils.removeEventListener(f.element,f.event,f.listener,false);if(this.home!=null){this.home.untrack(f.element,f.event)
}}else{devhd.bindml.unbind(f.element,f.behavior);if(this.home!=null){this.home.untrack(f.element,f.behavior)}}f.behavior=null;f.element=null;f.listener=null}};var c=b.home={};c.element=function(f,g){if(this.home==null){return null}return this.home.element(f,g)};c.setHome=function(f){this.home=f};var d=b.schedule={};function a(){if(this.namedTimers==null){this.namedTimers={}
}if(this.allTimers==null){this.allTimers=[]}}d.schedule=function(i,m,h,f,l,j){a.call(this);var g=this.home.getDocument().defaultView;this.allTimers.push(g.setTimeout(function(){devhd.fn.callback(m,h,f,l,j)},i||1))};d.clearSchedule=function(){if(this.allTimers==null){return}var f=this.home.getDocument().defaultView;while(this.allTimers.length){f.clearTimeout(this.allTimers.pop())
}this.allTimers=null;this.namedTimers=null}})();XOXOXOonFeedlyFileIncluded("lib/date.js");"use strict";(function(){var h=devhd.pkg("date");var i=devhd.i18n.L;function a(){return[i(4),i(5),i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17)]}function c(){return[i(18),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26),i(27),i(28),i(29),i(30),i(31),i(32),i(33),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41)]
}var d=c();var f=a();var e=devhd.i18n.getLocale();function g(l){return(l<0||l>9?"":"0")+l}function b(){var l=devhd.i18n.getLocale();if(e!=l){d=c();f=a();e=l}}function j(V,R){b();R=R+"";var w="";var I=0;var U="";var q="";var v=V.getYear()+"";var r=V.getMonth()+1;var T=V.getDate();var A=V.getDay();var x=V.getHours();var L=V.getMinutes();var C=V.getSeconds();
var u=(-1)*Math.floor(V.getTimezoneOffset()/60);var F,G,n,D,X,p,Q,P,N,B,Z,Y,t,l,O;var J=new Object();if(v.length<4){v=""+(v-0+1900)}J.y=""+v;J.yyyy=v;J.yy=v.substring(2,4);J.M=r;J.MM=g(r);J.MMM=d[r+11];J.MMMM=d[r-1];J.NNN=d[r+11];J.d=T;J.dd=g(T);J.E=f[A+7];J.EE=f[A];J.H=x;J.HH=g(x);if(x==0){J.h=12}else{if(x>12){J.h=x-12}else{J.h=x}}J.hh=g(J.h);if(x>11){J.K=x-12
}else{J.K=x}J.k=x+1;J.KK=g(J.K);J.kk=g(J.k);if(x>11){J.a=i(42)}else{J.a=i(43)}J.m=L;J.mm=g(L);J.s=C;J.ss=g(C);J.z="UTC"+(u>=0?"+"+u:u);var S="'";while(I<R.length){U=R.charAt(I);if(U==S){do{U=R.charAt(++I);if(U==S){I++;if(R.charAt(I)!=S){break}}w+=U}while(I<R.length)}q="";while((R.charAt(I)==U)&&(I<R.length)){q+=R.charAt(I++)}if(J[q]!=null){w+=J[q]}else{w+=q
}}return w}h.formatDate=j})();XOXOXOonFeedlyFileIncluded("lib/number.js");"use strict";(function(){var g=devhd.pkg("number");var h=devhd.i18n.L;var d={};function i(m,l,j){return m.split(l)}function f(l,m){var j=d[m];if(!j){j=i(m,h(64),h(65));d[m]=j}if(l<0&&j.length>1){return j[1]}return j[0]}var h=devhd.i18n.L;var e=devhd.i18n.getLocale();function b(){var j=devhd.i18n.getLocale();
if(e!=j){d={};e=j}}function c(n){var m="",l,j;for(j=0;j<n.length;j++){l=n.charAt(j);if("0#.".indexOf(l)>=0){m+=l}}return m}function a(v,y){b();y=f(v,y);v=Math.abs(v*1);var p=-1<y.indexOf(","),l=c(y).split("."),x;if(1<l.length){v=v.toFixed(l[1].length)}else{if(2<l.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+y)
}else{v=v.toFixed(0)}}var z=v.toString();if(p){x=z.split(".");var w=x[0],s=[],t=w.length,r=Math.floor(t/3),q=w.length%3||3;for(var u=0;u<t;u+=q){if(u!=0){q=3}s[s.length]=w.substr(u,q);r-=1}z=s.join(h(66));if(x[1]){if(x[1]*1>0){z+=h(65)+x[1]}}}return y.replace(/[\d\#,?\.?]+/,z)}g.formatNumber=a})();XOXOXOonFeedlyFileIncluded("lib/atom@cloud.js");"use strict";
(function(){var a=devhd.pkg("cloud");var g=devhd.i18n.L;a.jsonFeedInfo=function(p,l){var n={};n.id=p.id;n.title=p.title;n.updated=devhd.utils.DateUtils.create(p.updated);n.website=null;if(p.alternate!=null&&p.alternate.length>0){n.website=p.alternate[0].href}if(n.id!=null&&n.id.indexOf("gdata.youtube.com/feeds/base/videos/-/")>-1){var q=n.id.split("/");
var m=q[q.length-1];n.title=decodeURIComponent(m.split("?")[0])+" on Youtube"}return n};var d=0;var c=a.createClass("JSONEntry");var j=/youtube\.com\/embed\/([A-Za-z0-9\-_]+)/i;var i=/youtube\.com\/v\/([A-Za-z0-9\-_]+)/i;var h=/ytimg\.com\/vi\/([A-Za-z0-9\-_]+)/i;var f=/youtube\.com\/watch\?v=([A-Za-z0-9\-_]+)/i;c.initialize=function(l,n,E,u){if(l.categories==null){l.categories=[]
}try{if(l.origin!=null&&l.origin.streamId=="feed/http://dailyporno.tumblr.com/rss"){l.title=l.title.replace(/<br>/g,"").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<");l.summary.content=l.summary.content.replace(/<br>/g,"").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}catch(D){}u=u||{};this._home="reader";this._format="json";
this.jsonInfo=l;this.id=l.id;this.feedId=l.origin.streamId;this.userId=n;this.channel=E;this.fuuid=d++;this.cleanSummary={};if(l.crawled==null){l.crawled=new Date().getTime()}if(l.published==null){l.published=l.crawled}if(l.updated==null){l.updated=l.published}var s=this.getUpdatedDate();this.lastModifiedDate=(s!=null)?s:this.getPublishedDate();this.lastModifiedTime=this.lastModifiedDate.getTime();
this.crawledDate=devhd.utils.DateUtils.create(this.jsonInfo.crawled);this.crawledTime=this.crawledDate.getTime();if(l.decorations==null){l.decorations={}}this.metadata={subscribed:null};try{if(this.jsonInfo.visual!=null&&ESB["nikon.debug"]!=true){if(this.jsonInfo.visual.url=="none"&&ESB["nikon.force"]!=true){this.metadata.noVisual=true}else{this.metadata.largestVisual=this.jsonInfo.visual;
this.enrichVisual(this.jsonInfo.visual.url,this.jsonInfo.visual.width,this.jsonInfo.visual.height)}}for(var z in u){if(z=="starred"){this.metadata.shared=u[z]}else{this.metadata[z]=u[z]}}this.metadata.synced=this.getEngagement();this.metadata.garbage=false;var y=this.getAlternateLink();if(y!=null){if(y.indexOf("pheedo.com")>-1||y.indexOf("click.phdo")>-1){this.metadata.garbage=true
}if(y.indexOf("techmeme.com")>-1){this.metadata.defaultNavigation="visit";this.metadata.substitutedAlternateLink=devhd.utils.HTMLUtils.getFirstLink(this.getContentOrSummary())}}if(u.imageUrl){this.metadata.featuredVisual={url:u.imageUrl,width:u.imageWidth,height:u.imageHeight}}if(this.getFeedId()!=null&&this.getFeedId().indexOf("news.google.com/news")>-1&&this.metadata.substitutedAlternateLink==null){this.metadata.defaultNavigation="visit";
this.metadata.channel=this.jsonInfo.origin.title;var x=this.getAlternateLink().split("&url=");if(x.length>1){this.metadata.substitutedAlternateLink=decodeURIComponent(x[1])}var x=this.getTitle().split(" - ");if(x.length>1){this.metadata.substitutedTitle=x.slice(0,x.length-1).join(" - ");this.metadata.substitutedSourceTitle=x[x.length-1]}}else{if(this.getFeedId()!=null&&this.getFeedId().indexOf("gdata.youtube.com/feeds/base/videos/-/")>-1){var x=this.getFeedId().split("/");
var q=x[x.length-1];this.metadata.substitutedSourceTitle=decodeURIComponent(q.split("?")[0])+" on Youtube";this.metadata.channel=this.metadata.substitutedSourceTitle}}this.metadata.summary=this.isSummary()?"yes":"no";this.metadata.moreable=false;var w=this.asText();var m=this.listContentLinks();this.metadata.links=m.length;if(m.length>0&&w.length<1000&&this.listContentVisuals(true).length<=2){for(var A=0;
A<m.length;A++){var B=m[A]["all"].toLowerCase();if(B.indexOf("more")>-1||B.indexOf("...")>-1||B.indexOf("…")>-1||B.indexOf("continue")>-1||B.indexOf("read")>-1||B.indexOf("full")>-1){this.metadata.moreable=true;break}}}if(this.metadata.moreable!=true){for(var A=0;A<m.length;A++){var B=m[A]["all"].toLowerCase();if(B.indexOf("read more...")>-1){this.metadata.moreable=true;
break}}}if(this.metadata.moreable!=true){if(w.length<1000&&(w.indexOf("[…]")>-1||w.indexOf("[...]")>-1)){this.metadata.moreable=true}}if(w.length<200&&this.listContentVisuals().length==0){this.metadata.moreable=true}if(w.length<200&&this.listContentVisuals().length<=1&&w.indexOf("...")>-1){this.metadata.moreable=true}if(this.metadata.moreable!=true){if(w.length<350&&this.hasOnlySmallVisuals()==true){this.metadata.moreable=true
}}this.metadata.key=this.getId();var v=this.getTitle();if(v.indexOf("[Sponsor]")>-1||v.indexOf("\u2665")>-1){this.metadata.sponsored=true;this.metadata.substitutedTitle=v.replace("\u2665 /","").replace("[Sponsor]","")}if(this.getAlternateLink().indexOf("youtube.com")>-1){var r=this.getAlternateLink();this.metadata.youtube=devhd.utils.RegExUtils.select(j,r)||devhd.utils.RegExUtils.select(i,r)||devhd.utils.RegExUtils.select(h,r)||devhd.utils.RegExUtils.select(f,r)
}var p=this.getContentOrSummary();if(p!=null&&p.indexOf("feedlyPromotedMetadata")>-1){this.metadata.promoted=true;this.metadata.promotion=this.extractPromotedMetadata(p);if(this.metadata.promotion!=null){this.metadata.promotion.userId=n}if(this.metadata.promotion!=null&&this.metadata.promotion.alternateURL!=null){this.metadata.cleanAlternateLink=this.metadata.promotion.alternateURL
}}}catch(C){console.log(C);$feedly("[entry] warning metadata enrichment failed:"+C.name+" -- "+C.message)}this.markAsReadable=true};c.extractPromotedMetadata=function(q){var l={};try{var n=devhd.utils.StringUtils.extractBetween(q,'<div class="feedlyPromotedMetadata">',"</div>");if(n==null||n.content==null){return null}n=devhd.str.trim(n.content);var t=n.split(";");
for(var m=0;m<t.length;m++){var u=t[m].split(":");l[devhd.str.trim(u[0])]=devhd.str.trim(u.slice(1).join(":"))}}catch(r){$feedly("[atom entry] failed to extract promotion information:"+r.name+" -- "+r.message)}return l};c.hasOnlySmallVisuals=function(){if(this.jsonInfo.visual!=null){if(this.jsonInfo.visual.width>280&&this.jsonInfo.visual.height>220){return false
}else{return true}}var m=this.listContentVisuals();if(m.length==0){return false}for(var l=0;l<m.length;l++){if(m[l].width==null||m[l].height==null){return false}if(m[l].width>280&&m[l].height>222){return false}}return true};c.getDecoration=function(l){return this.jsonInfo.decorations[l]};c.setDecoration=function(l,m){this.jsonInfo.decorations[l]=m};
c.getEngagementRate=function(){return this.jsonInfo.engagementRate};c.getEngagement=function(){return(this.jsonInfo.engagement||0)+(this.isStarred()?1:0)};c.setEngagement=function(l){this.jsonInfo.engagement=l};c.setNavigation=function(l){this.metadata.navigation=l};c.getNavigation=function(){return this.metadata.navigation||this.metadata.defaultNavigation||"inline"
};c.getChannel=function(){return this.metadata.channel||this.getCleanSourceTitle()};c.hasContentHeader=function(){return true};c.updateComments=function(m){if(m==null){return}this.jsonInfo.comments=m;for(var l=0;l<this.jsonInfo.comments.length;l++){if(this.jsonInfo.comments[l].userId==this.userId){this.jsonInfo.comments[l].me=true}}};c.getType=function(){return this.metadata.objectType||"regular"
};c.getAge=function(){return(new Date().getTime()-this.lastModifiedTime)/(3600*1000)};c.isFresh=function(){if(this.metadata.garbage==true){return false}return this.getAge()<3};c.isGem=function(){return this.metadata.mustRead==true};c.isHot=function(){if(this.metadata.garbage==true){return false}return(this.getEngagement()>100&&this.getEngagementRate()>3)||(this.getEngagement()>25&&this.getEngagementRate()>8)
};c.getPotential=function(){var l=this.getAge();var m=this.getEngagement();if(this.metadata.garbage==true){m=m/1000000}if(this.metadata.mustRead==true){if(this.isGem()&&this.getAge()<3){m=100+2*m}else{if(this.isGem()&&this.getAge()<devhd.utils.DateUtils.isDateToday(this.getLastModifiedDate())){m=50+2*m}else{if(this.getAge()<devhd.utils.DateUtils.isDateToday(this.getLastModifiedDate())){m=10+2*m
}else{m=5+2*m}}}}if(l<0.5){return 1+4*m}else{if(l<1){return 1+2*m}else{if(l<2){return 1+1.5*m}else{return 1+m}}}};c.getOriginalId=function(){return this.originalId};c.getId=function(){return this.id};c.getIdAsLong=function(){if(this.metadata.entryId==null){this.metadata.entryId=computeEntryId(this.getId())}return this.metadata.entryId};c.getFeedId=function(){return this.feedId||"feed/web"
};c.getFeedInfo=function(){return{id:this.feedId,title:this.getSourceTitle()}};c.getCrawlTime=function(){return this.crawledTime};c.getFingerPrint=function(){return this.getSourceTitle()+"/"+this.getTitle()};c.getTitle=function(){if(this.metadata.substitutedTitle!=null){return this.metadata.substitutedTitle}var m=this.jsonInfo.title;if(this.isTitleRTL()){return this.getCleanTitle()
}else{if(m==null){if(this.computedTitle==null){var l=devhd.str.stripTags(this.getContentOrSummary())||"[no title]";m=l.slice(0,120);if(l.length>120){m+="..."}this.computedTitle=m}m=this.computedTitle}}return m};c.getCleanTitle=function(){if(this.cleanTitle==null){var l=this.jsonInfo.title;if(l==null&&this.computedTitle==null){var m=devhd.str.stripTags(this.getContentOrSummary())||"[no title]";
title=m.slice(0,120);if(m.length>120){title+="..."}this.computedTitle=title}if(l==null){l=this.computedTitle||"untitled"}try{if(this.isTitleRTL()==true){l=l.replace('\u003cdiv style\u003d"direction:rtl;text-align:right"\u003e',"").replace("\u003c/div\u003e","")}}catch(n){}this.cleanTitle=devhd.utils.StringUtils.cleanTitle(l)}return this.cleanTitle};
c.getHighlightedTitle=function(l){if(l!=null){return devhd.utils.AnnotationUtils.highlightTextTerms(this.getCleanTitle(),l)}else{if(this.metadata.terms!=null){return devhd.utils.AnnotationUtils.highlightTextTerms(this.getCleanTitle(),this.metadata.terms)}else{return this.getCleanTitle()}}};c.getCleanSourceTitle=function(){if(this.cleanSourceTitle==null){var l=this.getSourceTitle();
try{if(this.isTitleRTL()==true&&l!=null&&typeof l.replace!=undefined){l=l.replace('\u003cdiv style\u003d"direction:rtl;text-align:right"\u003e',"").replace("\u003c/div\u003e","")}}catch(m){}this.cleanSourceTitle=devhd.utils.StringUtils.cleanSourceTitle(l)}return this.cleanSourceTitle};c.getMicroSourceTitle=function(){if(this.microSourceTitle==null){var l=this.getSourceTitle()||"untitled";
try{if(this.isTitleRTL()==true&&l!=null&&typeof l.replace!=undefined){l=l.replace('\u003cdiv style\u003d"direction:rtl;text-align:right"\u003e',"").replace("\u003c/div\u003e","")}}catch(m){}this.microSourceTitle=devhd.utils.StringUtils.microSourceTitle(l)}return this.microSourceTitle};c.getAlternate=function(m){if(this.jsonInfo.alternate==null||this.jsonInfo.alternate.length==0){return null
}var n=null;if(m==null){n=this.jsonInfo.alternate[0].href}if(n==null){for(var l=0;l<this.jsonInfo.alternate.length;l++){if(this.jsonInfo.alternate[l].type==m){n=this.jsonInfo.alternate[l].href;break}}}return n};c.setCleanAlternateLink=function(l){this.metadata.cleanAlternateLink=l;if(this.getAlternateLink().indexOf("pheedo.com")>-1||this.getAlternateLink().indexOf("click.phdo")>-1){this.metadata.garbage=true
}};c.getAlternateLink=function(m){if(m=="feedly"){return devhd.utils.FeedlyUtils.homeURL+"#entry/"+this.id}var l=this.metadata.substitutedAlternateLink||this.metadata.cleanAlternateLink||this.getCanonical("text/html")||this.getAlternate("text/html")||"about:blank";if(l.indexOf("utm_source=feedburner")>-1){return l.replace("utm_source=feedburner","utm_source=feedly&utm_reader=feedly")
}else{if(l.indexOf("utm_source=rss")>-1){return l.replace("utm_source=rss","utm_source=feedly&utm_reader=feedly")}else{if(l.indexOf("utm_source=")>-1){return l=l+"&utm_reader=feedly"}else{return l}}}};c.getBestAlternateLink=function(l){if(this.metadata.substitutedAlternateLink!=null){return this.metadata.substitutedAlternateLink}else{if(this.metadata.cleanAlternateLink){return this.metadata.cleanAlternateLink
}else{return this.getCanonical("text/html")||this.getAlternate("text/html")}}};c.getCanonical=function(n){if(this.jsonInfo.canonical==null){return null}var l=null;if(n==null&&this.jsonInfo.canonical.length>0){l=this.jsonInfo.canonical[0].href}else{for(var m=0;m<this.jsonInfo.canonical.length;m++){if(this.jsonInfo.canonical[m].type==n){l=this.jsonInfo.canonical[m].href;
break}}}if(l!=null&&l.indexOf("feedsportal.com")>0){l=null}return l};c.hasCanonicalLink=function(){return this.getCanonical("text/html")!=null};c.getSourceVisual=function(){return null};c.listKeywords=function(){return this.jsonInfo.keywords||[]};c.listTagLabels=function(){if(this.jsonInfo.tags==null){return[]}var m=[];for(var l=0;l<this.jsonInfo.tags.length;
l++){if(this.jsonInfo.tags[l].label!=null&&this.jsonInfo.tags[l].label.length>0&&this.jsonInfo.tags[l].label.indexOf("global.")==-1){m.push(this.jsonInfo.tags[l].label)}}return m};c.getSummary=function(){if(this.jsonInfo.summary==null){return""}return this.jsonInfo.summary.content||""};c.getContent=function(){if(this.jsonInfo.content==null){return""
}return this.jsonInfo.content.content||""};c.isSummary=function(){return this.jsonInfo.summary!=null&&this.jsonInfo.content==null};c.getHighlightedContentOrSummary=function(l){if(l!=null){return devhd.utils.AnnotationUtils.highlightTerms(this.getCleanContentOrSummary(),l)}else{if(this.metadata.terms==null){return devhd.utils.AnnotationUtils.highlightTerms(this.getCleanContentOrSummary(),this.metadata.terms)
}else{return this.getCleanContentOrSummary()}}};c.getCleanContentOrSummary=function(){if(this._cleanContentOrSummary==null){try{var l=this;this._cleanContentOrSummary=this.getContentOrSummary().replace(/(<img.*?src=")([^"]*)("[^>]*>)/gi,function(p,t,q,s){var r=l.lookupVisual(q);if(p.indexOf("http")==-1){return"<!-- non http visual -->"}else{if(l.shouldExcludeVisual(p)){return"<!-- incorrect visual -->"
}else{if(p.indexOf("blogcdn.com")>-1){return p.replace("_thumbnail","")}else{if(r!=null&&(r.width!=null&&r.width<10||r.height!=null&&r.height<10)){return"<!-- small visual -->"}else{return p}}}}}).replace(/<iframe[^>]*><\/iframe>/gi,function(p){if(p.indexOf("facebook.com")>-1||p.indexOf("twitter.com")>-1){return""}else{if(p.indexOf("slashdot.org")>-1){return""
}else{if(window.location.protocol=="https:"&&p.indexOf("youtube.com")>-1){return p.replace("http://","//")}else{return p}}}});if(this.getFeedId()!=null&&this.getFeedId().indexOf("feed/http://www.dailymotion.com")==0){var n=devhd.utils.RegExUtils.select(/video\/([^"]*)_/i,this._cleanContentOrSummary);if(n!=null){this._cleanContentOrSummary="<center><iframe frameborder='0' width='480' height='270' src='http://www.dailymotion.com/embed/video/"+n+"' style='margin-bottom:34px; margin-top:34px'></iframe></center>"
}}}catch(m){$feedly("[entry] failed to clean content:"+m.name+" -- "+m.message);this._cleanContentOrSummary=this.getContentOrSummary()}}return this._cleanContentOrSummary};c.getContentOrSummary=function(){var l=this.getContent();return l!=""?l:this.getSummary()};c.isTitleRTL=function(){return this.jsonInfo.title!=null?this.jsonInfo.title.indexOf("direction:rtl")>-1:false
};c.isContentRTL=function(){if(this.jsonInfo.content!=null&&this.jsonInfo.content.direction!=null){return this.jsonInfo.content.direction=="rtl"}if(this.jsonInfo.summary!=null&&this.jsonInfo.summary.direction!=null){return this.jsonInfo.summary.direction=="rtl"}return false};c.getCleanSafeSummary=function(l){l=l||400;if(this.cleanSummary[l]==null){this.cleanSummary[l]=this.asText().slice(0,l);
if(this.isContentRTL()){this.cleanSummary[l]='<div style="direction:rtl;text-align:right">'+this.cleanSummary[l]+"</div>"}}return this.cleanSummary[l]};c.getBestSummary=function(q,t){try{if(t==null){t=400}if(q==null||q.length==0){return this.getCleanSafeSummary(t)}var v=this.asBestText();if(v==null||v.length==0||v.toLowerCase==null){return this.getCleanSafeSummary(t)
}var u=v.toLowerCase();for(var r=0;r<q.length;r++){if(q[r]==null||q[r].toLowerCase==null){continue}var m=q[r].toLowerCase();var p=u.indexOf(m);if(p<0){continue}var l=Math.max(p-100,0);var n=Math.min(p+t,v.length-1);return(l>0?"...":"")+v.slice(l,n)}return this.getCleanSafeSummary(t)}catch(s){$feedly("[JSONEntry] warning failed to get best summary:"+s.name+" -- "+s.message);
return this.getCleanSafeSummary(t)}};c.getHighlightedSummary=function(l){if(this.metadata.terms==null){return this.getCleanSafeSummary(l)}else{var m=this.metadata.terms;return devhd.utils.AnnotationUtils.highlightTextTerms(this.getBestSummary(m,l),m)}};c.asText=function(){if(this._asText==null){this._asText=devhd.str.stripTags(this.getContentOrSummary())||""
}return this._asText};c.asBestText=function(){if(this.jsonInfo.fullContent==null){return this.asText()}if(this._asBestText==null){this._asBestText=devhd.str.stripTags(this.jsonInfo.fullContent)}if(this._asBestText==null){return this.asText()}else{return this._asBestText}};c.test=function(l){return this.asText().indexOf(l)>-1};c.listAuthors=function(){if(this.metadata.promotion!=null&&this.metadata.promotion.promotedBy!=null){return this.metadata.promotion.promotedAuthor||""
}if(this.jsonInfo.author==null){return""}if(this.cleanAuthor==null){this.cleanAuthor=devhd.str.stripTags(this.jsonInfo.author)}return this.cleanAuthor};c.getSourceTitle=function(){if(this.metadata.promotion!=null&&this.metadata.promotion.promotedBy!=null){return this.metadata.promotion.promotedBy}if(this.metadata.sourceTitle!=null){return this.metadata.sourceTitle
}if(this.metadata.substitutedSourceTitle!=null){return this.metadata.substitutedSourceTitle}if(this.jsonInfo.origin==null){return null}return this.jsonInfo.origin.title};c.getSourceAlternateLink=function(){if(this.jsonInfo.origin==null){return null}return this.jsonInfo.origin.htmlUrl};c.getPublishedDate=function(){if(this.publishedDate==null){if(this.jsonInfo.published!=null){this.publishedDate=devhd.utils.DateUtils.create(this.jsonInfo.published)
}else{if(this.jsonInfo.updated!=null){this.publishedDate=devhd.utils.DateUtils.create(this.jsonInfo.updated)}}}return this.publishedDate};c.getUpdatedDate=function(){if(this.updatedDate==null){if(this.jsonInfo.updated!=null){this.updatedDate=devhd.utils.DateUtils.create(this.jsonInfo.updated)}else{if(this.jsonInfo.published!=null){this.updatedDate=devhd.utils.DateUtils.create(this.jsonInfo.published)
}}}return this.updatedDate};c.getLastModifiedDate=function(){return this.lastModifiedDate};c.getCrawledDate=function(){return this.crawledDate};c.fitsSize=function(p,m,n,l){return devhd.utils.VisualsUtils.fitsSize(p,m,n,l,this.metadata.noVisual==true||this.metadata.largestVisual!=null)};c.fitsSizes=function(u){if(this.metadata.noVisual==true){return 0
}if(u==null||u=="none"||u.length==0){return true}var r=0;if(this.metadata.largestVisual!=null){return devhd.utils.VisualsUtils.fitsSizes(this.metadata.largestVisual,u,this.metadata.noVisual==true||this.metadata.largestVisual!=null)}else{for(var p=0;p<u.length;p++){var l=u[p][0];var t=u[p][1];var s=u[p][2]||1;var m=this.listContentVisuals();for(var n=0;
n<m.length;n++){var q=this.fitsSize(m[n],l,t,s);if(q==2){return q}else{r=Math.max(r,q)}}}}return r};function e(m,n,l){l=l||1;if(m==null||m.width==null||m.height==null){return false}return m.width>=devhd.utils.PageConstants[n+"_IMAGE_WIDTH"]*l&&m.height>=devhd.utils.PageConstants[n+"_IMAGE_HEIGHT"]*l}c.fits=function(p,l){if(l==null){l=1}if(p==null||devhd.utils.PageConstants[p+"_IMAGE_WIDTH"]==null){return false
}var n=this.listContentVisuals();for(var m=0;m<n.length;m++){if(e(n[m],p,l)){return true}}return false};function b(l,m){if(l==null){return false}if(l.width==null||l.height==null){return true}return l.width>devhd.utils.PageConstants[m+"_IMAGE_WIDTH"]&&l.height>devhd.utils.PageConstants[m+"_IMAGE_HEIGHT"]}c.canFit=function(n){if(n==null||devhd.utils.PageConstants[n+"_IMAGE_WIDTH"]==null){return false
}var m=this.listContentVisuals();for(var l=0;l<m.length;l++){if(b(m[l],n)){return true}}return false};c.getEtiquette=function(){if(this.metadata.type=="ad"){return"sponsored"}return null};c.listExtractedVisuals=function(){if(this.visualsExtracted!=true){this.listContentVisuals()}return this.extractedVisuals||[]};c.listContentVisuals=function(n){this._extractAllVisuals();
if(n==true){var l=[];for(var m=0;m<this.contentVisuals.length;m++){if(this.contentVisuals[m].thumbnail==true){continue}l.push(this.contentVisuals[m])}return l}else{return this.contentVisuals}};c.countInlinedVisuals=function(){this._extractAllVisuals();if(this.getFeedId().indexOf(".flickr.com")>-1){return 0}var m=0;for(var l=0;l<this.contentVisuals.length;
l++){if(this.contentVisuals[l].enclosure==true){continue}if(this.contentVisuals[l].thumbnail==true){continue}if(this.contentVisuals[l].external==true){continue}m++}return m};c.listAllVisuals=function(){this._extractAllVisuals();return this.allContentVisuals};c._extractAllVisuals=function(){if(this.visualsExtracted!=true){this.allContentVisuals=this._extractVisuals();
this.contentVisuals=[];this.extractedVisuals=[];for(var m=0;m<this.allContentVisuals.length;m++){var l=this.allContentVisuals[m];if(this.isVisualCandidate(l)==false){continue}if(l.width!=null&&l.width<42){continue}if(l.height!=null&&l.height<42){continue}this.contentVisuals.push(l);this.extractedVisuals.push(this.contentVisuals[m])}this.metadata.embeddedVisuals=this.contentVisuals.length;
this.visualsExtracted=true}};c.mapContentVisuals=function(){var p={};var n=this.listAllVisuals();for(var m=0;m<n.length;m++){var l=n[m];p[l.url]=l}return p};c.suggestVisual=function(){var l=this.listContentVisuals();if(l!=null&&l.length>0){return l[0].url}else{return null}};c.getDescription=function(){var m=this.asText();var n=m.split(".");var p="";
for(var l=0;l<n.length&&p.length<180;l++){p+=n[l]+"."}if(p.length>300){p=p.slice(0,200)+"[...]"}return p};c.includesEnclosure=function(l){return this.getEnclosure(l)!=null};c.getEnclosure=function(l){if(this.enclosureExtracted!=true){this.enclosure=this._extractEnclosure();this.enclosureExtracted=true}if(this.enclosure!=null&&this.enclosure.type!=null&&(l==null||this.enclosure.type.indexOf(l)>-1)){return this.enclosure
}else{return null}};c.listContentVideos=function(){if(this.videoExtracted!=true){this._extractEmbeds();var l=this.getEnclosure("video");if(l!=null){this.embeddedVideos.push("<a href='"+l.href+"'>Attached Video</a>")}var m=this.getEnclosure("application/x-shockwave-flash");if(m!=null){this.embeddedVideos.push("<a href='"+m.href+"'>Attached Video</a>")
}this.videoExtracted=true}return this.embeddedVideos};c.embedsMedia=function(){return this.embedsAudio()||this.embedsVideo()};c.embedsAudio=function(){return this.listContentAudios().length>0};c.listContentAudios=function(){if(this.embeddedAudios==null){this.embeddedAudios=[];var l=this.getEnclosure("audio");if(l!=null){this.embeddedAudios.push(l)}}return this.embeddedAudios
};c.embedsVideo=function(){try{return this.listContentVideos().length>0||devhd.utils.VideoUtils.embedsYoutube(this.getContentOrSummary())||this.getFeedId().indexOf("hulu.com")>-1}catch(l){$feedly("[entry] failed to determine if entry embeds videos:"+l.name+" -- "+l.message);return false}};c.listContentLinks=function(){if(this.linksExtracted!=true){this.embeddedLinks=this._extractEmbeddedLinks();
this.linksExtracted=true;if(this.embeddedLinks==null){this.embeddedLinks=[]}}return this.embeddedLinks};c.isRead=function(){return this.jsonInfo.unread==false};c.canKeepUnread=function(){return true};c.wasKeptUnread=function(){return this.jsonInfo.keptUnread==true};c.markAsRead=function(){this.jsonInfo.unread=false;delete this.jsonInfo.keptUnread};c.undoMarkAsRead=function(){this.jsonInfo.unread=true;
this.jsonInfo.keptUnread=true};c.hasTag=function(n){if(this.jsonInfo.tags==null){return false}var m=devhd.utils.IdUtils.formatId("tag",n,this.userId);for(var l=0;l<this.jsonInfo.tags.length;l++){if(this.jsonInfo.tags[l].id==m){return true}}return false};c.tag=function(m){if(this.hasTag(m)==true){return}var l=devhd.utils.IdUtils.formatId("tag",m,this.userId);
if(this.jsonInfo.tags==null){this.jsonInfo.tags=[]}this.jsonInfo.tags.push({id:l,label:devhd.utils.IdUtils.extractLabel(l)})};c.untag=function(n){if(this.jsonInfo.tags==null){return false}var m=devhd.utils.IdUtils.formatId("tag",n,this.userId);for(var l=0;l<this.jsonInfo.tags.length;l++){if(this.jsonInfo.tags[l].id==m){this.jsonInfo.tags.splice(l,1);
return true}}return false};c.isStarred=function(){return this.metadata.starred==true};c.setStarred=function(l){this.metadata.starred=l};c.isQuicklisted=function(){return this.hasTag("global.saved")};c.setQuicklisted=function(l){if(l){return this.tag("global.saved")}else{return this.untag("global.saved")}};c._videoExcludePatterns=["castfire.com"];c._adExcludePatterns=["feedsportal.com/r","feedads.feedblitz.com"];
c._visualExcludePatterns=["feedproxy","feedburner","feeds.wordpress.com","stats.wordpress.com","googleadservices.com","tweet-this","fmpub","-ads","_ads","pheedo","zemanta","u.npr.org/iserver","openx.org","slashdot-it","smilies","/ico-","commindo-media.de","creatives.commindo-media","doubleclick.net","adview","/feed.gif",".ads.","/avw.php","wp-digg-this","feed-injector","/plugins/","tweetmeme.com","_icon_","/ad-","share-buttons","buysellads","holstee","musictapp","/ad_","/button/","donate.png","/sponsors/","googlesyndication.com","/pagead","/adx","assets/feed-fb","assets/feed-tw","feedburner.com/~ff","gstatic.com","feedsportal.com/social","pi.feedsportal.com","tweetmeme.com","wp-digg-this","advertisement.gif","share-buttons","/plugins/","assets/feed-","feedproxy.google","feeds.feedblitz.com/_","wordpress.com/i/blank.jpg","pixel.wp.com","assets.feedblitz.com/i"];
c._allExcludePatterns=new Array().concat(c._visualExcludePatterns,c._adExcludePatterns);c.shouldExcludeVisual=function(l){if(l==null){return true}for(var m=0;m<this._visualExcludePatterns.length;m++){if(l.indexOf(this._visualExcludePatterns[m])>-1){return true}}if(this.metadata.moreable==true||this.asText().length<400){for(var m=0;m<this._adExcludePatterns.length;
m++){if(l.indexOf(this._adExcludePatterns[m])>-1){return true}}}return false};c.isVisualCandidate=function(n){if(n==null||n.url==null){return false}var l=n.url;for(var m=0;m<this._allExcludePatterns.length;m++){if(l.indexOf(this._allExcludePatterns[m])>-1){return false}}return true};c.lookupVisual=function(l){var n=this.listAllVisuals();for(var m=0;
m<n.length;m++){if(n[m].url==l){return n[m]}}return null};c.enrichVisual=function(p,r,m){for(var q=0;q<this._allExcludePatterns.length;q++){if(p.indexOf(this._allExcludePatterns[q])>-1){return}}this.metadata.sized=true;var s=false;var n=this.listAllVisuals();for(var q=0;q<n.length;q++){if(n[q].url==p){n[q].width=r;n[q].height=m;n[q].sized=true;s=true
}}var l=this.listContentVisuals();for(var q=0;q<l.length;q++){if(l[q].url==p){l[q].width=r;l[q].height=m;l[q].sized=true;s=true}}if(s==false){n.unshift({url:p,width:r,height:m,external:true});l.unshift({url:p,width:r,height:m,external:true});this.metadata.embeddedVisuals=l.length;this.metadata.externalVisual={url:p,width:r,height:m}}};c._extractVisuals=function(){var t=[];
t=devhd.utils.HTMLUtils.listImages(this.getContent());if(t.length==0){t=devhd.utils.HTMLUtils.listImages(this.getSummary())}var p={};for(var r=0;r<t.length;r++){p[t.url]=true}if(this.jsonInfo.thumbnail!=null&&this.jsonInfo.thumbnail.length>0){for(var r=0;r<this.jsonInfo.thumbnail.length;r++){if(this.getFeedId().toLowerCase().indexOf("techcrunch")>-1){this.jsonInfo.thumbnail[r].url=this.jsonInfo.thumbnail[r].url.split("?")[0];
this.metadata.greatThumbnail={url:this.jsonInfo.thumbnail[r].url};this.jsonInfo.thumbnail[r].great=true;this.jsonInfo.thumbnail[r].thumbnail=true;if(p[this.jsonInfo.thumbnail[r].url]==null){t.unshift(this.jsonInfo.thumbnail[r])}}else{if(this.getFeedId().toLowerCase().indexOf("ommalik")>-1){this.jsonInfo.thumbnail[r].url=this.jsonInfo.thumbnail[r].url.split("?")[0];
this.metadata.greatThumbnail={url:this.jsonInfo.thumbnail[r].url};this.jsonInfo.thumbnail[r].great=true;this.jsonInfo.thumbnail[r].thumbnail=true;if(p[this.jsonInfo.thumbnail[r].url]==null){t.unshift(this.jsonInfo.thumbnail[r])}}else{if(this.jsonInfo.thumbnail[r].url.indexOf("blogspot")>-1){var s=this;this.jsonInfo.thumbnail[r].url=this.jsonInfo.thumbnail[r].url.replace(/(.*)\/s[0-9]+(\-c)*.*/gi,function(u,v){if(u!=null&&v!=null){s.metadata.greatThumbnail={url:v+"/"};
return v+"/"}else{return s.jsonInfo.thumbnail[r].url}});this.jsonInfo.thumbnail[r].great=true;this.jsonInfo.thumbnail[r].thumbnail=true;delete this.jsonInfo.thumbnail[r].width;delete this.jsonInfo.thumbnail[r].height;if(p[this.jsonInfo.thumbnail[r].url]==null){t.unshift(this.jsonInfo.thumbnail[r])}}else{if(this.jsonInfo.thumbnail[r].width!=null&&parseInt(this.jsonInfo.thumbnail[r].width)>400&&this.jsonInfo.thumbnail[r].height!=null&&parseInt(this.jsonInfo.thumbnail[r].height)>400){this.jsonInfo.thumbnail[r].thumbnail=true;
this.jsonInfo.thumbnail[r].great=true;if(p[this.jsonInfo.thumbnail[r].url]==null){t.unshift(this.jsonInfo.thumbnail[r])}}}}}}}var m=this.getEnclosure("image");if(m!=null&&m.href!=null&&p[m.href]==null){if(m.href.indexOf("flickr.com")==-1){t.unshift({url:m.href,width:m.width,height:m.width,enclosure:true})}else{t.push({url:m.href,width:m.width,height:m.width,enclosure:true})
}}var l=devhd.utils.VideoUtils.extractThumbnail(this.getContentOrSummary());if(l!=null){t.push(l)}l=devhd.utils.VideoUtils.extractThumbnail(this.getAlternateLink());if(l!=null){t.push(l)}var n=[];for(var r=0;r<t.length;r++){var q=t[r];if(q.url.indexOf("http://www.yatzer.com/")==0&&q.url.indexOf("thumb.jpg")>-1){q.width=640;q.height=396}else{if(q.url.indexOf("http://images.veerle.duoh.com")==0){n.push({url:q.url.replace(".jpg","-big.jpg")})
}else{if(q.url.indexOf("jpeg_preview_medium.jpg")>-1){q.url=q.url.replace(new RegExp("jpeg_preview_medium.jpg","gi"),"jpeg_preview_large.jpg");q.width=424;q.height=240}}}q.surface=(q.height==null||q.width==null)?(q.great?100000:0):(q.height*q.width);n.push(q)}return n.sort(function(v,u){return u.surface-v.surface})};c.contentEmbedsVideo=function(){var l=devhd.utils.HTMLUtils.listEmbeddings(this.getContent(),[]);
if(l.length>0){return true}else{return devhd.utils.HTMLUtils.listEmbeddings(this.getSummary(),[]).length>0}};c._extractEmbeds=function(){var m=devhd.utils.HTMLUtils.listEmbeddings(this.getContent(),this._videoExcludePatterns);if(m.length==0){m=devhd.utils.HTMLUtils.listEmbeddings(this.getSummary(),this._videoExcludePatterns)}this.embeddedVideos=[];this.embeddedSlideShares=[];
for(var l=0;l<m.length;l++){if(m[l].indexOf("slideshare")>-1){this.embeddedSlideShares.push(m[l])}else{this.embeddedVideos.push(m[l])}}};c.embedsSlideShare=function(){if(this.embeddedSlideShares==null){this._extractEmbeds()}return this.embeddedSlideShares.length>0};c._extractEnclosure=function(){if(this.jsonInfo.enclosure!=null){return this.jsonInfo.enclosure[0]
}else{return null}};c._extractEmbeddedLinks=function(){return devhd.utils.HTMLUtils.listLinks(this.getContentOrSummary())};c.hasCategory=function(l){return this.hasCategoryId(devhd.utils.IdUtils.formatId("category",l,this.userId))};c.hasCategoryId=function(m){for(var l=0;l<this.jsonInfo.categories.length;l++){if(this.jsonInfo.categories[l]==m){return true
}}return false};c.getDefaultTagOrCategory=function(){if(this.jsonInfo.tags!=null){for(var l=0;l<this.jsonInfo.tags.length;l++){if(this.jsonInfo.tags[l].label!=null&&this.jsonInfo.tags[l].label.indexOf("global.")==-1){return"#"+this.jsonInfo.tags[l].label.replace(" ","","gi").toLowerCase()}}}if(this.jsonInfo.categories!=null){for(var l=0;l<this.jsonInfo.categories.length;
l++){if(this.jsonInfo.categories[l].label!=null&&this.jsonInfo.categories[l].label.indexOf("global.")==-1){return"#"+this.jsonInfo.categories[l].label.replace(" ","","gi").toLowerCase()}}}return null}})();XOXOXOonFeedlyFileIncluded("lib/subscription@cloud.js");"use strict";(function(){var a=devhd.pkg("cloud");var b=a.createClass("Subscription");b.initialize=function(f){this.id=f.id;
this.userId=f.userId;this.title=f.title;this.sortid=f.sortid;this.categories=f.categories||[];this.udpated=f.updated;this.website=f.website;this.unreadCount=f.unreadCount;this.navigation=f.navigation;this.u=f.u;this.topics=f.topics;this.visualUrl=f.visualUrl;try{this.type="feed";if(this.id!=null&&this.URL==null){this.URL=this.id.substring("feed/".length)
}if(this.title==null){$feedly("[warning] subscription has not title:"+JSON.stringify(f));this.title=this.website!=null?this.website.split("/").slice(2,4).join("/").replace("www.","").replace("blog.","").replace(".com","").replace("/feed","").replace("/atom.xml","").replace(".org","").replace(".net","").replace(".blogspot","").replace(".wordpress","").replace(".typepad","").replace(".posterous","").replace(".tumblr",""):this.id.split("/").slice(3,5).join("/").replace("www.","").replace("blog.","").replace(".com","").replace("/feed","").replace("/atom.xml","").replace(".org","").replace(".net","").replace(".blogspot","").replace(".wordpress","").replace(".typepad","").replace(".posterous","").replace(".tumblr","");
this.title=this.id.split("/").slice(3,5).join("/").replace(/feeds.*feedburner/gi,"").replace(/rss.*/gi,"").replace("feed.","").replace("/blog","").replace("blogs.","").replace("www.","").replace("blog.","").replace(".com","").replace("/feed","").replace("/atom.xml","").replace(".org","").replace(".net","").replace(".blogspot","").replace(".wordpress","").replace(".typepad","").replace(".posterous","").replace(".tumblr","");
if(this.title[this.title.length-1]=="/"){this.title=this.title.slice(0,this.title.length-1)}if(this.title[0]=="/"){this.title=this.title.slice(1)}}for(var d=0;d<this.categories.length;d++){var c=this.categories[d];if(c.label==null){c.label=devhd.utils.IdUtils.extractLabel(c.id)}}this.subscribers=f.subscribers;this.velocity=f.velocity;if(devhd.utils.WebUtils!=null&&(this.website!=null||this.id!=null)){this.favicon=devhd.utils.WebUtils.getFavIconURL(this.website||this.id.slice("feed/".length))
}}catch(g){$feedly("[subscription] failed to initialize:"+JSON.stringify(f)+" -- "+g.name+" -- "+g.message)}};b.belongsToCategory=function(c){for(var d=0;d<this.categories.length;d++){if(this.categories[d].label==c){return true}}return false};b.belongsToCategoryId=function(d){for(var c=0;c<this.categories.length;c++){if(this.categories[c].id==d){return true
}}return false};b.listCategoryLabels=function(){var d=[];for(var c=0;c<this.categories.length;c++){if(this.categories[c].id.indexOf("global")>-1){continue}d.push(this.categories[c].label)}return d};b.getDefaultCategoryLabel=function(){var c=this.listCategoryLabels();if(c.length==0){return null}else{return c[0]}};b.addCategory=function(d){var c={id:devhd.utils.IdUtils.formatId("category",d,this.userId),label:d};
this.categories.push(c)};b.removeCategory=function(c){for(var d=0;d<this.categories.length;d++){if(this.categories[d].label==c){this.categories.splice(d,1);return}}};b.removeCategoryId=function(d){for(var c=0;c<this.categories.length;c++){if(this.categories[c].id==d){this.categories.splice(c,1);return}}};b.getFeedInfo=function(){return this};b.markAsMustRead=function(){if(this.isMustRead()==true){return true
}this.categories.push({id:"user/"+this.userId+"/category/global.must"})};b.undoMarkAsMustRead=function(){if(this.isMustRead()==false){return false}return this.removeCategoryId("user/"+this.userId+"/category/global.must")};b.isMustRead=function(){return this.belongsToCategoryId("user/"+this.userId+"/category/global.must")};b.toJSON=function(){return{id:this.id,title:this.title,categories:this.categories,sortid:this.sortid,via:this.via,viaType:this.viaType,scheme:this.scheme}
}})();XOXOXOonFeedlyFileIncluded("mobile/grid.d2.js");"use strict";var VISUALS=[{label:"large",size:12,ref:["Ruler",0]},{label:"medium",size:6,ref:["Ruler",1]},{label:"small",size:2,ref:["Ruler",2]}];var TYPES=[{type:"coverable",size:200,special:true,dna:[{type:"best"}]},{type:"showcasable",size:100,special:true,dna:[{type:"hot"},{type:"ad"}]},{type:"featurable",size:12,dna:[{minText:300,minVisual:12},{minText:500,minVisual:6}],preferredLayoutType:"mag"},{type:"photoable",size:6,dna:[{type:"photo"},{maxText:300,minVisual:6,minEmbeddedVisuals:1,moreable:false},{maxText:100,minVisual:12}],preferredLayoutType:"cards"},{type:"small",size:2,preferredLayoutType:"list"}];
var DEFAULT_LAYOUT_TYPE="list";var DEFAULT_SPACER=9;var DEFAULTS={header:18,headerLineFactor:1.2,copy:15,bleeding:false,spacer:0,};var MODULES={covered:{snap:"top+left+right",showcased:true,header:24,"header.typo":24,"header.floating":24,"header.vignette":24,"header.horizontal":24,asymmetric:true,"clip.vertical":2000,"align.typo":"middle","lines.typo":5,"bleeding.vignette":true,"pad.vignette":0,visuals:["1/1++ x 1/1+ ! 0.5"],requires:[{contentType:"coverable",strict:"yes"}]},popular:{header:24,"header.typo":24,"header.floating":24,"header.vignette":24,"header.horizontal":24,asymmetric:true,"clip.vertical":2000,"align.typo":"middle","lines.typo":4,"bleeding.vignette":false,"columnCount.typo":1,"pad.vignette":OUTER,showcased:true,visuals:["1/1 x 1/1 ! 0.5"],visualFloat:"right",requires:[{contentType:"showcasable",strict:"yes"}],strict:"yes","spacer.vertical":DEFAULT_SPACER,"spacer.floating":DEFAULT_SPACER,"spacer.inline":DEFAULT_SPACER},card:{showcased:true,forceVisual:true,visuals:["1/1 x 1/1 ! 0.5"],"header.typo":18,"align.typo":"spread","lines.typo":2,"header.vignette":16,"minimalist.vignette":true,"bleeding.vignette":false,},floating:{header:22,visuals:["1/2 x 1/1- ! "+DEFAULT_VISUAL_FLEX],requires:[{contentType:"featurable"}],spacer:DEFAULT_SPACER},vertical:{visuals:["card ! "+DEFAULT_VISUAL_FLEX],spacer:DEFAULT_SPACER},verticalUp:{visuals:["tallCard ! "+DEFAULT_VISUAL_FLEX],spacer:DEFAULT_SPACER},horizontal:{header:17,copy:14,forceVisual:true,placeholder:true,visualFloat:"left",visuals:["square x 1/1 ! "+DEFAULT_VISUAL_FLEX],placeholder:"if needed"},inline:{header:64,asymmetric:true,visuals:["1/1 x * ! "+DEFAULT_VISUAL_FLEX,"1/2 x * ! "+DEFAULT_VISUAL_FLEX],snap:"left",showcased:true,spacer:DEFAULT_SPACER},vignette:{header:18,visuals:["1/1 x 1/1 ! 0.5"],forceVisual:true,spacer:0,pad:6},typo:{showcased:true}};
var LAYOUTS=[{label:"1Co+3ve",priority:0,layoutType:"promoted",portrait:[{template:"covered",size:"1/1 x 1/2",occurrence:1},{template:"verticalUp",occurrence:3,header:16,copy:14,size:"1/3 x 1/2",allowPartial:true}],landscape:[{template:"popular",size:"1/2 x 1/1",occurrence:1,requires:[{contentType:"coverable",strict:"yes"}]},{template:"verticalUp",occurrence:3,header:16,copy:14,size:"1/6 x 1/1",allowPartial:true}]},{label:"1Co+3ve",priority:0,layoutType:"mag",portrait:[{template:"covered",size:"1/1 x 1/2",occurrence:1},{template:"verticalUp",occurrence:3,header:16,copy:14,size:"1/3 x 1/2",allowPartial:true}],landscape:[{template:"popular",size:"1/2 x 1/1",occurrence:1,requires:[{contentType:"coverable",strict:"yes"}]},{template:"verticalUp",occurrence:3,header:16,copy:14,size:"1/6 x 1/1",allowPartial:true}]},{label:"1Po+3Ho",priority:1,layoutType:"mag",portrait:[{template:"popular",size:"1/1 x 1/2",occurrence:1},{template:"verticalUp",occurrence:3,header:16,copy:14,size:"1/3 x 1/2",allowPartial:true}],landscape:[{template:"popular",size:"1/2 x 1/1",occurrence:1,requires:[{contentType:"coverable",strict:"yes"}]},{template:"verticalUp",occurrence:3,header:16,copy:14,size:"1/6 x 1/1",allowPartial:true}]},{label:"MAG/4Fe",priority:2,layoutType:"mag",portrait:[{template:"verticalUp",occurrence:6,header:16,copy:14,size:"1/3 x 1/2",allowPartial:true}],landscape:[{template:"verticalUp",occurrence:6,header:16,copy:14,size:"1/6 x 1/1",allowPartial:true,forceVisual:true}]},{label:"cards/1Co+2Vi",priority:0,layoutType:"cards",portrait:[{template:"covered",size:"1/1 x 2/3",snap:"none","header.vignette":18,"minimalist.vignette":true,occurrence:1,forceVisual:true,requires:[{contentType:"coverable",strict:"yes"}]},{template:"card",occurrence:2,size:"1/2 x 1/3",allowPartial:true}],landscape:[{template:"covered",snap:"top+left+bottom",size:"1/2 x 1/1","header.vignette":18,"minimalist.vignette":true,occurrence:1,forceVisual:true},{template:"card",occurrence:2,size:"1/2 x 1/2",allowPartial:true}]},{label:"cards/1Po+1Vi+2Vi",priority:1,layoutType:"cards",portrait:[{template:"popular",size:"1/1 x 1/2",occurrence:1,forceVisual:true,"header.vignette":16,"minimalist.vignette":true,"pad.vignette":0,asymmetric:true,},{template:"card",occurrence:1,size:"2/3 x 2/4"},{template:"card",occurrence:1,size:"1/3 x 1/4"},{template:"card",occurrence:1,size:"1/3 x 1/4"},],landscape:[{template:"popular",size:"1/2 x 1/1",forceVisual:true,"header.vignette":18,"minimalist.vignette":true,occurrence:1},{template:"card",occurrence:1,size:"1/2 x 1/2",},{template:"card",occurrence:2,size:"1/4 x 1/2",}]},{label:"GRID/6Vi(a)",priority:2,layoutType:"cards",portrait:[{template:"card",occurrence:1,size:"2/3 x 2/4",asymmetric:true},{template:"card",occurrence:1,size:"1/3 x 1/4"},{template:"card",occurrence:1,size:"1/3 x 1/4"},{template:"card",occurrence:1,size:"1/3 x 1/4",column:"column2"},{template:"card",occurrence:1,size:"1/3 x 1/4",column:"column2"},{template:"card",occurrence:1,size:"2/3 x 2/4"},],landscape:[{template:"card",occurrence:1,size:"2/4 x 2/4",asymmetric:true},{template:"card",occurrence:1,size:"1/4 x 2/4"},{template:"card",occurrence:1,size:"1/4 x 2/4"},{template:"card",occurrence:1,size:"1/4 x 2/4"},{template:"card",occurrence:1,size:"1/4 x 2/4"},{template:"card",occurrence:1,size:"2/4 x 2/4"},]},{label:"GRID/6Vi",priority:3,layoutType:"cards",portrait:[{template:"card",occurrence:6,size:"1/2 x 1/3",allowPartial:true}],landscape:[{template:"card",occurrence:6,size:"1/3 x 1/2",allowPartial:true}]},{label:"LIST/1Co+3Ho",priority:0,layoutType:"list",portrait:[{template:"covered",size:"1/1 x 1/2",header:28,"header.typo":28,"header.floating":26,"header.vignette":26,"header.horizontal":26,copy:14,occurrence:1},{template:"horizontal",occurrence:3,header:17,copy:14,size:"1/1 x 1/6",visualFloat:"left",visuals:["rectangle x 1/1 ! "+DEFAULT_VISUAL_FLEX],allowPartial:true}],landscape:[{template:"covered",snap:"top+left+bottom",size:"1/2 x 1/1",occurrence:1,header:28,"header.typo":28,"header.floating":26,"header.vignette":26,"header.horizontal":26,copy:14,forceVisual:true},{template:"horizontal",occurrence:3,header:17,copy:14,size:"1/2 x 1/3",visuals:["square x 1/1 ! "+DEFAULT_VISUAL_FLEX],allowPartial:true}]},{label:"LIST/6Ho",priority:2,layoutType:"list",portrait:[{template:"horizontal",occurrence:6,size:"1/1 x 1/6",visuals:["rectangle x 1/1 ! "+DEFAULT_VISUAL_FLEX],visualFloat:"left",header:17,copy:14,allowPartial:true}],landscape:[{template:"horizontal",occurrence:6,size:"1/1 x 1/6",visuals:["rectangle x 1/1 ! "+DEFAULT_VISUAL_FLEX],visualFloat:"left",header:17,copy:14,allowPartial:true}]},{label:"TITLEONLY/8Ho",priority:2,layoutType:"titleonly",portrait:[{template:"horizontal",occurrence:8,condensed:true,size:"1/1 x 1/8",header:16,copy:13,allowPartial:true}],landscape:[{template:"horizontal",occurrence:8,condensed:true,size:"1/1 x 1/8",header:16,copy:13,allowPartial:true}]},{label:"Ruler",priority:100,portrait:[{occurrence:1,size:"1/1 x 1/2",visuals:["2/3 x 1/1 ! "+DEFAULT_VISUAL_FLEX,"1/1 x 3/5 ! "+DEFAULT_VISUAL_FLEX]},{occurrence:1,size:"1/2 x 1/3",visuals:["1/1 x 1/1 !"+DEFAULT_VISUAL_FLEX]},{occurrence:1,size:"1/3 x 1/4",visuals:["1/1 x 1/1 !"+DEFAULT_VISUAL_FLEX]}]}];
XOXOXOonFeedlyFileIncluded("mobile/mag.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createMag=function(ci){var u=devhd.model.createObservable(ci);var bt=null;var fq=null;var bx=null;var co=null;var c8=null;var eL=null;var ct=null;var e6=null;var bn=null;var e2=null;var eI=null;var fE=null;var eM=null;var bD=null;var aP=null;
var ec=null;var ez=null;var z=null;var eO=null;var dI=null;var ey=null;var ba=[null,null,null];var cr=[-1,-1,-1];var b2=null;var ej=null;var aZ=null;var dp=null;var dq=null;var e1=null;var ee=[];var F={};var c6=[];var n=false;var Q=false;var ab={};var cL=[];var cP=null;var bz=[];var eZ=false;var cz=null;var fB=null;var bp=null;var d8=null;var aQ=null;
var bd=0;var O={};var bP=null;var cd=null;var bT=false;var V=null;var ac=null;var bb=null;u.setTracker=function(fG){bb=fG};var bE=null;u.setNikon=function(fG){bE=fG};var ad=null;u.setGrid=function(fG){ad=fG};var g=null;u.setReader=function(fG){g=fG};var I=null;u.setSuggesto=function(fG){I=fG};var K=null;u.setProfile=function(fG){K=fG};var ax=null;u.setHolmes=function(fG){ax=fG
};var cO="v10";var a9=false;var c1=false;var el=false;var cj=false;u.load=function(){try{e2=fe("footer");bt=fe("add");fq=fe("wrench");bx=fe("markAsRead");co=fe("markAsReadCount");searchElem=fe("search");refreshElem=fe("refresh");c8=fe("shelf");eL=fe("box");e6=fe("viewer");galleryElem=fe("gallery");shadowElem=fe("shadow");bn=fe("popup");panelElem=fe("panel");
eI=fe("offline");fE=fe("askLogin");eM=fe("app");eO=fe("status");bD=fe("tooltip");aP=fe("tooltipArrow");ec=fe("tooltipContent");ez=fe("home");dI=fe("locator");z=fe("cursor");ey=fe("where");ba[0]=fe("card0");ba[1]=fe("card1");ba[2]=fe("card2");u.bind(bn,"touchstart",cS);u.bind(bn,"touchmove",ap);u.bind(bn,"touchend",fl);u.bind(c8,"click",eT);u.setupNavigation();
u.bind(e2,"touchstart",cQ);u.bind(e2,"touchmove",bS);u.bind(e2,"touchend",G);u.bind(eO,"touchstart",dF);u.bind(eO,"touchend",p);u.bind(bD,"touchstart",a0);u.bind(bD,"touchend",ek);var fI=ESB["rating.version"];var fH=LREAD("rateMe.time.v"+(fI-1))!=null;cd=LREAD("rateMe.time.v"+ESB["rating.version"]);if(cd==null||isNaN(cd)){if(fH==false){cd=new Date().getTime()+devhd.utils.DurationUtils.DAYS(7)
}else{cd=new Date().getTime()+devhd.utils.DurationUtils.DAYS(Math.floor(Math.random()*180))}LWRITE("rateMe.time.v"+ESB["rating.version"],cd)}dl("Loading");$B.core.wm.captureHardwareEvent("self","back,search,menu")}catch(fG){ERROR("ERR004 - failed to load mag because "+fG.name+" -- "+fG.message)}};var dU=null;var a6=null;var cc=null;var dl=null;u.setupNavigation=eK;
function eK(){u.unbind(c8,"touchstart");u.unbind(c8,"touchmove");u.unbind(c8,"touchend");u.unbind(c8,"touchcancel");u.unbind(ba[0],"webkitTransitionEnd");u.unbind(ba[1],"webkitTransitionEnd");u.unbind(ba[2],"webkitTransitionEnd");switch(NAVIGATION()){case"scroll":u.bind(c8,"touchstart",a3);u.bind(c8,"touchmove",d6);u.bind(c8,"touchend",fD);u.bind(c8,"touchcancel",ea);
u.bind(ba[0],"webkitTransitionEnd",ea);u.bind(ba[1],"webkitTransitionEnd",ea);u.bind(ba[2],"webkitTransitionEnd",ea);dU=w;a6=dy;cc=aJ;dl=dG;break;case"stack":u.bind(c8,"touchstart",aL);u.bind(c8,"touchmove",a8);u.bind(c8,"touchend",ah);u.bind(c8,"touchcancel",br);u.bind(ba[0],"webkitTransitionEnd",a4);u.bind(ba[1],"webkitTransitionEnd",a4);u.bind(ba[2],"webkitTransitionEnd",a4);
dU=aR;a6=dn;cc=cg;dl=b9;break;case"swipe":u.bind(c8,"touchstart",M);u.bind(c8,"touchmove",dh);u.bind(c8,"touchend",ds);u.bind(c8,"touchcancel",cT);u.bind(ba[0],"webkitTransitionEnd",cT);u.bind(ba[1],"webkitTransitionEnd",cT);u.bind(ba[2],"webkitTransitionEnd",cT);dU=cB;a6=eu;cc=cb;dl=et;default:}}function bI(){try{if(g!=null&&g.onBeforeUserIdentityChanges!=null){g.onBeforeUserIdentityChanges()
}}catch(fG){$feedly("[mag] failed to notify components of identify change:"+fG.name+" -- "+fG.message)}}function ar(fG){try{bP=new Date().getTime();c3=null;bp=fG;if(g!=null){g.onUserIdentified(bp)}if(ax!=null){ax.onUserIdentified(bp)}if(I!=null){I.onUserIdentified(bp)}if(bb!=null){bb.onUserIdentified(bp)}if(K!=null){K.onUserIdentified(bp)}if(bp!=null&&bp.userId!=null){$B.core.application.onUserIdentified(bp.userId)
}else{$B.core.application.onUserIdentified("guest")}if(du()==false){c4()}P();if(du()){var fI=LOGGED_ACTION();if(fI!=null&&fI.action!=null){u[fI.action].call(u,fI.input,fI.option)}}if(K.getWave()!=null){bb.setCustomVar(5,"wave",K.getWave())}else{bb.setCustomVar(5,"wave","guest")}}catch(fH){$feedly("[mag] failed to update the selector:"+fH.name+" -- "+fH.message);
SIGN("profile update warning:"+fH.name+" -- "+fH.message)}}u.onTagsChanged=function(){c4()};u.onUnreadCountRefreshed=function(){c4()};u.unload=function(){try{this.unbindAll();e2=null;bt=null;fq=null;bx=null;co=null;searchElem=null;refreshElem=null;c8=null;eL=null;e6=null;galleryElem=null;shadowElem=null;bn=null;panelElem=null;eI=null;fE=null;eM=null;
eO=null;bD=null;aP=null;ec=null;ez=null;dI=null;z=null;ey=null;ba[0]=null;ba[1]=null;ba[2]=null;bE=null;g=null;I=null;ax=null}catch(fG){ERROR("ERR004 - failed to unload mag because "+fG.name+" -- "+fG.message)}};function cw(fG){for(var fH=0;fH<cr.length;fH++){if(cr[fH]==-1||cr[fH]==fG){return fH}}return null}function dT(fG){for(var fH=0;fH<cr.length;
fH++){if(cr[fH]==fG){return fH}}return null}function eu(fG){var fI=cw(fG);if(fI==null){ERROR("ERR 1001 - No card elem available");return}var fH=ba[fI];fH.style.webkitTransitionDuration="0ms";fH.style.webkitTransitionFunction="ease";fH.style.opacity=1;switch(fG){case"first":fH.style.webkitTransform="translate3d( "+(-2*CARD_W+OFFSET_W)+"px, 0px, 0px )";
b2=fH;break;case"left":fH.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W)+"px, 0px, 0px )";ej=fH;break;case"right":fH.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W)+"px, 0px, 0px )";dp=fH;break;case"center":fH.style.webkitTransform="translate3d( "+OFFSET_W+"px, 0px, 0px )";aZ=fH;break;default:}cr[fI]=fG;fH.style.display="block";return fH
}function dy(fG){var fI=cw(fG);if(fI==null){ERROR("ERR 1001 - No card elem available");return}var fH=ba[fI];fH.style.webkitTransitionDuration="0ms";fH.style.webkitTransitionFunction="ease";fH.style.opacity=1;switch(fG){case"first":fH.style.webkitTransform="translate3d( 0px, "+(-2*CARD_H+OFFSET_H)+"px, 0px )";b2=fH;break;case"left":fH.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )";
ej=fH;break;case"right":fH.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H)+"px, 0px )";dp=fH;break;case"center":fH.style.webkitTransform="translate3d( 0px, "+OFFSET_H+"px, 0px )";aZ=fH;break;default:}cr[fI]=fG;fH.style.display="block";return fH}function dn(fG){var fI=cw(fG);if(fI==null){ERROR("ERR 1001 - No card elem available");return}var fH=ba[fI];
switch(fG){case"first":fH.style.webkitTransitionDuration="0ms";fH.style.webkitTransitionFunction="ease";fH.style.webkitTransform="translate3d( 0px, "+(-2*CARD_H+OFFSET_H)+"px, 0px )";fH.style.opacity=1;fH.style.zIndex=7;b2=fH;break;case"left":fH.style.webkitTransitionDuration="0ms";fH.style.webkitTransitionFunction="ease";fH.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )";
fH.style.opacity=1;fH.style.zIndex=6;ej=fH;break;case"center":fH.style.webkitTransitionDuration="0ms";fH.style.webkitTransitionFunction="ease";fH.style.webkitTransform="translate3d( 0px, "+OFFSET_H+"px, 0px )";fH.style.opacity=1;fH.style.zIndex=5;aZ=fH;break;case"right":fH.style.webkitTransitionDuration="0ms";fH.style.webkitTransitionFunction="ease";
fH.style.webkitTransform="translate3d( 0px, 0px, "+(-b0)+"px )";fH.style.opacity=dA;fH.style.zIndex=4;dp=fH;break;default:}cr[fI]=fG;fH.style.display="block";return fH}function dQ(fG,fI){var fH=dT(fG);if(fH==null){return}switch(fI){case"first":b2=ba[fH];break;case"left":ej=ba[fH];break;case"right":dp=ba[fH];break;case"center":aZ=ba[fH];break;default:}switch(fG){case"first":b2=null;
break;case"left":ej=null;break;case"right":dp=null;break;case"center":aZ=null;break;default:}cr[fH]=fI}function eq(fH,fG){switch(fH){case"first":b2=null;break;case"left":ej=null;break;case"right":dp=null;break;case"center":aZ=null;break;default:}var fJ=dT(fH);if(fJ==null){return}var fI=ba[fJ];fI.style.display="none";fI.style.opacity=1;if(fG==true){fI.innerHTML=""
}cr[fJ]=-1}function cb(){if(aZ!=null){aZ.style.webkitTransitionDuration="0ms";aZ.style.webkitTransform="translate3d( "+(OFFSET_W)+"px, 0px, 0px )"}if(ej!=null){ej.style.webkitTransitionDuration="0ms";ej.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W)+"px, 0px, 0px )"}if(dp!=null){dp.style.webkitTransitionDuration="0ms";dp.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W)+"px, 0px, 0px )"
}}function aJ(){if(aZ!=null){aZ.style.webkitTransitionDuration="0ms";aZ.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )"}if(ej!=null){ej.style.webkitTransitionDuration="0ms";ej.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )"}if(dp!=null){dp.style.webkitTransitionDuration="0ms";dp.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H)+"px, 0px )"
}}function cg(){if(ej!=null){ej.style.webkitTransitionDuration="0ms";ej.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )";ej.style.zIndex=6}if(aZ!=null){aZ.style.webkitTransitionDuration="0ms";aZ.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";aZ.style.zIndex=5}if(dp!=null){dp.style.webkitTransitionDuration="0ms";
dp.style.webkitTransform="translate3d( 0px, 0px, "+(-b0)+"px )";dp.style.zIndex=4}}function et(fG){ba[0].innerHTML=templates.mobile.activitySign(fG);ba[0].style.display="block";ba[0].style.webkitTransitionDuration="0ms";ba[0].style.webkitTransform="translate3d( "+OFFSET_W+"px, 0px, 0px )";ba[1].style.display="none";ba[2].style.display="none";ba[1].style.innerHTML="";
ba[2].style.innerHTML="";cr[0]="center";cr[1]=-1;cr[2]=-1;aZ=ba[0];b2=null;ej=null;dp=null}function dG(fG){ba[0].innerHTML=templates.mobile.activitySign(fG);ba[0].style.display="block";ba[0].style.webkitTransitionDuration="0ms";ba[0].style.webkitTransform="translate3d( 0px, "+OFFSET_H+"px, 0px )";ba[1].style.display="none";ba[2].style.display="none";
ba[1].style.innerHTML="";ba[2].style.innerHTML="";cr[0]="center";cr[1]=-1;cr[2]=-1;aZ=ba[0];b2=null;ej=null;dp=null}function b9(fG){ba[0].className="card";ba[1].className="card";ba[2].className="card";ba[0].innerHTML=templates.mobile.activitySign(fG);ba[0].style.display="block";ba[0].style.webkitTransitionDuration="0ms";ba[0].style.webkitTransform="translate3d( 0px, 0px,0px )";
ba[1].className="card";ba[1].style.display="none";ba[2].style.display="none";ba[1].style.innerHTML="";ba[2].style.innerHTML="";cr[0]="center";cr[1]=-1;cr[2]=-1;aZ=ba[0];b2=null;ej=null;dp=null}function e7(){var fG=dT("first");if(fG==null){return dl("Loading")}if(fG!=0){var fH=ba[fG];ba.splice(fG,1);ba.unshift(fH)}ba[0].style.display="block";ba[1].style.display="none";
ba[2].style.display="none";ba[1].style.innerHTML="";ba[2].style.innerHTML="";cr[0]="center";cr[1]=-1;cr[2]=-1;aZ=ba[0];b2=null;ej=null;dp=null}function eH(fG){if(fG==null){return null}if(fG.className!=null&&(fG.className.indexOf("touchable")>-1)){return fG}return eH(fG.parentNode)}var r=null;var A=null;var dX=null;function cQ(fG){fG.preventDefault();
e8();footerTouchStartTime=new Date().getTime();dY=fG.targetTouches[0].clientY;r=eH(fG.targetTouches[0].target);if(r!=null){r.style.backgroundColor=r.getAttribute("data-touch-highlight")||feedlyTheme.highlight}if(ANDROID()){dX=window.setTimeout(function(){if(r==null){return}var fH=r.getAttribute("data-app-action-hint");if(fH!=null){HINT(fH)}r.style.backgroundColor=null;
r=null},1000)}}function bS(fG){fG.preventDefault()}function G(fI){fI.preventDefault();if(dX!=null){window.clearTimeout(dX);dX=null}if(r==null){return}var fH="none";try{fH=r.getAttribute("data-app-action");if(fH!=null){var fG=r.getAttribute("data-app-action-input");if(fG=="true"){fG=true}if(fG=="false"){fG=false}u[fH].call(u,fG)}}catch(fI){$feedly("[mag] failed to perform app action "+fH+" -- "+fI.name+" -- "+fI.message)
}r.style.backgroundColor=null;r=null}u.trackEvent=function(fH,fJ,fG,fI){bb.trackEvent(fH,fJ,fG,fI)};u.isShowingLastCard=function(){return cP==null||(cP==c6.length-1&&bz.length==0)};u.isBootstrappingCards=function(){return c6!=null&&c6.length<7};u.forcastCardCount=function(fG){try{cx=c6.length+bz.length+fG;fi();b3()}catch(fH){$feedly("[mag] failed to forcastCardCount:"+fH.name+" -- "+fH.message)
}};function Y(){if(NAVIGATION()=="swipe"){z.style.width="17px";z.style.webkitTransform="translate3d( 0px, 0px, 0px )";dI.style.visibility="hidden"}}var dg=null;var cF=0;function fi(){if(NAVIGATION()=="swipe"){if(cx==null||cx<=1){z.style.width="17px"}else{var fG=cj?cx-1:cx;z.style.width=Math.max((W-2*OUTER)/fG,17)+"px"}}else{if(NAVIGATION()=="stack"){if(cx==null||cx<=1){ey.style.height="16px"
}else{var fG=cj?cx-1:cx;ey.style.height=Math.max(SH()/fG,16)+"px";dg=SH()/fG}}}}function b3(){if(NAVIGATION()=="swipe"){if(cx==null||cx<=1){dI.style.visibility="hidden";z.style.webkitTransform="translate3d( 0px, 0px, 0px )"}else{if(bq<=cx){var fK=cj?cx-1:cx;var fI=(W-2*OUTER)/fK;var fJ=Math.max((W-2*OUTER)/fK,17);var fH=Math.floor(fI*bq);if(fH+fJ>W-2*OUTER){fH=W-2*OUTER-fJ
}dI.style.visibility="visible";z.style.webkitTransform="translate3d( "+fH+"px, 0px, 0px )"}}}else{if(NAVIGATION()=="stack"){if(cx==null){cF=0;return}var fK=cj?cx-1:cx;if(fK==0){cF=0;return}var fI=SH()/fK;var fJ=Math.max(SH()/fK,16);var fG=Math.floor(fI*bq);if(fG+fJ+4>SH()){fG=SH()-fJ-4}ey.style.webkitTransform="translate3d( 0px, "+fG+"px, 0px )";cF=fG
}}}u.declareGroup=function(fG,fH){ab[fG]=fH};var d7=true;u.declareCards=function(fG,fK,fJ){try{if(fG==null||fG.length==0){return}if(fJ!=null&&fJ!=bd){$feedly("[feedly][mag] ignoring cards from previous URL:"+fJ+" vs "+bd);return}for(var fH=0;fH<fG.length;fH++){u.declareCard(fG[fH],false)}if(fK!=false){eo()}}catch(fI){ERROR("ERR005 - failed to declare "+fG.length+" cards because "+fI.name+" -- "+fI.message)
}};u.declareCard=function(fH,fM){var fI=c6.length==0;if(fH==null){return}if(bk==true||aT()){bz.push(fH);return}try{var fL=LREAD("firstrun.stack.intro");if(du()==true&&fL==null&&NAVIGATION()=="stack"){c6.push({factory:CARD("HelpCard"),section:"",step:1})}if(fL==null){LWRITE("firstrun.stack.intro","yes")}if(fB=="welcome"&&ESB["help.debug"]==true){c6.push({factory:CARD("RateMeCard"),section:""});
c6.push({factory:CARD("HelpCard"),section:"",step:3});c6.push({factory:CARD("HelpCard"),section:"",step:4});c6.push({factory:CARD("HelpCard"),section:"",step:6})}}catch(fJ){$feedly("[mag] failed to insert helper cards because "+fJ.name+" -- "+fJ.message)}c6.push(fH);try{var fG="firstrun.welcome."+cO;var fK=LREAD(fG);if(fK==null){fK=0}if(du()==true&&c6.length==4&&fK==1){c6.push({factory:CARD("HelpCard"),section:"",step:3});
LWRITE(fG,2)}}catch(fJ){$feedly("[mag] failed to insert helper cards because "+fJ.name+" -- "+fJ.message)}if(false&&ESB["grid.debug"]){$feedly("[grid] added card: "+c6.length+" -- "+fH.layout+" -- title:"+fH["debug.titles"]+" -- count:"+fH["debug.count"])}if(fM!=false){eo()}if(fI&&u.onAfterFirstCard!=null){u.onAfterFirstCard();delete u.onAfterFirstCard
}};u.markRateMeCardAsShown=function(){cd=new Date().getTime()+devhd.utils.DurationUtils.DAYS(ESB["rating.again.days"]);LWRITE("rateMe.time.v"+ESB["rating.version"],cd);u.trackEvent("rating","shown",ESB["rating.version"])};u.markAsRated=function(){LWRITE("rateMe.done.v"+ESB["rating.version"],"yes");u.trackEvent("rating","rated",ESB["rating.version"])
};u.declareEndOfFeed=function(fG){Q=true;if(fG===true){fj()}};u.declareEndOfCards=function(fG){n=true;try{if(c6.length>3){var fH=new Date();if(du()==true&&(LREAD("rateMe.done.v"+ESB["rating.version"])!="yes"&&fH.getTime()>cd)){var fM;if(KINDLE()){fM=ESB["rating.amazon"]}else{if(ANDROID()){fM=ESB["rating.google"]}else{fM=ESB["rating.apple"]}}if(fM!=""&&fM!="none"&&fM!=null){cd=new Date().getTime()+60000;
u.declareCard({factory:CARD("RateMeCard"),section:""})}}}var fJ=m("next");var fL=false;if(aQ!=null&&SETTING("feedly_mark_as_read")!=true&&du()==true){var fI=g.lookupFeedInfo(aQ);if((fI.unreadCount==null&&fI.following==true)||(fI.unreadCount!=null&&fI.unreadCount>0)){fL=true}}else{if(SETTING("feedly_mark_as_read")!=true&&fB=="my"){fL=true}else{if(SETTING("feedly_mark_as_read")==true&&u.listEntries().length>0&&(fJ==null||fJ.label==null||fJ.url==fB)){fL=true
}}}if(fL){u.declareCard({factory:CARD("MarkAsReadCard"),section:""});el=true}if(fJ!=null&&fJ.label!=null&&fJ.url!=fB){u.declareCard({factory:CARD("TransitionCard"),nextLabel:fJ.label,nextURL:fJ.url});u.declareCard({factory:CARD("FlowNextCard"),section:cp(fJ.label),nextLabel:fJ.label,nextURL:fJ.url});cj=true}}catch(fK){$feedly("[mag] end of card error:"+fK.name+" -- "+fK.message)
}u.forcastCardCount(0)};u.declareAppOfTheDayCard=function(fH,fG){if(AD>1){devhd.fn.callback(fG);return}I.askAppOfTheDay(fH,function(fI){if(fI!=null&&fI.campaign!=null){u.declareCard({factory:CARD("AppOfTheDayCard"),section:"App of the day",app:fI})}devhd.fn.callback(fG);return})};u.declareEmptyFeed=function(){if(fB.indexOf("/tag/global.saved")>-1){u.declareCard({factory:CARD("HelpCard"),section:null,step:15})
}else{u.declareCard({factory:CARD("HelpCard"),section:null,step:8})}u.declareEndOfFeed();u.declareEndOfCards(true)};u.declareEntry=function(fG){if(F[fG.getId()]!=null){return}ee.push(fG);F[fG.getId()]=fG};u.lookupEntry=function(fG){return F[fG]};u.listEntries=function(){return ee};u.onOrientationChanged=bw;function bw(fH){e1=null;fi();b3();if(ej!=null){ej.style.webkitTransitionDuration="0ms";
ej.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W)+"px, 0px, 0px )"}if(dp!=null){dp.style.webkitTransitionDuration="0ms";dp.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W)+"px, 0px, 0px )"}if(fH===true){ad.buildLayouts()}var fG=null;if(e9!=null){fG=e9.getCardId();e9.frame();e9.render();e9.show()}window.setTimeout(function(){for(var fI=0;
fI<cL.length;fI++){if(cL[fI].getCardId()==fG){continue}cL[fI].frame();cL[fI].render()}ae()},500)}function X(fG,fH){try{if(cz!=null){cz.unload();cz=null}ad.clearBuffer()}catch(fQ){$feedly("[warning] failed to unload edito")}cz=null;try{if(fG==null){fG="welcome"}var fJ=fG.split("://");var fO=fJ[0];var fI=null;if(fJ.length>1){fI=fJ.slice(1).join("://")
}var fK="create"+fO.slice(0,1).toUpperCase()+fO.slice(1)+"Edito";var fM=devhd.mobile[fK];if(fM==null){fM=devhd.mobile.createGenericEdito}var fP=fM();try{if(fP.setMag!=null){fP.setMag(u)}}catch(fL){ERROR("ERR007 - failed to inject mag because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{if(fP.setReader!=null){fP.setReader(g)}}catch(fL){ERROR("ERR007 - failed to inject reader because "+fL.name+" -- "+fL.message+" -- URL:"+fG);
return}try{if(fP.setGrid!=null){fP.setGrid(ad)}}catch(fL){ERROR("ERR007 - failed to inject grid because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{if(fP.setSuggesto!=null){fP.setSuggesto(I)}}catch(fL){ERROR("ERR007 - failed to inject suggesto because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{if(fP.setProfile!=null){fP.setProfile(K)
}}catch(fL){ERROR("ERR007 - failed to inject profile because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{if(fP.setLoadId!=null){fP.setLoadId(bd)}}catch(fL){ERROR("ERR007 - failed to inject loadId because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{if(fI!=null&&fP.setURI!=null){fP.setURI(fI)}}catch(fL){ERROR("ERR007 - failed to inject uri because "+fL.name+" -- "+fL.message+" -- URL:"+fG);
return}try{if(fG!=null&&fP.setURL!=null){fP.setURL(fG)}}catch(fL){ERROR("ERR007 - failed to inject url because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{if(fI!=null&&fP.setMetadata!=null){fP.setMetadata(d8)}}catch(fL){ERROR("ERR007 - failed to inject metadata because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{if(fH!=null&&fP.setShowcasedEntry!=null){fP.setShowcasedEntry(fH)
}}catch(fL){ERROR("ERR007 - failed to inject showcased entry because "+fL.name+" -- "+fL.message+" -- URL:"+fG);return}try{fP.load()}catch(fN){ERROR("ERR008 - failed to load edito because "+fN.name+" -- "+fN.message+" -- URL:"+fG);return}cz=fP}catch(fP){ERROR("ERR006 - failed to setup edito because "+fP.name+" -- "+fP.message+" -- URL:"+fG)}}var cU=null;
var aC=null;var dc=null;var da=null;function L(fI,fG,fH){panelElem.innerHTML=templates.mobile.confirm(fI);panelElem.style.display="block";cU=fG;aC=fH;dc=fe("confirmYes");da=fe("confirmNo");u.bind(dc,"click",aw);u.bind(da,"click",bO)}function aw(){cX(cU)}function bO(){cX(aC)}function cX(fG){u.unbind(dc,"onclick");u.unbind(da,"onclick");panelElem.style.display="none";
panelElem.innerHTML="";devhd.fn.callback(fG);cU=null;aC=null;dc=null;da=null}var fp=null;var bH=null;var e=null;var er=null;function fc(fJ,fH,fG,fI){panelElem.innerHTML=templates.mobile.prompt(fJ,fH);panelElem.style.display="block";fp=fG;bH=fI;e=fe("promptYes");er=fe("promptNo");u.bind(e,"click",R);u.bind(er,"click",cf)}function R(){bF(fp)}function cf(){bF(bH)
}function bF(fH){u.unbind(e,"onclick");u.unbind(er,"onclick");var fG=fe("promptInput").value;panelElem.style.display="none";panelElem.innerHTML="";devhd.fn.callback(fH,fG);fp=null;bH=null;e=null;er=null}u.handleMarkEditoAsRead=d4;function d4(fG){u.markEditoAsRead(function(){try{SIGN("Marked as read",1);if(m("next")!=null){fo("next")}else{dM()}}catch(fH){try{dM()
}catch(fI){}}},function(){try{SIGN("Error "+err)}catch(fH){}})}u.markEditoAsRead=eG;function eG(fH,fG){cz.askMarkAsRead(fH,fG)}function ak(){}u.askUnfollowCurrentFeed=ef;function ef(){u.askUnfollowFeed(aX(fB))}u.askFollowCurrentFeed=ff;function ff(){var fG=aX(fB);var fH=d8||{};fH.title=cp(at);fH.promoted=ce;u.askFollowFeed(fG,fH)}u.askFollowFeedByEntry=c0;
function c0(fH){var fG=u.lookupEntry(fH);if(fG==null){SIGN("Source not found:"+fH);return}cy(fG.getFeedId(),{title:fG.getCleanSourceTitle(),tag:fG.metadata.suggestedTag})}u.askFollowCategory=e0;function e0(fG,fI){if(du()==false){TRACK_CONFIG("follow");LWRITE("logged.start",JSON.stringify({url:fB,label:at}));LWRITE("logged.action",JSON.stringify({action:"askFollowCategory",option:fI}));
u.askSignup("full","signup");return}var fJ=fI.feeds.filter(function(fL){return g.lookupSubscription(fL)==null});if(fJ.length<1){return}aH("categoryPicker","Select a category");if(a9==false){fb()}var fH=g.listCategories(false);var fK=devhd.extend(fI,{type:"showCategoryPicker",cats:fH,suggestion:fI.tag});$B.core.wm.postMessage("categoryPicker",fK)}function cI(fG){try{if(fG==null){return null
}return fG.charAt(0).toUpperCase()+fG.slice(1)}catch(fH){return fG}}u.askFollowFeed=cy;function cy(fH,fK){fK=fK||{};fK.title=fK.title||fH;fK.promoted=fK.promoted==true;if(du()==false){TRACK_CONFIG("follow");LWRITE("logged.start",JSON.stringify({url:fB,label:at}));LWRITE("logged.action",JSON.stringify({action:"askFollowFeed",input:fH,option:fK}));u.askSignup("full","signup");
return}var fM=g.lookupSubscription(fH);if(fM!=null){return}aH("categoryPicker","Select a category",function(){$B.core.wm.postMessage("store",{type:"micro-unfollow",feedId:fH,cats:g.listCategories(false),mustReads:g.listMustReads(false),others:g.listOthers(false)})});if(a9==false){fb()}var fJ=g.listCategories(false);var fI=[];if(fK.tags!=null){fI=fK.tags.split(",")
}var fG=av(fI,fJ);var fL=devhd.extend(fK,{type:"showCategoryPicker",feedId:fH,cats:fJ,suggestion:fG});$B.core.wm.postMessage("categoryPicker",fL)}function av(fH,fG){fH=fH||[];for(var fI=0;fI<fH.length;fI++){suggestion=db(fH[fI],fG);if(suggestion!=null){return suggestion}}if(fH.length>0){return cI(fH[0])}return null}function db(fI,fH){if(fI==null){return null
}if(fI.indexOf("#")==0){fI=fI.slice(1)}var fG=fI.toUpperCase();for(var fJ=0;fJ<fH.length;fJ++){if(fH[fJ].LABEL==fG){return fH[fJ].label}}return null}u.showFollowTooltip=b8;function b8(fH,fG){if(c9==null||c9.length==0){var fJ=fH.length==1?fH[0].title:fH.length+" feeds ";var fI="Success! <b>"+fJ+"</b> added to your feedly";if(fG!=null){fI="Success! <b>"+fJ+"</b> added to your <b>"+fG+"</b> category."
}u.showTooltip(fI,{top:NAVIGATION_BAR+3,left:OUTER+NAVIGATION_BAR/2-26,arrow:"left",width:200})}}u.doFollow=a1;function a1(fI,fL){fL=fL||{};if(fL.via=="categoryPicker"){bf()}var fN=new Date().getTime();var fH=fL.tag;var fK=[];if(fH!=null){fK.push(fH)}var fJ={promoted:fL.promoted,viaCollection:fL.viaCollection};if(fL.view!=null){switch(fL.view){case 0:case"0":case 1:case"1":fJ.view=1;
break;case 4:case"4":fJ.view=4;break;case 5:case"5":case 6:case"6":fJ.view=6;break}}if(fL.partial!=null){fJ.partial=fL.partial}var fG=fL.feeds||[{id:fL.feedId,title:fL.title}];u.showFollowTooltip(fG,fL.tag);fG.forEach(function(fO){fO.adding=true});$B.core.wm.postMessage("store",{type:"start-micro-follow",feedIds:fG.map(function(fO){return fO.id})});
g.askAddSubscriptions(fG,fK,fJ,function(){$feedly("in sucess");$B.core.wm.postMessage("store",{type:"micro-follow",feeds:fG,cats:g.listCategories(false),mustReads:g.listMustReads(false),others:g.listOthers(false),viaCollection:fJ.viaCollection});u.refresh()},function(fO){SIGN("Oops: Code:"+fO,4)});if(fL.promoted==true){u.trackEvent("promoted","follow",fG[0].id)
}var fM=null;if(du()==false||g.listSubscriptions("*",false).length==0){fM="follow.1st"}else{if(g.listSubscriptions("*",false).length==0){fM="follow.2nd"}else{fM="follow.more"}}bb.trackPageView(fM)}u.askUnfollowFeed=a7;function a7(fG,fH){if(fH!=true){fH=false}u.trackEvent("personalization","remove",fG);if(fH!=true){u.showTooltip("Success! <b>"+g.lookupSubscription(fG).title+"</b> was removed.",{top:NAVIGATION_BAR+3,left:OUTER+NAVIGATION_BAR/2-26,arrow:"left",width:200})
}g.askRemoveSubscription(fG,fH,function(){$B.core.wm.postMessage("store",{type:"micro-unfollow",feedId:fG,cats:g.listCategories(false),mustReads:g.listMustReads(false),others:g.listOthers(false)});if(fH==true){$B.core.wm.postMessage("selector",{type:"batch-unfollow",feedId:fG})}u.refresh()},function(fI){SIGN("Failed. Code:"+fI,4)})}function aX(fG){if(fG==null){fG=fB
}if(fG==null){return null}if(fG.indexOf("list://")!=0){return null}return fG.slice("list://".length)}function dN(fG){if(fG==null){fG=fB}if(fG==null){return null}if(fG.indexOf("list://")!=0){return null}var fH=fG.split("/");return fH[fH.length-1]}u.showFeedOptions=aS;function aS(fJ){var fI=fB.slice("list://".length);var fH=g.lookupFeedInfo(fI);var fG={};
fG.oldestFirstKnob=g.getStreamPreference(fH.id,"oldestFirstKnob");fG.entryOverviewSize=parseInt(g.getStreamPreference(fH.id,EOS_KEY));fG.entryNavigation=g.getStreamPreference(fH.id,"entryNavigation");fG.hideReadArticlesFilter=g.getStreamPreference(fH.id,"hideReadArticlesFilter")||"on";if(d5(fB)){fG.mustRead=g.isFeedMustRead(fH.id);fG.allowOldestFirst=fH.following==true;
fG.allowShowRead=fH.following==true;fG.allowMarkAsRead=fH.following==true;l(templates.mobile.feedOptions(fG))}else{if(fH!=null&&fH.id!=null){fG.allowOldestFirst=fH.id.indexOf("/tag/")==-1;fG.allowShowRead=fH.id.indexOf("/tag/")==-1;fG.allowOpenDirectly=fH.id.indexOf("/tag/")==-1;fG.allowMarkAsRead=fH.id.indexOf("/tag/")==-1;fG.markAsReadLabel=fH.id.indexOf("com.google/reading-list")>0?"Mark All As Read":"Mark Category As Read"
}l(templates.mobile.categoryOptions(fG))}}u.askMarkFeedAsMustRead=dv;function dv(){var fG=aX(fB);g.askMarkFeedAsMustRead(fG,function(){SIGN("Promoted",1)},function(fH){SIGN("Error:"+fH)})}u.askUndoMarkFeedAsMustRead=dt;function dt(){var fG=aX(fB);g.askUndoMarkFeedAsMustRead(fG,function(){SIGN("Demoted",1)},function(fH){SIGN("Error:"+fH)})}u.askOldestFirst=aN;
function aN(){SIGN("Oldest first",1);var fH=fB.slice("list://".length);var fG=g.lookupFeedInfo(fH);g.askSetStreamPreference(fG.id,"oldestFirstKnob","yes",function(){dm(fB,false,at)})}u.askUndoOldestFirst=aA;function aA(){SIGN("Undo oldest first",1);var fH=fB.slice("list://".length);var fG=g.lookupFeedInfo(fH);g.askSetStreamPreference(fG.id,"oldestFirstKnob","no",function(){dm(fB,false,at)
})}u.askShowRead=bV;function bV(){SIGN("All articles");var fH=fB.slice("list://".length);var fG=g.lookupFeedInfo(fH);g.askSetStreamPreference(fG.id,"hideReadArticlesFilter","off",function(){dm(fB,false,at)})}u.askHideRead=b1;function b1(){SIGN("Updates only",1);var fH=fB.slice("list://".length);var fG=g.lookupFeedInfo(fH);g.askSetStreamPreference(fG.id,"hideReadArticlesFilter","on",function(){dm(fB,false,at)
})}u.askOpenDirectly=E;function E(){SIGN("Open website directly",1);var fH=fB.slice("list://".length);var fG=g.lookupFeedInfo(fH);g.askSetStreamPreference(fG.id,"entryNavigation","visit",function(){})}u.askUndoOpenDirectly=ex;function ex(){SIGN("Undo open directly",1);var fH=fB.slice("list://".length);var fG=g.lookupFeedInfo(fH);g.askSetStreamPreference(fG.id,"entryNavigation","inline",function(){})
}function cZ(fH,fG){var fJ=fB.slice("list://".length);var fI=g.lookupFeedInfo(fJ);g.askSetStreamPreference(fI.id,EOS_KEY,fG,function(){dm(fH,false)})}u.askTitleOnlyView=cG;function cG(){SIGN("Title only view",1);cZ(fB,0)}u.askListView=e5;function e5(){SIGN("List view",1);cZ(fB,1)}u.askMagazineView=bQ;function bQ(){SIGN("Magazine view",1);cZ(fB,4)}u.askCardsView=aV;
function aV(fG){SIGN("Cards view",1);cZ(fB,6)}u.askExclude=cn;function cn(fG){g.askExclude(fG,function(){SIGN("Excluded",1)})}u.askCreateShortcut=bU;function bU(fG){SIGN("Creating shortcut");if(d5(fB)){$B.core.application.createShortcut({url:fB,label:cp(at),icon:"shortcut_feed"})}else{$B.core.application.createShortcut({url:fB,label:cp(at),icon:"shortcut_category"})
}}u.rehydrate=function(fL,fG,fI){try{try{var fK=u.element("personalizeWithGoogle");if(fK!=null){fK.innerHTML="Personalize with Google"}var fH=u.element("personalizeWithFacebook");if(fH!=null){fH.innerHTML="Personalize with Facebook"}}catch(fJ){$feedly("[mag] failed to switch back login buttons:"+fJ.name+" -- "+fJ.message)}try{if(V!=null){u.onArticleHidden({entryId:V,duration:Math.ceil(((new Date().getTime()-ac)/1000))});
V=null;ac=null}}catch(fJ){$feedly("[mag] failed to marked externally as read:"+fJ.name+" -- "+fJ.message);V=null;ac=null}GET("https://www.google.com?ck="+new Date().getTime(),function(){},function(){});if(g!=null){g.resume()}c3=null;cc();if(fI!=null){fx(fI,fG)}else{if(fG!=null){$feedly("[feedly][rehydrate] load URL:"+fG);dm(fG,fL);bX()}else{if(fL==true){$feedly("[feedly][rehydrate] forcing reload!");
bL=false;aa(true);bX()}else{$feedly("[feedly][rehydrate] update refresh counts");u.askRefreshCounts(function(){bX()})}}}}catch(fJ){ERROR("ERR008 - failed to rehydrate because "+fJ.name+" -- "+fJ.message)}};function bX(){if(fv==false){P()}if(dB==true){$B.core.wm.postMessage("selector",{type:"reset"})}}u.loadDefault=aa;function aa(fH,fJ){if(fJ==null){fJ={}
}if(fH=="true"){fH=true}if(fH=="false"){fH=false}if(fH==null){fH=true}var fI,fK;var fG=START_INFO();if((dP(fG.url)==false||(fH==true||du()==true||(fJ.profile!=null&&fJ.profile.feedlyToken!=null)))){fI=fG.url;fK=fG.label}else{fI="welcome";fK=""}dm(fI,fH,fK,fJ)}u.isUserLoggedIn=du;function du(){return bp!=null&&bp.userId!=null}u.getUserId=fy;function fy(){return bp==null?null:bp.userId
}function cM(fG){if(fG!=null&&fG.indexOf("failed://")==0){return false}if(fG=="explore"){return false}if(fG=="welcome"){return false}if(d5(fG)){return false}if(af(fG)){return false}if(bc(fG)){return false}if(eW(fG)){return false}return true}function dP(fG){if(fG=="welcome"){return false}if(eW(fG)){return false}return true}function d5(fG){return fG!=null&&fG.indexOf("list://feed/")==0
}function ew(fG){return fG!=null&&fG.indexOf("list://user/")==0&&fG.indexOf("/label/")>0}function bC(fG){return fG!=null&&fG.indexOf("my")==0}function eW(fG){return fG!=null&&fG.indexOf("mix://")==0}function af(fG){return fG!=null&&fG.indexOf("topic://")==0}function bc(fG){return fG!=null&&fG.indexOf("event://")==0}u.dehydrate=function(){g.pause();u.lastDehydrationTime=new Date().getTime()
};u.park=function(){};u.askLogin=bm;function bm(){TRACK_CONFIG("login");oauthTrigger=true;aH("explain","explain");$B.core.wm.open("explain",templates.mobile.activity("explain",OPANEL_W),{mode:"signin"},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:OPANEL_W,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:OPANEL_W,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:false,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"})
}u.askSignup=cW;function cW(fG,fH){TRACK_CONFIG("explain");oauthTrigger=true;aH("explain","explain");$B.core.wm.open("explain",templates.mobile.activity("explain",OPANEL_W),{mode:"signup"},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:OPANEL_W,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:OPANEL_W,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:false,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"})
}u.startSignup=ca;function ca(fG){switch(fG){case"Google":u.setupGooglePlusLogin("signup");break;case"Twitter":u.setupTwitterLogin("signup");break;case"WindowsLive":u.setupWindowsLiveLogin("signup");break;case"Facebook":u.setupFacebookLogin("signup");break;case"Evernote":u.setupEvernoteLogin("signup");break;default:}}u.startSignin=fz;function fz(fG){switch(fG){case"Google":u.setupGooglePlusLogin("signin");
break;case"Twitter":u.setupTwitterLogin("signin");break;case"WindowsLive":u.setupWindowsLiveLogin("signin");break;case"Facebook":u.setupFacebookLogin("signin");break;case"Evernote":u.setupEvernoteLogin("signin");break;default:}}u.setupGoogleLogin=bs;function bs(fG){fA(fG,"limited")}u.setupGooglePlusLogin=fA;function fA(fH,fG){if(fH==null){fH="signin"
}oauthTrigger=true;if(SETTING("feedly_google_play")!="yes"||fG=="limited"){TRACK_CONFIG("prompt.google.web");$B.core.wm.openOAuth2("GooglePlusOAuth","https://www.feedly.com/v3/auth/auth",{query:{client_id:"feedly",redirect_uri:"https://www.feedly.com/feedly.html",provider:"GooglePlus",response_type:"code",scope:"https://cloud.feedly.com/subscriptions",state:"GooglePlus",cv:feedlyApplicationVersion,ct:feedlyApplicationType},mode:fH,provider:"GooglePlus",autoClose:true,allowRedirect:false},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:DIMENSIONS.landscape.width,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:DIMENSIONS.portrait.width,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("GooglePlusOAuth","GooglePlusOAuth",function(){$B.core.wm.close("GooglePlusOAuth")});$B.core.wm.show("GooglePlusOAuth")}else{TRACK_CONFIG("prompt.google.native");var fI=u.element("personalizeWithGoogle");if(fI!=null){fI.innerHTML="Connecting..."}$B.core.application.askGooglePlusLogin("limited")}}u.setupEvernoteLogin=dw;function dw(fG){oauthTrigger=true;
TRACK_CONFIG("prompt.evernote");$B.core.wm.openOAuth2("EvernoteOAuth","https://www.feedly.com/v3/auth/auth",{query:{client_id:"feedly",redirect_uri:"https://www.feedly.com/feedly.html",provider:"Evernote",evernoteOAuthActive:"true",response_type:"code",scope:"https://cloud.feedly.com/subscriptions",state:"Evernote",cv:feedlyApplicationVersion,ct:feedlyApplicationType},mode:fG,provider:"Evernote",autoClose:true,allowRedirect:true},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:DIMENSIONS.landscape.width,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:DIMENSIONS.portrait.width,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("EvernoteOAuth","EvernoteOAuth",function(){$B.core.wm.close("EvernoteOAuth")});$B.core.wm.show("EvernoteOAuth")}u.setupWindowsLiveLogin=dd;function dd(fG){oauthTrigger=true;TRACK_CONFIG("prompt.microsoft");$B.core.wm.openOAuth2("WindowsLiveOAuth","https://www.feedly.com/v3/auth/auth",{query:{client_id:"feedly",redirect_uri:"https://www.feedly.com/feedly.html",provider:"WindowsLive",windowsLiveOAuthActive:"true",response_type:"code",scope:"https://cloud.feedly.com/subscriptions",state:"WindowsLive",cv:feedlyApplicationVersion,ct:feedlyApplicationType},mode:fG,provider:"WindowsLive",autoClose:true,allowRedirect:true},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:DIMENSIONS.landscape.width,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:DIMENSIONS.portrait.width,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("WindowsLiveOAuth","WindowsLiveOAuth",function(){$B.core.wm.close("WindowsLiveOAuth")});$B.core.wm.show("WindowsLiveOAuth")}u.setupTwitterLogin=eA;function eA(fH){if(fH==null){fH="signin"}oauthTrigger=true;if(SETTING("feedly_twitter_login")=="yes"){TRACK_CONFIG("prompt.twitter.native");var fG=u.element("personalizeWithTwitter");if(fG!=null){fG.innerHTML="Connecting..."
}$B.core.application.askTwitterLogin()}else{TRACK_CONFIG("prompt.twitter.web");fk(fH)}}function fk(fG){if(fG==null){fG="signin"}$B.core.wm.openOAuth2("TwitterOAuth","https://www.feedly.com/v3/auth/auth",{query:{client_id:"feedly",redirect_uri:"https://www.feedly.com/feedly.html",provider:"Twitter",twitterOAuthActive:"true",response_type:"code",scope:"https://cloud.feedly.com/subscriptions",state:"Twitter",cv:feedlyApplicationVersion,ct:feedlyApplicationType},mode:fG,provider:"Twitter",autoClose:true,allowRedirect:true},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:DIMENSIONS.landscape.width,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:DIMENSIONS.portrait.width,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("TwitterOAuth","TwitterOAuth",function(){$B.core.wm.close("TwitterOAuth")});$B.core.wm.show("TwitterOAuth")}u.setupFacebookLogin=cs;function cs(fH){if(fH==null){fH="signin"}oauthTrigger=true;if(SETTING("feedly_facebook_login")=="yes"){TRACK_CONFIG("prompt.facebook.native");var fG=u.element("personalizeWithFacebook");if(fG!=null){fG.innerHTML="Connecting..."
}$B.core.application.askFacebookLogin()}else{TRACK_CONFIG("prompt.facebook.web");aG(fH)}}function aG(fG){if(fG==null){fG="signin"}$B.core.wm.openOAuth2("FacebookOAuth","https://www.feedly.com/v3/auth/auth",{query:{client_id:"feedly",redirect_uri:"https://www.feedly.com/feedly.html",provider:"Facebook",facebookOAuthActive:"true",response_type:"code",scope:"https://cloud.feedly.com/subscriptions",state:"Facebook",cv:feedlyApplicationVersion,ct:feedlyApplicationType},mode:fG,provider:"Facebook",autoClose:true,allowRedirect:true},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:DIMENSIONS.landscape.width,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:DIMENSIONS.portrait.width,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("FacebookOAuth","FacebookOAuth",function(){$B.core.wm.close("FacebookOAuth")});$B.core.wm.show("FacebookOAuth")}u.logout=dR;function dR(){try{bI();var fH=SESSION();if(fH!=null&&fH.provider=="GooglePlus"){$B.core.application.askGooglePlusLogout()}CLEAR_SESSION();ar({});bL=false;aY=null;aa(false)}catch(fG){ERROR("ERR009 - failed to logout "+fG.name+" -- "+fG.message)
}}u.updateActivityHint=function(fJ,fI){var fH=document.getElementById("activityHint");if(fH!=null){activityHint.innerHTML=fJ}if(fI===true){var fG=document.getElementById("activitySpinner");if(fG!=null){fG.style.display="none"}}};u.askRefreshCounts=function(fI,fG){try{if(bp==null||bp.userId==null){return}if(g==null){return}g.askSyncUnreadCounts(fI,function(){SIGN("Updates delayed");
devhd.fn.callback(fG)})}catch(fH){SIGN("Refresh error:"+fH.name)}};u.askRefreshProfile=function(){devhd.utils.GoogleUtils.askProfile(function(fG){ar(fG)},function(){ar({})},function(fG,fH){bL=false;FAILED(fH,fG)})};u.refresh=dM;function dM(){bL=false;g.askClearUnreadCounts(function(){if(fB==null){aa(false)}else{dm(fB,false,ft,null,d8)}u.askRefreshCounts()
})}u.shortcut=m;function m(fG){return O[fG]}function bJ(fG){if(fB=="welcome"){return null}if(du()==true){return dk(fG)}return null}function dk(fN){try{var fH=null;var fG=null;if(g.isEmpty()){return null}else{if(fB==null||fB=="my"){return null}else{if(fB.indexOf("category/global.must")>-1){return{url:"my",label:"home"}}else{if(d5(fB)){var fK=aX(fB);var fL=fN=="previous"?g.suggestPreviousSubscription(fK):g.suggestNextSubscription(fK);
if(fL!=null){return{label:fL.label||fL.title,url:"list://"+fL.id}}else{return null}}else{if(fB.indexOf("/category/")>-1&&fB.indexOf("/category/global")==-1){var fJ=dN(fB);var fI=fN=="previous"?g.suggestPreviousCategory(fJ):g.suggestNextCategory(fJ);if(fI!=null){return{label:fI.label,url:"list://"+fI.flsId}}else{return null}}}}}}return null}catch(fM){$feedly("[BUG] Failed to forcast source because "+fM.name+" -- "+fM.message);
SIGN("[BUG] Failed to forcast source because "+fM.name+" -- "+fM.message,5);return null}}u.shuffle=fo;function fo(fI){try{var fG=m(fI);if(fG!=null&&fG.url!=null){dm(fG.url,false,fG.label,null,null,fI=="next"?true:null)}}catch(fH){$feedly("[BUG] Failed to shuffle because "+fH.name+" -- "+fH.message);SIGN("[BUG] Failed to shuffle because "+fH.name+" -- "+fH.message,5)
}}var bL=false;var aY=null;var ay=null;var ft=null;u.isLoading=function(){return bL};u.loadEntry=fx;function fx(fH,fG,fI){if(ESB["widget.debug"]){$feedly("[widget] load entry:"+fH+" -- "+fG)}if(fI!=null&&fI.profile!=null){ar(fI.profile)}if(du()==false){u.updateActivityHint("Login first please.",true);SIGN("Login first",3);return}fs(fG,"Loading article...");
g.askEntryById(fH,function(fJ){if(fJ==null){return}u.declareEntry(fJ);dr(fJ,null,"open",null,true);if(fG!=null){window.setTimeout(function(){u.onAfterFirstCard=function(){};dm(fG,false,null,null,null,null,fJ)},1500)}},function(){u.updateActivityHint("Sorry: Article not found",true)})}u.askTransition=function(fG){$B.core.wm.postMessage("article",{type:"reset"});
u.onAfterFirstCard=function(){if(ee.length>0){dr(ee[0],fG.__sender,"open")}};dm(fG.url)};u.redirect=function(fG){window.setTimeout(function(){u.loadURL(fG,false)},10)};u.loadURL=dm;var ce=false;function dm(fG,fQ,fP,fS,fR,fH,fI,fJ){try{if(u.getCurrentActivity()=="article"&&u.onAfterFirstCard==null){u.endActivity()}if(eI!=null){eI.style.display="none"
}try{if(b7()==true){e8()}}catch(fO){}ce=fR==null?false:fR.promoted==true;if(ce==true){bb.trackEvent("promoted","page",fG.slice("list://".length))}fS=fS||{};if(bp!=null&&bp.userId!=null&&fG!=null&&fG.indexOf("list://user/-/")>-1){fG=fG.replace("/-/","/"+bp.userId+"/")}firstrun=false;fG=fG||"my";fQ=fQ||false;var fM=null;if(fG!=null&&fG.indexOf("list://")>-1){var fL=fG.slice("list://".length);
fM=g.lookupFeedInfo(fL)}if(fP==null){if(fG=="my"){fP="home"}else{if(fG=="welcome"){fP=""}else{if(fG.indexOf("com.google/reading-list")>-1||fG.indexOf("category/global.all")>-1){fP="all"}else{if(fG.indexOf("com.google/read")>-1||fG.indexOf("tag/global.read")>-1){fP="history"}else{if(fG.indexOf("com.google/starred")>-1||fG.indexOf("tag/global.saved")>-1){fP="saved for later"
}else{if(fG.indexOf("category/global.must")>-1){fP="must reads"}else{if(fM!=null){fP=fP||fM.title}}}}}}}}if(fP==null){fP=fG}CLEAR();var fK=fG.indexOf("failed")==0;if(fK==false&&bL==true&&aY!=null&&new Date().getTime()-aY<2*1000){return}bL=true;aY=new Date().getTime();bd++;ay=fG;fB=fG;d8=fR;ft=fP;try{fd(fP);fs(fG,fP||fG,fH);bt.style.display="none";bx.style.display="none";
refreshElem.style.display="none";fq.style.display="none";aQ=null;if(fG.indexOf("com.google/starred")>0){c8.className="notMarkAsReadAware"}else{c8.className=""}O.next=bJ("next");O.previous=bJ("previous");if(ANDROID_LOW()){document.body.style.opacity=0.999}}catch(fO){}devhd.utils.FlowUtils.parallel(u,[function(fU,fT){if(fS.skipFeature==true){devhd.fn.callback(fU)
}else{devhd.fn.callback(fU)}},function(fU,fT){if(fS.profile!=null){ar(fS.profile);devhd.fn.callback(fU)}else{if(fQ==false){devhd.fn.callback(fU)}else{ACCELERATOR={};devhd.utils.GoogleUtils.askProfile(function(fV){ar(fV);devhd.fn.callback(fU)},function(){ar({});devhd.fn.callback(fU)},function(fW,fV){bL==false;FAILED(fW,fV)})}}}],{onComplete:function(){try{N(fG,fI)
}catch(fT){$feedly("failed to load url because start generated:"+fT.name+" -- "+fT.message+" -- "+fT.lineNumber);bL=false}try{if(fJ==true&&fQ==true&&(fG=="my"||fG=="welcome")&&bp!=null&&bp.reader!=null&&bp.reader.subscriptions!=null&&bp.reader.subscriptions.length==0){d(true)}}catch(fT){$feedly("[mag] failed to open store automatically:"+fT.name+" -- "+fT.message)
}}});try{bb.trackContentPageView(fG)}catch(fO){$feedly("[mag] failed to track page view because:"+fO.name+" -- "+fO.message)}}catch(fN){ERROR("ERR010 - failed to load URL "+fG+" because "+fN.name+" -- "+fN.message);bL=false}}function N(fG,fI){try{if(fG!=ay){$feedly("[feedly] url load cancelled before completion:"+fG+" != "+ay);return}if(cM(fG)&&g.isUnConfigured()==true||(fG==null||(du()==false&&cM(fG)))){bL=false;
dm("welcome",true);return}X(fG,fI);if(cz==null){return}cz.askCards(function(){try{if(fG!=ay){$feedly("[feedly] url load cancelled before completion (2):"+fG+" != "+ay);return}bL=false;if(ANDROID_LOW()){document.body.style.opacity=1}}catch(fJ){$feedly("[feedly][edito setup] error:"+fJ.name+" -- "+fJ.message)}})}catch(fH){bL=false;ERROR("ERR008 - failed to start. URL: "+fG+". Error "+fH.name+" -- "+fH.message);
$feedly("failed to start "+fG+" -- because: "+fH.name+" -- "+fH.message)}}u.showAddIcon=function(){bt.style.display="inline-block"};u.showMarkAsReadIcon=function(fH,fG){aQ=fH};function eh(fG){if(fG==null||isNaN(fG)||fG==0){return""}if(fG>499){return feedly499Plus}return fG}u.showRefreshIcon=function(){if(refreshElem!=null){refreshElem.style.display="inline-block"
}};u.showMoreSettingsIcon=function(){if(fq!=null){fq.style.display="inline-block"}};function c2(){c8.style.display="block"}function eo(){if(bk==true||aT()){return}if(bz.length>0){u.declareCards(bz,false);bz=[]}fj()}function fj(){try{var fI=new Date().getTime();if(c6==null){return}var fL=cP==null&&cL.length==0&&c6[0]!=null;var fK=(cP==null||cP==0)&&cL.length<=1&&c6[1]!=null;
var fH=dp==null&&cP!=null&&cP>0&&c6[cP+1]!=null;if(fL){cL.push(dV(c6[0],0,a6("center")))}if(fK){cL.push(dV(c6[1],1,a6("right")))}if(fH){j()}if(cP==null){cP=0;e4(cL[0],0);di(cL[0],"next")}try{if(ESB["images.debug"]){$feedly("[images][optimize model] shown:"+cP+", model:"+c6.length+", queue:"+bz.length+", can process async:"+ad.canProcessAsync()+", needs refill:"+ad.needsRefill()+", endOfCards:"+n+", endOFeed:"+Q)
}if(cz!=null&&cz.gridCentric==true&&n==false){if(cP>c6.length+bz.length-CARD_BUFFER){if(ad.canProcessAsync()==true){var fG=ad.processAsync();if(ESB["images.debug"]){$feedly("[images] more model::processAsync. --> grid internal buffer length:"+fG)}}else{var fN=ad.processBuffer();if(ESB["images.debug"]){$feedly("[images] more model::processBuffer --> added cards:"+fN+" -- "+Q)
}if(Q==true&&fN==0){if(ESB["images.debug"]){$feedly("[images] detected end of cards:"+fN+" -- "+Q)}u.declareEndOfCards()}if(Q==false&&(ad.needsRefill()||fN==0)){if(ESB["images.debug"]){$feedly("[images] needs refill::askMoreCards. shown:"+cP+", model:"+c6.length+", queue:"+bz.length+" -- delta:"+(c6.length+bz.length-CARD_BUFFER))}cz.askMoreCards()}}}else{if(ad.canProcessAsync()==true){if(ESB["images.debug"]){$feedly("[images] opportunity model::processAsync. shown:"+cP+", model:"+c6.length+", queue:"+bz.length)
}ad.processAsync()}}}}catch(fM){$feedly("[mag] failed to expand the model:"+fM.name+" -- "+fM.message)}}catch(fJ){$feedly("failed to update gallery because:"+fJ.name+" -- "+fJ.message)}}u.clearGallery=fs;function fs(fI,fL,fH,fK){if(cz!=null){cz.unload();cz=null}ad.clearBuffer();for(var fJ=0;fJ<cL.length;fJ++){cL[fJ].destroy()}for(var fG in dx){dx[fG].destroy()
}dx;ee=[];ab={};F={};dx={};cL=[];bz=[];cP=null;nextPart=0;c6=[];n=false;Q=false;cj=false;el=false;e9=null;e1=null;ag=null;f=0;d0=0;dY=0;C=0;B=0;fa=0;y=0;v=0;eQ=0;eP=0;bq=0;cx=0;dg=0;cF=0;aI();bk=false;if(fK==null){fK=fH?"Loading next":"Loading"}dl(fK);Y()}function fm(fH){var fG=document.createElement("div");fG.className="card";switch(fH){case"begin":c8.insertBefore(fG,c8.firstChild);
break;default:c8.appendChild(fG)}return fG}var dx={};function aE(fI,fH){if(dx[fH]!=null){return dx[fH]}var fG=new fI.factory();fG.setCardId(fH);fG.setSection(fI.section);fG.setMag(u);fG.setReader(g);fG.setGrid(ad);fG.setHolmes(ax);fG.setSuggesto(I);fG.setProfile(K);if(fI.groupId!=null){fG.setEntries(ab[fI.groupId])}fG.setOptions(fI);dx[fH]=fG;return fG
}function bW(fH,fG){if(fH==null){throw new Error("ERR011 - prepare card failed because card not found: "+fG+" -- load id:"+bd)}if(fH.factory==null){throw new Error("ERR011 - prepare card failed because invalid card factory: "+JSON.stringify(fH))}var fI=aE(fH,fG);fI.prepare()}function bM(fH,fG){if(fH==null){throw new Error("ERR011 - preframe failed because card not found: "+fG+" -- load id:"+bd)
}if(fH.factory==null){throw new Error("ERR011 - preframe failed because invalid card factory: "+JSON.stringify(fH))}var fI=aE(fH,fG);fI.frame()}function ed(fH,fG){if(fH==null){throw new Error("ERR011 - frame card failed because card not found: "+fG+" -- load id:"+bd)}if(fH.factory==null){throw new Error("ERR011 - frame card failed because invalid card factory: "+JSON.stringify(fH))
}if(dx[fG]==null){bM(fH,fG)}var fI=dx[fG];delete dx[fG];return fI}function dV(fI,fH,fJ){if(fI==null){ERROR("ERR011 - failed to create card because invalid card info: "+fH+" -- load id:"+bd);return}if(fI.factory==null){ERROR("ERR011 - failed to create card because invalid card factory: "+JSON.stringify(fI));return}if(fJ==null){ERROR("ERR011 - failed to create card because invalid gallery state: "+fH+" -- load id:"+bd);
return}try{var fG=ed(fI,fH);fG.setPart(fJ);fG.render();return fG}catch(fK){ERROR("ERR011 - failed to create card because "+fK.name+" -- "+fK.message+" -- "+devhd.utils.JSONUtils.encode(fI)+" -- "+fH);$feedly("ERRO11 - failed to create card because "+fK.name+" -- "+fK.message+" -- "+devhd.utils.JSONUtils.encode(fI)+" -- "+fH)}}function j(){try{cL.push(dV(c6[cP+1],cP+1,a6("right")))
}catch(fG){ERROR("ERR012 - failed to append because "+fG.name+" -- "+fG.message)}}function en(){try{cL.unshift(dV(c6[cP-1],cP-1,a6("left")))}catch(fG){ERROR("ERR013 - failed to prepend because "+fG.name+" -- "+fG.message)}}var bh={};var q=null;u.onTermUnreadCountChanged=function(fG,fH){bh[fG]=fH;if(q!=null){window.clearTimeout(q);q=null}q=window.setTimeout(function(){var fI={type:"unreadCountSync",counts:bh};
$B.core.wm.postMessage("selector",fI);bh={};q=null},100)};function dJ(fH,fG,fJ,fI){return Math.abs(fH-fJ)*Math.abs(fH-fJ)+Math.abs(fG-fI)*Math.abs(fG-fI)<TOUCH_SLOP*TOUCH_SLOP}function a0(fG){fG.preventDefault();return false}var cv=0;var cu=0;function dF(fG){fG.preventDefault();selSwipping=true;cv=fG.targetTouches[0].clientX;cu=fG.targetTouches[0].clientY
}function p(fG){fG.preventDefault();if(fG.touches.length==0&&dJ(cv,cu,fG.changedTouches[0].clientX,fG.changedTouches[0].clientY)){bR()}else{if(Math.abs(cv-fG.changedTouches[0].clientX)>80){fo(cv>fG.changedTouches[0].clientX?"next":"previous")}}}u.endSelector=fu;function fu(fG){if(fG!=null&&fG.url!=null){dm(fG.url,false,fG.hint)}bf()}function a5(){if(storeCreated==true){return
}var fG=createStoreActivity(b5());if(fG){}else{P()}return fG}u.endStore=eR;function eR(fG){if(fG!=null&&fG.url!=null){dm(fG.url,false,fG.hint)}bf()}function fb(){if(a9==true){return}$B.core.wm.open("categoryPicker",templates.mobile.activity("categoryPicker",PANEL_W),{},{effectName:"slideright",effectDuration:0.28,bounces:"none",gravity:"bottom|left",landscape:{width:PANEL_W,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:PANEL_W,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,hideGestureEnabled:true,scrollsToTop:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"hide"});
a9=true}var eX=null;var dH=false;function l(fG,fH){eX=fH;bn.style.webkitTransitionDuration="0ms";bn.style.opacity=0;bn.style.display="block";bn.innerHTML=fG;window.setTimeout(function(){bn.style.webkitTransitionDuration="250ms";bn.style.opacity=1},10)}function cS(fG){fG.preventDefault();dH=false;d0=fG.targetTouches[0].clientX;dY=fG.targetTouches[0].clientY;
r=eH(fG.targetTouches[0].target);if(r!=null){A=window.setTimeout(function(){if(r!=null){r.style.backgroundColor=r.getAttribute("data-touch-highlight")||feedlyTheme.pu_highlight;dH=true}A=null},TOUCH_HIGHLIGHT_DELAY)}}function ap(fG){fG.preventDefault();if(r==null){return}if(Math.abs(fG.targetTouches[0].clientY-dY)>TOUCH_SLOP||Math.abs(fG.targetTouches[0].clientX-d0)>TOUCH_SLOP){if(A!=null){window.clearTimeout(A)
}else{r.style.backgroundColor=null}r=null}}function fl(fH){if(r!=null){var fG="none";try{fG=r.getAttribute("data-app-action");if(fG!=null){u[fG].call(u,fH)}}catch(fH){$feedly("[popup] failed to perform app action "+fG+" -- "+fH.name+" -- "+fH.message)}r.style.backgroundColor=null;r=null;dD(fH)}else{if(dH==false){bA(fH)}}}function bA(){if(eX!=null){devhd.fn.callback(eX)
}dD()}function dD(fG){bn.style.webkitTransitionDuration="250ms";bn.style.opacity=0;window.setTimeout(function(){bn.style.display="none";bn.innerHTML=""},450);if(fG!=null){fG.stopPropagation();fG.preventDefault()}eX=null}var cK=false;var eg=true;function b7(){return eg}u.showTooltip=bN;function bN(fH,fG){try{eg=(fG.hideOnReload==true);if(fG.top!=null){bD.style.top=fG.top+"px";
bD.style.bottom=null}if(fG.left!=null){bD.style.left=fG.left+"px";bD.style.right=null}if(fG.right!=null){bD.style.right=fG.right+"px";bD.style.left=null}if(fG.bottom!=null){bD.style.bottom=fG.bottom+"px";bD.style.top=null}if(fG.center==true){bD.style.left=Math.ceil((W-fG.width)/2)+"px";bD.style.top=Math.ceil((SH()-NAVIGATION_BAR-fG.height)/2+NAVIGATION_BAR)+"px"
}bD.style.width=(fG.width||200)+"px";if(fG.arrow=="left"){aP.style.cssFloat="left";aP.style.display="block"}else{if(fG.arrow=="right"){aP.style.cssFloat=fG.arrow;aP.style.display="block"}else{aP.style.display="none"}}ec.innerHTML=fH;bD.style.display="block";cK=true;if(fG.autoHide!=null&&fG.autoHide!=-1){window.setTimeout(e8,fG.autoHide)}}catch(fI){$feedly("[mag] show tooltip failed:"+fI.name+" -- "+fI.message)
}}u.clearTooltip=e8;function e8(){if(cK!=true){return}ec.innerHTML="";bD.style.display="none";cK=false}function ek(){e8()}u.handleBack=function(){try{if(d2()!=null){fn()}else{if(bn.style.display=="block"){bA()}else{if(c9.length==0){u.showSelector()}}}}catch(fG){$feedly("[feedly] failed to handle back:"+fG.name+" -- "+fG.message)}};u.startActivity=aH;
u.getCurrentActivity=d2;u.endActivity=bf;u.endAllActivities=eD;var c9=[];var cm=[];var bG=0;function cR(){if(c9.length==0){$feedly("[mag] no activities");return}$feedly("[mag] "+c9.length+" activities:");for(var fG=0;fG<c9.length;fG++){$feedly("[mag][activity]["+fG+"] "+c9[fG])}}function d2(){if(c9.length==0){return null}else{return c9[c9.length-1]}}var be=1;
var bZ={};function aH(fI,fH,fJ,fG,fK){c9.push(fI||"unnamed activity "+(bG++));cm.push(fJ||function(){});if(ESB["activity.debug"]==true){$feedly("[activity] start");cR()}if(fK!=null){bZ[fI]=be;be=fK}}function bf(fH,fL){try{if(c9==null||c9.length==0){return false}if(fL==null){fL=false}var fG=c9.pop();if(fG!=null&&fL==false){$B.core.wm.hide("more");$B.core.wm.hide(fG)
}if(cm!=null&&cm.length>0){var fJ=cm.pop();if(fH==true){try{devhd.fn.callback(fJ)}catch(fI){$feedly("[end activity] on cancel failed:"+fI.name+" -- "+fI.message)}}}if(ESB["activity.debug"]==true){$feedly("[activity] end. cancel= "+fH+". already hidden="+fL+". removed:"+fG);cR()}}catch(fK){$feedly("[mag] failed to endActivity "+fH+" / "+fL+" -- "+fK.name+" -- "+fK.message)
}}u.cancelActivity=fn;function fn(){bf(true)}function eD(fH){var fG=0;while(c9.length>0&&fG<100){fG++;bf(fH)}}u.showSelector=eC;var dK=null;function eC(fG){aH("selector","Contents");if(dK==null||new Date().getTime()-dK<devhd.utils.DurationUtils.HOURS(1)){$B.core.wm.show("selector")}else{$B.core.wm.postMessage("selector",{type:"backToTop"})}dK=new Date().getTime()
}u.showStore=d;var ao=null;function d(fG){var fH=a5();if(fH==true){window.setTimeout(function(){d(fG)},350);return}bb.trackPageView("store");aH("storeGroup","Explore");if(ao==null||new Date().getTime()-ao<devhd.utils.DurationUtils.MINUTES(10)||fG==true){$B.core.wm.show("storeGroup")}else{$B.core.wm.postMessage("searchBox",{type:"reset"})}ao=new Date().getTime()
}var fv=false;u.askUpdateStore=P;function P(){if(storeCreated==false){return}$B.core.wm.postMessage("store",b5());fv=true}function b5(){var fG={type:"essentials",logged:du(),topics:I.listTopics(),locale:I.getLocale()};if(du()==true){fG.cats=g.listCategories(false);fG.others=g.listOthers(false);fG.mustReads=g.listMustReads(false);fG.plan=SESSION().feedlyPlan;
fG.token=SESSION().feedlyToken;fG.provider=SESSION().provider}return fG}u.askCompleteBatchUnfollow=cV;function cV(){g.askSyncUnreadCounts(function(){var fG={type:"batch-complete",logged:du(),cats:g.listCategories(false),mustReads:g.listMustReads(false),others:g.listOthers(false),unconfigured:g.isUnConfigured(),mustReadUnreadCount:g.getMustReadUnreadCount(),userEmail:bp.userEmail,subscriptionCount:g.listSubscriptions("*",false).length};
$B.core.wm.postMessage("selector",fG);u.refresh()})}var dB=false;u.askUpdateSelector=c4;function c4(fI){try{var fG={type:"model",logged:du()};if(du()==true){fG.mode=streets.getMode();fG.unconfigured=g.isUnConfigured();fG.userEmail=bp.userEmail;fG.readingListTerm=devhd.utils.TermUtils.formatTerm("reading-list",bp.userId);fG.readingListUnreadCount=g.getReadingListUnreadCount();
fG.mustReadTerm=devhd.utils.TermUtils.formatTerm("global.must",bp.userId);fG.mustReadUnreadCount=g.getMustReadUnreadCount();fG.subscriptionCount=g.countSubscriptions();fG.tags=g.listTags();fG.profile=bp!=null&&bp.reader!=null&&bp.reader.profile!=null?bp.reader.profile:null;fG.session=SESSION();var fJ=g.buildSelectorModel();if(fJ!=null){fG.cats=fJ.categories;
fG.mustReads=fJ.mustReads,fG.others=fJ.others}}$B.core.wm.postMessage("selector",fG);dB=true}catch(fH){$feedly("[mag] could not update selector:"+fH.name+" -- "+fH.message);SIGN("ERR016 - Could not update selector",5000)}}u.mailDebugInfo=function(){$B.core.wm.postMessage("main",{type:"sel",sel:"actionFeedlyMailDebugInfo:"})};u.resetCategoriesOrdering=function(){g.resetCategoriesOrdering();
c4()};u.selectSection=function(fG,fJ,fH){try{if(fG!=null){if(fG.indexOf("action:")==0){var fK=fG.split(/:|\//);fK.shift();switch(fK[0]){case"logout":dR();break;case"clearCaches":try{$B.core.application.clearCaches(0);SIGN("Cache cleared")}catch(fI){SIGN("Error:"+fI.name)}break;case"toggleTheme":switch(THEME()){case"black":$B.core.application.setUserSetting("feedly_theme","white");
break;default:$B.core.application.setUserSetting("feedly_theme","black")}break;case"inviteFriends":$B.core.application.composeMail({subject:templates.mobile.invite.subject(),body:templates.mobile.invite.body(),ishtml:true});break;case"settings":$B.core.viewer.showPreferences({});break;case"app":$B.core.application.openAppStore(fK[1],fK[2],fK[3]);break;
case"connections":dm("connections",false,"connections");break;case"error":$B.core.viewer.doesNotExist({});break;default:if(u[fK]!=null){u[fK].call(u)}else{SIGN("unknown action:"+fK)}}}else{dm(fG,false,fJ,null,fH)}}}catch(fI){ERROR("ERR016 - failed to select section because "+fI.name+" -- "+fI.message)}};var D="gallery";function dC(fI,fH){if(fI==null){return null
}if(fI.getAttribute!=null){var fG=fI.getAttribute(fH);if(fG!=null){return fG}}return dC(fI.parentNode,fH)}function bg(fI,fH){if(fI==null){return null}if(fI.getAttribute!=null){var fG=fI.getAttribute(fH);if(fG!=null){return fI}}return bg(fI.parentNode,fH)}var f=0;var d0=0;var dY=0;var C=0;var B=0;var fa=0;var y=0;var v=0;var t=0;var eY=0;var eQ=0;var eP=0;
var fh=false;var dO=false;var bY=false;var eU=0;var dL=0;var bv=0;var bu=0;var bo=true;var ck=null;var fF=null;var cC=false;var bl=null;var bk=false;var bj=null;var eb=null;var h=null;var s=null;var eB=null;function aT(){if(bj==null){return false}if(new Date().getTime()-bj>2000){$feedly("[mag] stuck detected!");aI();return false}return true}function au(){bj=new Date().getTime()
}function b6(){bj=null}function aI(){bj=null}function aW(){var fG=new Date().getTime();if(SETTING("feedly_long_to_save")==false){return}h=window.setTimeout(function(){if(new Date().getTime()-fG>5000){return}h=null;if(s!=null){var fH=dC(s,"data-entryId");s=null;if(fH!=null){eE(fH,null,null,null,true);$B.core.application.hapticFeedback("long_press")}}},550)
}function eT(fG){fG.preventDefault()}function M(fH){var fG=new Date().getTime();fH.preventDefault();if(bl!=null){window.clearTimeout(bl);bl=null}if(cL.length==0){return}if(fH.touches.length!=1){return}if(bk==true){return}bk=true;bY=false;dL=0;bv=0;bo=true;eU=0;fF=null;cC=false;if(ej!=null){ej.style.webkitTransitionDuration="0ms"}if(aZ!=null){aZ.style.webkitTransitionDuration="0ms"
}if(dp!=null){dp.style.webkitTransitionDuration="0ms"}fa=new Date().getTime();C=d0=fH.targetTouches[0].clientX;B=dY=fH.targetTouches[0].clientY;s=fH.targetTouches[0].target;fh=false;dO=false;eb=eH(s);if(eb!=null){aW()}}function dh(fO){fO.preventDefault();if(cC==true){return}if(ANDROID_MED()){if(bl!=null){window.clearTimeout(bl)}bl=window.setTimeout(function(){$feedly("[mag] auto slided");
cC=true;bl=null;if(h!=null){window.clearTimeout(h);h=null}ei()},500)}if(fO.touches.length!=1){return}if(bk==false){return}if(aT()){return}C=fO.targetTouches[0].clientX;B=fO.targetTouches[0].clientY;var fH=new Date().getTime();if(y>0&&(v-C)/(y-fH)!=0){eQ=(v-C)/(y-fH)}y=fH;v=C;t=B;if(B<=NAVIGATION_BAR){cC=true;c5();return}var fK=Math.abs(dY-B);bv=Math.max(bv,Math.abs(d0-C));
bY=bY||(du()==true&&fK>25&&bv<14&&fK>3*bv);bo=bo&&bv<14&&fK>1.2*bv;if(fh==false&&bY==false&&bo==false){eU=C-d0;var fG="";if(ej==null&&eU>0){eU=0.4*eU}if(dp==null&&eU<0){eU=0.4*eU}aZ.style.webkitTransform=fG+" translate3d( "+(OFFSET_W+eU)+"px, 0px, 0px )";if(eU<=0){if(dp!=null){dp.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W+eU)+"px, 0px, 0px )"
}if(ej!=null){ej.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W)+"px, 0px, 0px )"}}else{if(ej!=null){ej.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W+eU)+"px, 0px, 0px )"}if(dp!=null){dp.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W)+"px, 0px, 0px )"}}}if(bY==true){if(fK>25&&dL<1){try{var fJ=dC(s,"data-entryId");if(fJ!=null){var fN=B>dY?"down":"up";
switch(fN){case"down":eV(fJ);break;case"up":S(fJ);break;default:}}}catch(fP){$feedly("[mag] level 1 swipe gesture failed:"+fP.name+" -- "+fP.message)}fF="markasread";dL=1}else{if(fK>150&&dL<2){try{var fQ=e9.listEntries();for(var fM=0;fM<fQ.length;fM++){if(B>dY){eV(fQ[fM].getId())}else{S(fQ[fM].getId())}}}catch(fP){}fF="markallasread";dL=2}}}var fL=C-d0;
var fI=B-dY;if(h!=null&&Math.abs(fI)*Math.abs(fI)+Math.abs(fL)*Math.abs(fL)>TOUCH_SLOP){window.clearTimeout(h);h=null}if(eb!=null){if(Math.abs(fI)*Math.abs(fI)+Math.abs(fL)*Math.abs(fL)>TOUCH_SLOP*TOUCH_SLOP){eb=null}}}function ds(fG){if(bl!=null){window.clearTimeout(bl);bl=null}if(cC==true){return}if(h!=null){window.clearTimeout(h);h=null}if(fG.touches.length>0){return
}fG.preventDefault();if(bk==false){return}if(aT()){return}ei()}function ei(){var fL,fQ,fO,fG;if(s!=null){fL=dC(s,"data-entryId");fQ=dC(s,"data-url");fO=dC(s,"data-hint");fG=dC(s,"data-link")}if(bY==true){bk=false;cB("instant","back")}else{if(dO){bk=false}else{if(Math.abs(C-d0)>18){var fM=new Date().getTime()-fa;var fR=Math.abs(d0-C)/fM;var fH;if(fR<0.45){fH="normal"
}else{if(fR<0.7){fH="fast"}else{if(fR<1){fH="fastest"}else{fH="crazy"}}}if(eQ>0&&C>d0&&ej!=null){Z(fH)}else{if(eQ<0&&C<d0&&dp!=null){fC(fH)}else{cH()}}}else{if(bv<10&&dJ(d0,dY,C,B)&&fL!=null){dr(u.lookupEntry(fL));bk=false}else{if(bv<10&&dJ(d0,dY,C,B)&&fQ!=null){var fK=fO;if(fK=="true"){fK=true}if(fK=="false"){fK=false}dm(fQ,false,fK);bk=false}else{if(bv<10&&dJ(d0,dY,C,B)&&fG!=null){OPEN(fG);
bk=false}else{cH()}}}}}}if(eb!=null&&dJ(d0,dY,C,B)){if(new Date().getTime()-fa>70){var fI=dC(eb,"data-app-action");var fP=dC(eb,"data-app-action-input");if(fI!=null){try{u[fI].call(u,fP)}catch(fN){$feedly("Failed to perform action:"+fI+" because: "+fN.name+" -- "+fN.message)}}else{var fS=dC(eb,"data-card-action");var fJ=dC(eb,"data-card-action-input");
if(fS!=null&&e9!=null){e9[fS].call(e9,fJ)}}}}}function aO(fG){}function cH(){bk=false;cB("normal","back")}function cB(fI,fL){fI=fI||"normal";au();ck=fL;try{var fK=0,fH,fG;switch(ck){case"next":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=W-Math.abs(eU);switch(fI){case"crazy":fK=125;break;case"fastest":fK=170;break;case"fast":fK=200;break;default:fK=240}if(eU/(fH+eU)>0.3){fK=Math.min(fK,180)
}if(fH<200){fK=Math.min(fK,180)}if(ANDROID_LOW()){fG="cubic-bezier( 0, 0, 1, 1 )";fK=fK-40}else{if(AD==1){fK=fK-25}}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W)+"px, 0px, 0px )"}if(dp!=null){dp.style.webkitTransitionDuration=fK+"ms";
dp.style.webkitTransitionFunction=fG;dp.style.webkitTransform="translate3d( "+(OFFSET_W)+"px, 0px, 0px )"}break;case"previous":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=W-Math.abs(eU);switch(fI){case"crazy":fK=125;break;case"fastest":fK=170;break;case"fast":fK=200;break;default:fK=240}if(eU/(fH+eU)>0.3){fK=Math.min(fK,180)}if(fH<200){fK=Math.min(fK,180)
}if(ANDROID_LOW()){fG="cubic-bezier( 0, 0, 1, 1 )";fK=fK-40}else{if(AD==1){fK=fK-25}}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction=fG;ej.style.webkitTransform="translate3d( "+(OFFSET_W)+"px, 0px, 0px )"}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;
aZ.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W)+"px, 0px, 0px )"}break;case"fastBackward":fK=330;if(b2!=null){b2.style.webkitTransitionDuration=fK+"ms";b2.style.webkitTransitionFunction="ease";b2.style.webkitTransform="translate3d( "+(OFFSET_W)+"px, 0px, 0px )"}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction="ease";
ej.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W)+"px, 0px, 0px )"}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction="ease";aZ.style.webkitTransform="translate3d( "+(2*CARD_W+OFFSET_W)+"px, 0px, 0px )"}break;case"back":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=Math.abs(eU);switch(fI){case"crazy":fK=125;break;
case"fastest":fK=170;break;case"fast":fK=200;break;default:fK=240}if(fH<200){fK=Math.min(fK,180)}if(ANDROID_LOW()){fG="cubic-bezier( 0, 0, 1, 1 )";fK=fK-40}else{if(AD==1){fK=fK-25}}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction=fG;ej.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W)+"px, 0px, 0px )"
}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( "+(OFFSET_W)+"px, 0px, 0px )"}if(dp!=null){dp.style.webkitTransitionDuration=fK+"ms";dp.style.webkitTransitionFunction=fG;dp.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W)+"px, 0px, 0px )"}break;default:}if(fK==0){cT()
}}catch(fJ){ERROR("ERROR123 - Swipe failed because:"+fJ.name+" -- "+fJ.message)}}function cT(){if(ck==null){return}b6();try{if(b2!=null){b2.style.webkitTransitionDuration="0ms"}if(ej!=null){ej.style.webkitTransitionDuration="0ms"}if(aZ!=null){aZ.style.webkitTransitionDuration="0ms"}if(dp!=null){dp.style.webkitTransitionDuration="0ms"}switch(ck){case"next":if(aZ!=null&&ANDROID()&&!KINDLE()){aZ.style.webkitTransform="translate3d( "+(-CARD_W+OFFSET_W+0.001)+"px, 0px, 0px )"
}eS();break;case"previous":if(aZ!=null&&ANDROID()&&!KINDLE()){aZ.style.webkitTransform="translate3d( "+(CARD_W+OFFSET_W+"0.001")+"px, 0px, 0px )"}cY();break;case"fastBackward":e7();cP=null;cL=[];eo();break;case"back":if(fF==null){if(aZ!=null&&ANDROID()&&!KINDLE()){aZ.style.webkitTransform="translate3d( "+(OFFSET_W+0.00001)+"px, 0px, 0px )"}eo()}break;
default:}}catch(fG){ERROR("ERR1002 - failed to complete slide because:"+fG.name+" -- "+fG.message)}ck=null;fF=null}function a3(fH){var fG=new Date().getTime();fH.preventDefault();if(bl!=null){window.clearTimeout(bl);bl=null}if(cL.length==0){return}if(fH.touches.length!=1){return}if(bk==true){return}bk=true;bY=false;dL=0;bu=0;bo=true;eU=0;fF=null;cC=false;
eP=0;if(ej!=null){ej.style.webkitTransitionDuration="0ms"}if(aZ!=null){aZ.style.webkitTransitionDuration="0ms"}if(dp!=null){dp.style.webkitTransitionDuration="0ms"}fa=new Date().getTime();C=d0=fH.targetTouches[0].clientX;B=dY=fH.targetTouches[0].clientY;s=fH.targetTouches[0].target;fh=false;dO=false;eb=eH(s);if(eb!=null){aW()}}function d6(fM){fM.preventDefault();
if(h!=null){window.clearTimeout(h);h=null}if(cC==true){return}if(ANDROID_MED()){if(bl!=null){window.clearTimeout(bl)}bl=window.setTimeout(function(){$feedly("[mag] auto slided");cC=true;bl=null;cN()},500)}if(fM.touches.length!=1){return}if(bk==false){return}if(aT()){return}C=fM.targetTouches[0].clientX;B=fM.targetTouches[0].clientY;var fH=new Date().getTime();
if(y>0&&(t-B)/(y-fH)!=0){eP=(t-B)/(y-fH)}y=fH;v=C;t=B;var fJ=Math.abs(d0-C);bu=Math.max(bu,Math.abs(dY-B));bY=bY||(du()==true&&fJ>25&&bu<14&&fJ>3*bu);bo=bo&&bu<14&&fJ>1.2*bu;if(fh==false&&bY==false&&bo==false){eU=B-dY;var fG="";if(ej==null&&eU>0){eU=0.4*eU}if(dp==null&&eU<0){eU=0.4*eU}aZ.style.webkitTransform=fG+" translate3d( 0px, "+(OFFSET_H+eU)+"px, 0px )";
if(eU<=0){if(dp!=null){dp.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H+eU)+"px, 0px )"}if(ej!=null){ej.style.webkitTransform="translate3d( 0px,  "+(-CARD_H+OFFSET_H)+"px, 0px )"}}else{if(ej!=null){ej.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H+eU)+"px, 0px )"}if(dp!=null){dp.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H)+"px, 0px )"
}}}if(bY==true){if(fJ>25&&dL<1){try{var fI=dC(s,"data-entryId");if(fI!=null){var fL=C>d0?"right":"left";switch(fL){case"left":eV(fI);break;case"right":S(fI);break;default:}}}catch(fN){$feedly("[mag] level 1 swipe gesture failed:"+fN.name+" -- "+fN.message)}fF="markasread";dL=1}else{if(fJ>100&&dL<2){try{var fO=e9.listEntries();for(var fK=0;fK<fO.length;
fK++){if(B>dY){eV(fO[fK].getId())}else{S(fO[fK].getId())}}}catch(fN){}fF="markallasread";dL=2}}}}function fD(fG){if(bl!=null){window.clearTimeout(bl);bl=null}if(cC==true){return}if(h!=null){window.clearTimeout(h);h=null}if(fG.touches.length>0){return}fG.preventDefault();if(bk==false){return}if(aT()){return}cN()}function cN(){var fL,fQ,fO,fG;if(s!=null){fL=dC(s,"data-entryId");
fQ=dC(s,"data-url");fO=dC(s,"data-hint");fG=dC(s,"data-link")}if(bY==true){bk=false;cB("instant","back")}else{if(dO){bk=false}else{if(Math.abs(B-dY)>15){var fM=new Date().getTime()-fa;var fR=Math.abs(dY-B)/fM;var fH;if(fR<0.45){fH="normal"}else{if(fR<0.7){fH="fast"}else{if(fR<1){fH="fastest"}else{fH="crazy"}}}if(eP>=0&&B>dY&&ej!=null){e8();Z(fH)}else{if(eP<=0&&B<dY&&dp!=null){e8();
fC(fH)}else{cE()}}}else{if(bu<10&&dJ(d0,dY,C,B)&&fL!=null){dr(u.lookupEntry(fL));bk=false}else{if(bv<10&&dJ(d0,dY,C,B)&&fQ!=null){var fK=fO;if(fK=="true"){fK=true}if(fK=="false"){fK=false}dm(fQ,false,fK);bk=false}else{if(bv<10&&dJ(d0,dY,C,B)&&fG!=null){OPEN(fG);bk=false}else{cE()}}}}}}if(eb!=null&&dJ(d0,dY,C,B)){if(new Date().getTime()-fa>70){var fI=dC(eb,"data-app-action");
var fP=dC(eb,"data-app-action-input");if(fI!=null){try{u[fI].call(u,fP)}catch(fN){$feedly("Failed to perform action:"+fI+" because: "+fN.name+" -- "+fN.message)}}else{var fS=dC(eb,"data-card-action");var fJ=dC(eb,"data-card-action-input");if(fS!=null&&e9!=null){e9[fS].call(e9,fJ)}}}}}function by(fG){}function cE(){bk=false;w("normal","back")}function w(fI,fL){fI=fI||"normal";
au();ck=fL;try{var fK=0,fH,fG;switch(ck){case"next":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=H-NAVIGATION_BAR-Math.abs(eU);switch(fI){case"crazy":fK=180;break;case"fastest":fK=200;break;case"fast":fK=240;break;default:fK=280}if(eU/(fH+eU)>0.3){fK=Math.min(fK,220)}if(fH<220){fK=Math.min(fK,220)}if(ANDROID_LOW()){fG="cubic-bezier( 0, 0, 1, 1 )";fK=fK-40}else{if(AD==1){fK=fK-25
}}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )"}if(dp!=null){dp.style.webkitTransitionDuration=fK+"ms";dp.style.webkitTransitionFunction=fG;dp.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )"
}break;case"previous":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=H-NAVIGATION_BAR-Math.abs(eU);switch(fI){case"crazy":fK=180;break;case"fastest":fK=200;break;case"fast":fK=240;break;default:fK=280}if(eU/(fH+eU)>0.3){fK=Math.min(fK,220)}if(fH<220){fK=Math.min(fK,220)}if(ANDROID_LOW()){fG="cubic-bezier( 0, 0, 1, 1 )";fK=fK-40}else{if(AD==1){fK=fK-25}}if(fI=="instant"){fK=0
}if(fH<30){fK=0}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction=fG;ej.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )"}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H)+"px, 0px )"}break;
case"fastBackward":fK=380;if(b2!=null){b2.style.webkitTransitionDuration=fK+"ms";b2.style.webkitTransitionFunction="ease";b2.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )"}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction="ease";ej.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H)+"px, 0px )"
}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction="ease";aZ.style.webkitTransform="translate3d( 0px, "+(2*CARD_H+OFFSET_H)+"px, 0px )"}break;case"back":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=Math.abs(eU);switch(fI){case"crazy":fK=180;break;case"fastest":fK=200;break;case"fast":fK=240;break;default:fK=280}if(fH<220){fK=Math.min(fK,220)
}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction=fG;ej.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )"}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )"
}if(dp!=null){dp.style.webkitTransitionDuration=fK+"ms";dp.style.webkitTransitionFunction=fG;dp.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H)+"px, 0px )"}break;default:}if(fK==0){ea()}}catch(fJ){ERROR("ERROR123 - Swipe failed because:"+fJ.name+" -- "+fJ.message)}}function ea(){if(ck==null){return}b6();try{if(b2!=null){b2.style.webkitTransitionDuration="0ms"
}if(ej!=null){ej.style.webkitTransitionDuration="0ms"}if(aZ!=null){aZ.style.webkitTransitionDuration="0ms"}if(dp!=null){dp.style.webkitTransitionDuration="0ms"}switch(ck){case"next":if(aZ!=null&&ANDROID()&&!KINDLE()){aZ.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H+0.001)+"px, 0px )"}eS();break;case"previous":if(aZ!=null&&ANDROID()&&!KINDLE()){aZ.style.webkitTransform="translate3d( 0px, "+(CARD_H+OFFSET_H+"0.001")+"px, 0px )"
}cY();break;case"fastBackward":e7();cP=null;cL=[];eo();break;case"back":if(fF==null){if(aZ!=null&&ANDROID()&&!KINDLE()){aZ.style.webkitTransform="translate3d( 0px,"+(OFFSET_H+0.00001)+"px, 0px )"}eo()}break;default:}}catch(fG){ERROR("ERR1002 - failed to complete slide because:"+fG.name+" -- "+fG.message)}ck=null;fF=null}var b0=4;var dA=0.7;var aF=200;
if(ANDROID()&&!ANDROID_44PLUS()){b0=0;dA=1}var cq=null;var bB=null;function aL(fH){var fG=new Date().getTime();fH.preventDefault();if(bl!=null){window.clearTimeout(bl);bl=null}if(h!=null){window.clearTimeout(h);h=null}if(cL.length==0){return}if(fH.touches.length!=1){return}if(bk==true){return}bk=true;dL=0;bv=0;bu=0;eU=0;fF=null;cC=false;bB=null;fh=false;
cq=null;dO=false;eY=0;if(ej!=null){ej.style.webkitTransitionDuration="0ms";ej.style.zIndex=6}if(aZ!=null){aZ.style.webkitTransitionDuration="0ms";aZ.style.zIndex=5;try{if(cP==0&&aZ.className.indexOf("bouncer")>-1){aZ.className="card"}}catch(fI){}}if(dp!=null){dp.style.webkitTransitionDuration="0ms";dp.style.zIndex=4}fa=new Date().getTime();v=C=d0=fH.targetTouches[0].clientX;
t=B=dY=fH.targetTouches[0].clientY;if(d0<HOME_TOUCH_BAND){fh=true;cq="left"}else{if(W-d0<STORE_TOUCH_BAND){fh=true;cq="right"}}s=fH.targetTouches[0].target;eb=eH(s);if(eb!=null){aW()}eB=dC(s,"data-entryId");if(ANDROID()==false){ey.style.webkitTransition="opacity 0.3s";ey.style.opacity=0;ey.style.visibility="visible"}}function a8(fL){fL.preventDefault();
if(cC==true){return}if(fL.touches.length!=1){return}if(bk==false){return}if(aT()){return}C=fL.targetTouches[0].clientX;B=fL.targetTouches[0].clientY;var fI=new Date().getTime();if(y>0&&(t-B)/(y-fI)!=0){eP=(t-B)/(y-fI)}if((dY-B)*(t-B)<0){eY+=Math.abs(t-B)}y=fI;v=C;t=B;if(B<=NAVIGATION_BAR){cC=true;c5();return}bv=Math.max(bv,Math.abs(d0-C));bu=Math.max(bu,Math.abs(dY-B));
if(ANDROID_MED()){if(bl!=null){window.clearTimeout(bl)}bl=window.setTimeout(function(){$feedly("[mag] auto slided");cC=true;bl=null;if(h!=null){window.clearTimeout(h);h=null}c5()},500)}if(bB==null){if((bv>2*bu&&bv>TOUCH_SLOP)||(fh&&bv>1.5*bu&&bv>0.5*TOUCH_SLOP)){bB="horizontal"}if((bu>bv&&bu>TOUCH_SLOP)||(bu>2*TOUCH_SLOP)){bB="vertical"}}if(h!=null&&(bv+bu>TOUCH_SLOP)){window.clearTimeout(h);
h=null}if(bB!=null||bv>TOUCH_SLOP||bu>TOUCH_SLOP){s=null;eb=null}if((bB==null&&fh==false)||bB=="vertical"){eU=B-dY;if(ej==null&&eU>0){eU=2*eU}if(eU<=0){aZ.style.webkitTransform="translate3d( 0px, "+(OFFSET_H+eU)+"px, 0px )";aZ.style.opacity=1;if(dp!=null){if(ANDROID()){dp.style.webkitTransform="translate3d( 0px, 0px, -"+b0+"px)";dp.style.opacity=dA}else{var fK=Math.ceil(((Math.abs(eU)/CARD_H-1)*b0));
dp.style.webkitTransform="translate3d( 0px, 0px, "+fK+"px)";dp.style.opacity=dA+(1-dA)*(Math.abs(eU)/CARD_H)}}if(ej!=null){ej.style.webkitTransform="translate3d( 0px,  "+(-CARD_H+OFFSET_H)+"px, 0px )";ej.style.opacity=1}if(ANDROID()==false){ey.style.opacity=0.4;ey.style.webkitTransform="translate3d( 0px, "+(cF-(eU/CARD_H)*dg)+"px, 0px )"}}else{if(AD==1){eU=eU*(ORIENTATION()=="portrait"?1.8:1.3)
}if(AD==2){eU=eU*(ORIENTATION()=="portrait"?2.4:1.5)}if(AD==4){eU=eU*(ORIENTATION()=="portrait"?3:1.7)}eU=Math.floor(eU);if(Math.abs(eU)>CARD_H){eU=CARD_H}if(ej==null){if(eU==CARD_H){c5();aZ.innerHTML=templates.mobile.activitySign("Loading");window.setTimeout(function(){u.refresh()},500);return}aZ.style.webkitTransform="translate3d( 0px, 0px, "+(Math.ceil(-(Math.abs(eU)/CARD_H*aF)))+"px)";
aZ.style.opacity=dA+(1-dA)*((CARD_H-Math.min(CARD_H,Math.abs(eU)))/CARD_H)}else{if(!ANDROID()){aZ.style.webkitTransform="translate3d( 0px, 0px, "+(Math.ceil(-(Math.abs(eU)/CARD_H*b0)))+"px)";aZ.style.opacity=dA+(1-dA)*((CARD_H-Math.min(CARD_H,Math.abs(eU)))/CARD_H)}}if(ej!=null){ej.style.webkitTransform=ej.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H+eU)+"px, 0px )"
}if(dp!=null){dp.style.webkitTransform="translate3d( 0px, 0px, -"+(2*b0)+"px )";dp.style.opacity=0}if(!ANDROID()){ey.style.opacity=0.4;ey.style.webkitTransform="translate3d( 0px, "+(cF-(eU/CARD_H)*dg)+"px, 0px )"}}}else{if(bB=="horizontal"){var fH=C>d0?"right":"left";var fG=Math.abs(d0-C);if(cq!=null){if(dO!=true){try{switch(cq){case"left":eC(true);
dO=true;break;case"right":d();dO=true;break;default:}}catch(fN){$feedly("[mag] special touch failed because:"+fL.name+" -- "+fL.message)}}}else{if(du()==true&&eB!=null){if(fG>25&&dL<1){try{switch(fH){case"left":eV(eB);break;case"right":S(eB);break;default:}}catch(fN){$feedly("[mag] level 1 swipe gesture failed:"+fN.name+" -- "+fN.message)}fF="markasread";
dL=1}else{if(fG>150&&dL<2){try{switch(fH){case"left":var fM=e9.listEntries();for(var fJ=0;fJ<fM.length;fJ++){eV(fM[fJ].getId())}break;case"right":var fM=e9.listEntries();for(var fJ=0;fJ<fM.length;fJ++){S(fM[fJ].getId())}break;default:}}catch(fN){}fF="markallasread";dL=2}}}}}}}function ah(fG){fG.preventDefault();if(h!=null){window.clearTimeout(h);h=null
}if(bl!=null){window.clearTimeout(bl);bl=null}if(cC==true){return}if(fG.touches.length>0){return}if(bk==false){return}if(aT()){return}c5()}function c5(){var fL,fQ,fO,fG;if(s!=null){fL=dC(s,"data-entryId");fQ=dC(s,"data-url");fO=dC(s,"data-hint");fG=dC(s,"data-link")}if(bB=="horizontal"){az()}else{if(bB=="vertical"&&bu>TRANSITION_TRIGER){var fM=new Date().getTime()-fa;
var fR=bu/fM;var fH;if(fR<0.45){fH="normal"}else{if(fR<0.7){fH="fast"}else{if(fR<1){fH="fastest"}else{fH="crazy"}}}if((eP>0||eY<5)&&B>dY&&ej!=null){Z(fH)}else{if((eP<0||eY<5)&&B<dY&&dp!=null){fC(fH)}else{az()}}}else{if(fL!=null){dr(u.lookupEntry(fL));az()}else{if(fQ!=null){var fK=fO;if(fK=="true"){fK=true}if(fK=="false"){fK=false}dm(fQ,false,fK);az()
}else{if(fG!=null){OPEN(fG);az()}else{az()}}}}}if(eb!=null){var fI=dC(eb,"data-app-action");var fP=dC(eb,"data-app-action-input");if(fI!=null){try{u[fI].call(u,fP)}catch(fN){$feedly("Failed to perform action:"+fI+" because: "+fN.name+" -- "+fN.message)}}else{var fS=dC(eb,"data-card-action");var fJ=dC(eb,"data-card-action-input");if(fS!=null&&e9!=null){e9[fS].call(e9,fJ)
}}}}function br(fG){a4()}function az(){bk=false;aR("normal","back")}function aR(fI,fL){fI=fI||"normal";if(ANDROID()==false){ey.style.webkitTransition="-webkit-transform 0.3s cubic-bezier( 0.25, 0.25, 0, 1 ), opacity 0.5s";ey.style.opacity=0}au();ck=fL;try{var fK=0,fH,fG;switch(ck){case"next":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=H-NAVIGATION_BAR-Math.abs(eU);
switch(fI){case"crazy":fK=180;break;case"fastest":fK=200;break;case"fast":fK=240;break;case"slow":fK=500;break;default:fK=280}if(eU/(fH+eU)>0.3){fK=Math.min(fK,220)}if(fH<220){fK=Math.min(fK,220)}if(ANDROID_LOW()){fG="cubic-bezier( 0, 0, 1, 1 )";fK=fK-40}else{if(AD==1){fK=fK-25}}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(TABLET()){fK=fK*1.25}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";
aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )"}if(dp!=null){if(ANDROID()){dp.style.webkitTransitionDuration=fK+"ms";dp.style.webkitTransitionFunction=fG;dp.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";dp.style.opacity=1}else{dp.style.webkitTransitionDuration=fK+"ms";
dp.style.webkitTransitionFunction=fG;dp.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";dp.style.opacity=1}}break;case"previous":fG="cubic-bezier( 0, 0, 0.75, 1 )";fH=H-NAVIGATION_BAR-Math.abs(eU);switch(fI){case"crazy":fK=180;break;case"fastest":fK=200;break;case"fast":fK=240;break;default:fK=280}if(eU/(fH+eU)>0.3){fK=Math.min(fK,220)
}if(fH<220){fK=Math.min(fK,220)}if(ANDROID_LOW()){fG="cubic-bezier( 0, 0, 1, 1 )";fK=fK-40}else{if(AD==1){fK=fK-25}}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(ej!=null){if(ANDROID()){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction=fG;ej.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";ej.style.opacity=1}else{ej.style.webkitTransitionDuration=fK+"ms";
ej.style.webkitTransitionFunction=fG;ej.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";ej.style.opacity=1}}if(aZ!=null&&ANDROID()==false){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( 0px, 0px, -"+b0+"px )";aZ.style.opacity=dA}break;case"fastBackward":fK=420;if(b2!=null){if(ANDROID()){b2.style.webkitTransitionDuration=fK+"ms";
b2.style.webkitTransitionFunction="ease";b2.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";b2.style.opacity=1}else{b2.style.webkitTransitionDuration=fK+"ms";b2.style.webkitTransitionFunction="ease";b2.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";b2.style.opacity=1}}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";
ej.style.webkitTransitionFunction="ease";ej.style.webkitTransform="translate3d( 0px, 0px, -"+b0+"px )";ej.style.opacity=dA}if(aZ!=null){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction="ease";aZ.style.webkitTransform="translate3d( 0px, 0px, -"+(2*b0)+"px )";aZ.style.opacity=dA*dA}break;case"back":fG="cubic-bezier( 0, 0, 0.75, 1 )";
fH=Math.abs(eU);switch(fI){case"crazy":fK=180;break;case"fastest":fK=200;break;case"fast":fK=240;break;default:fK=280}if(fH<220){fK=Math.min(fK,220)}if(fI=="instant"){fK=0}if(fH<30){fK=0}if(ej!=null){ej.style.webkitTransitionDuration=fK+"ms";ej.style.webkitTransitionFunction=fG;ej.style.webkitTransform="translate3d( 0px, "+(-CARD_H+OFFSET_H)+"px, 0px )";
ej.style.opacity=1}if(aZ!=null){if(ANDROID()){aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";aZ.style.opacity=1}else{aZ.style.webkitTransitionDuration=fK+"ms";aZ.style.webkitTransitionFunction=fG;aZ.style.webkitTransform="translate3d( 0px, "+(OFFSET_H)+"px, 0px )";
aZ.style.opacity=1}}if(dp!=null){dp.style.webkitTransitionDuration=fK+"ms";dp.style.webkitTransitionFunction=fG;dp.style.webkitTransform="translate3d( 0px, 0px, -"+b0+"px )";if(dp.style.opacity!=0){dp.style.opacity=dA}}break;default:}if(fK==0){a4()}}catch(fJ){ERROR("ERROR123 - Swipe failed because:"+fJ.name+" -- "+fJ.message)}}function a4(){if(ck==null){return
}b6();try{if(b2!=null){b2.style.webkitTransitionDuration="0ms"}if(ej!=null){ej.style.webkitTransitionDuration="0ms"}if(aZ!=null){aZ.style.webkitTransitionDuration="0ms"}if(dp!=null){dp.style.webkitTransitionDuration="0ms"}switch(ck){case"next":if(aZ!=null){aZ.style.zIndex=6}if(dp!=null){dp.style.zIndex=5}eS();break;case"previous":if(ej!=null){ej.style.zIndex=5
}if(aZ!=null){aZ.style.zIndex=4}if(aZ!=null&&ANDROID()==true){aZ.style.webkitTransform="translate3d( 0px, 0px, -"+b0+"px )";aZ.style.opacity=dA}cY();break;case"fastBackward":e7();cP=null;cL=[];eo();break;case"back":if(dp!=null&&dp.style.opacity==0){dp.style.opacity=dA}if(fF==null){eo()}break;default:}}catch(fG){ERROR("ERR1002 - failed to complete slide because:"+fG.name+" -- "+fG.message)
}if(ANDROID()==false){ey.style.opacity=0;ey.style.visibility="hidden"}ck=null;fF=null}u.email=function(fJ){var fI,fG;if(fJ.entryId!=null){var fH=u.lookupEntry(fJ.entryId);fI=fH.getCleanTitle()+" [feedly]";fG=templates.mobile.email(fH)}else{fI=(fJ.title||"")+" [feedly]";fG=templates.mobile.emailURL(fJ.url,fJ.title||"")}$B.core.application.composeMail({subject:fI,body:fG,ishtml:true,bcc:(SETTING("feedly_mail_bcc")||"").split(",")})
};u.clearCaches=function(){c3=null};var eF=null;var d9=null;var aK=null;u.askSaveInOneNote=function(fK,fI,fL,fG){if(fK==null&&fI==null){SIGN("Error: No entry id or URL");return}if(fK!=null){var fH=u.lookupEntry(fK);if(fH.getDecoration("OneNote")!=null){SIGN("Already saved");return}}if(bp==null||bp.reader==null||bp.reader.profile==null){SIGN("Login to feedly first");
return}if(PRO()==false){SIGN("Requires feedly.com/#pro");return}if(K.isConnected("windowsLive")==false&&fG==true){return}if(K.isConnected("windowsLive")==false){eF=fK;d9=fI;aK=fL;x();return}SIGN("Saving in OneNote...");u.trackEvent("sharing","oneNote");var fJ={entryId:fK,url:fI,title:fL};TPOST("!{cloud}/v3/microsoft/oneNoteAdd?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(fJ),function(fN){var fO=devhd.utils.JSONUtils.decode(fN);
if(fK!=null){var fM=u.lookupEntry(fK);fM.setDecoration("OneNote",fO.pageUrl||"https://www.onenote.com/notebooks");if(c9==null||c9.length==0){SIGN("Saved in OneNote")}else{$B.core.wm.postMessage(i,{type:"oneNoted",oneNoteUrl:fM.getDecoration("OneNote")})}}else{SIGN("Saved in OneNote")}if(SETTING("feedly_favorite_saving_tool")==null){$B.core.application.setUserSetting("feedly_favorite_saving_tool","onenote")
}},function(fM,fN){$feedly("[onenote] failed to create note:"+code+" -- "+JSON.stringify(fJ));SIGN("ERROR:"+code)},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})};function x(){$B.core.wm.openOAuth2("OneNoteOAuth","https://feedly.com/v3/microsoft/liveAuth",{query:{redirectUri:"http://www.feedly.com/oneNote.html",provider:"OneNote",feedlyToken:SESSION().feedlyToken},provider:"OneNote",autoClose:true,allowRedirect:true,intercept:"redirectUri"},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:DIMENSIONS.landscape.width,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:DIMENSIONS.portrait.width,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("OneNoteOAuth","OneNoteOAuth",function(){$B.core.wm.close("OneNoteOAuth")});$B.core.wm.show("OneNoteOAuth")}u.completeOneNoteOAuth=function(){K.markAsConnected("windowsLive");u.askSaveInOneNote(eF,d9,aK,true);eF=null;d9=null;aK=null};u.askRemoveTag=function(fH,fI){var fG=u.lookupEntry(fH);if(fG==null){SIGN("Entry not found");return}g.untagEntry(fG,fI,function(){$B.core.wm.postMessage(i,{type:"tagged",labels:fG.listTagLabels()})
},function(fJ){$B.core.wm.postMessage(i,{type:"tag.error",status:fJ})})};u.askTagInFeedly=function(fH,fG,fI){if(fH==null&&fG==null){SIGN("Error: No entry id or title");return}if(bp==null||bp.reader==null||bp.reader.profile==null){SIGN("Login to feedly first");return}dj(fH,fG,fI)};function dj(fJ,fH,fL){var fG=g.listTags();var fK=[];for(var fI=0;fI<fG.length;
fI++){fK.push({id:fG[fI].id,label:fG[fI].label,icon:svg("mobile-icon-tag"),entryId:fJ,url:fH,title:fL})}$B.core.wm.open("picker",templates.mobile.activity("picker",PANEL_W),{verb:"Select a tag:",entity:"tag",action:"doTagInFeedly",options:fK,entryId:fJ,url:fH,title:fL},{effectName:"slideright",effectDuration:0.28,gravity:"top|left",width:PANEL_W,focusable:true,scrollsToTop:true,hideGestureEnabled:true,longPressDisabled:true,directionScrollEnabled:true,_android$hardwareAccelerated:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("picker","Picker",function(){$B.core.wm.close("picker")})}u.doTagInFeedly=function(fH,fI){if(c9==null||c9.length==0){SIGN("Tagging...")}else{$B.core.wm.postMessage(i,{type:"tagging"})}u.trackEvent("sharing","tag");if(fI.entryId!=null){var fG=u.lookupEntry(fI.entryId);if(fG==null){SIGN("Entry not found");return}g.tagEntry(fG,fI.label,function(){$B.core.wm.postMessage(i,{type:"tagged",labels:fG.listTagLabels()})
},function(fJ){$B.core.wm.postMessage(i,{type:"tag.error",status:fJ})})}else{g.askCreateNote(fI.url,fI.title,"",fI.label,function(){SIGN("Tagged")},function(fJ){$feedly("[tag] error:"+fJ);SIGN("Tag error:"+fJ)})}};var am=null;var bi=null;var J=null;u.askSaveInEvernote=function(fJ,fI,fK,fG){if(fJ==null&&fI==null){SIGN("Error: No entry id or title");return
}if(fJ!=null){var fH=u.lookupEntry(fJ);if(fH.getDecoration("Evernote")!=null){SIGN("Already saved");return}}if(bp==null||bp.reader==null||bp.reader.profile==null){SIGN("Login to feedly first");return}if(PRO()==false){SIGN("Requires feedly.com/#pro");return}if(K.isConnected("evernote")==false&&fG==true){return}if(K.isConnected("evernote")==false){am=fJ;
bi=fI;J=fK;es();return}aB(fJ,fI,fK)};var c3=null;function aB(fH,fG,fI){if(c3==null){SIGN("Loading notebooks...");TJGET("!{cloud}/v3/evernote/notebooks?includeBusiness=true",function(fJ){try{var fL=[];for(var fK=0;fK<fJ.notebooks.length;fK++){fL.push({name:fJ.notebooks[fK].name,guid:fJ.notebooks[fK].guid,type:fJ.notebooks[fK].type,label:fJ.notebooks[fK].name,icon:fJ.notebooks[fK].type=="business"?svg("mobile-icon-evernote-business"):null})
}fL.sort(function(fO,fN){return fO.name.localeCompare(fN.name)});if(fL.length>0){c3=fL}a2(fH,fG,fI,c3)}catch(fM){ERROR("EVER001","Failed to get notebooks because:"+fM.name+" -- "+fM.message)}},function(fJ){$feedly("failed to get notebooks:"+fJ);SIGN("FAILED TO GET NOTEBOOKS:"+fJ)},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})
}else{a2(fH,fG,fI,c3)}}function a2(fI,fG,fK,fJ){for(var fH=0;fH<fJ.length;fH++){fJ[fH].entryId=fI;fJ[fH].url=fG;fJ[fH].title=fK}$B.core.wm.open("picker",templates.mobile.activity("picker",PANEL_W),{verb:"Select a notebook:",entity:"notebook",action:"doSaveInEvernote",options:fJ,entryId:fI,url:fG,title:fK},{effectName:"slideright",effectDuration:0.28,gravity:"top|left",width:PANEL_W,focusable:true,scrollsToTop:true,hideGestureEnabled:true,longPressDisabled:true,directionScrollEnabled:true,_android$hardwareAccelerated:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("picker","Picker",function(){$B.core.wm.close("picker")})}u.doSaveInEvernote=function(fH,fI){if(c9==null||c9.length==0){SIGN("Saving in Evernote...")}else{$B.core.wm.postMessage(i,{type:"evernoting"})}u.trackEvent("sharing","evernote");var fG;switch(fH){case"new":fG={entryId:fI.entryId,url:fI.url,title:fI.title,notebookName:fI.label};break;default:fG={entryId:fI.entryId,url:fI.url,title:fI.title,notebookGuid:fI.guid,notebookName:fI.name,notebookType:fI.type}
}TPOST("!{cloud}/v3/evernote/note?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(fG),function(fK){try{var fL={};if(fK!=null&&fK!=""){fL=devhd.utils.JSONUtils.decode(fK)}if(fI.entryId!=null){var fJ=u.lookupEntry(fI.entryId);if(fJ!=null){fJ.setDecoration("Evernote",fL.pageUrl||"https://www.evernote.com");
if(c9==null||c9.length==0){SIGN("Saved in Evernote")}else{$B.core.wm.postMessage(i,{type:"evernoted",evernoteUrl:fJ.getDecoration("Evernote")})}}}else{SIGN("Saved in Evernote")}if(SETTING("feedly_favorite_saving_tool")==null){$B.core.application.setUserSetting("feedly_favorite_saving_tool","evernote")}}catch(fM){$feedly("[evernote] failed to process the evernote response:"+fM.name+" -- "+fM.message)
}},function(fJ,fK){$feedly("[evernote] saved failed: "+fJ+" -- "+JSON.stringify(fG));if(fI.entryId!=null){$B.core.wm.postMessage(i,{type:"evernote.error",status:fJ})}else{SIGN("ERROR:"+fJ)}},{"$Authorization.feedly":"$FeedlyToken","Content-Type":"application/json"})};function es(){$B.core.wm.openOAuth2("EvernoteSaveOAuth","https://feedly.com/v3/evernote/auth",{query:{redirectUri:"http://www.feedly.com/feedly.html",provider:"Evernote",feedlyToken:SESSION().feedlyToken},provider:"EvernoteSave",autoClose:true,allowRedirect:true,intercept:"redirectUri"},{effectName:"slideright",effectDuration:0.28,gravity:"bottom|left",landscape:{width:DIMENSIONS.landscape.width,height:DIMENSIONS.landscape.height+(window.devicePixelRatio==1.5?1:0)},portrait:{width:DIMENSIONS.portrait.width,height:DIMENSIONS.portrait.height+(window.devicePixelRatio==1.5?1:0)},focusable:true,closeGestureEnabled:true,modal:true,modalBackgroundColor:"#000000",modalAlpha:MODAL_ALPHA,modalTap:"close"});
aH("EvernoteSaveOAuth","EvernoteSaveOAuth",function(){$B.core.wm.close("EvernoteSaveOAuth")});$B.core.wm.show("EvernoteSaveOAuth")}u.completeEvernoteSaveOAuth=function(){K.markAsConnected("evernote");u.askSaveInEvernote(am,bi,J,true);am=null;bi=null;J=null};u.navigate=function(fG){if(bf()==false){if(fG.direction=="up"){fC("slow")}else{Z("slow")}}};function Z(fG){bk=false;
if(ej==null){return}e4(cL[0],cP-1);dU(fG,"previous")}u.slideToPreviousCard=Z;function cY(){cP=cP-1;di(cL[0],"previous");if(dp!=null){var fG=cL.pop();if(fG!=null){fG.destroy()}eq("right")}dQ("center","right");dQ("left","center");if(cP>0){en()}eo()}u.slideToNextCard=fC;function fC(fG){bk=false;if(dp==null){return}if(cP==0&&e1==null){e1=ba[dT("center")].innerHTML
}e4(cL[cL.length-1],cP+1);dU(fG,"next")}function eS(){an(e9);cP=cP+1;di(cL[cL.length-1],"next");if(ej!=null){var fG=cL.shift();if(fG!=null){fG.destroy()}eq("left")}dQ("center","left");dQ("right","center");if(cP+1<c6.length){j()}eo()}u.backToFirst=bR;function bR(){if(cP==0){SIGN("On first card");return}else{if(cP==1){return Z()}else{if(e1==null){dm(fB,false,ft);
return}else{eq("right");a6("first").innerHTML=e1;window.setTimeout(function(){dU("normal","fastBackward")},20)}}}}function df(){fC("instant")}function dS(){Z("instant")}var e9=null;function an(fH){if(fH==null){return}try{if(fH&&SETTING("feedly_mark_as_read")==true&&du()==true){var fL=fH.listEntries();var fK=[];for(var fI=0;fI<fL.length;fI++){var fG=fL[fI];
if(fG==null||fG.markAsReadable==false||fG.isRead()){continue}var fJ=g.lookupSubscription(fG.getFeedId());if(fJ==null){continue}fK.push(fG)}g.markEntriesAsRead(fK,false);for(var fI=0;fI<fK.length;fI++){d3(fK[fI])}}}catch(fM){}}var ag=false;function di(fK,fJ){try{if(fK==null){return}e9=fK;fd(fK.getSection());fK.show();ae();if(du()==true){eZ++}if(ag!=true&&cP==0&&d5(fB)&&LREAD("addTooltip.v2")!="done"){var fH=fB.slice("list://".length);
var fG=g.lookupFeedInfo(fH);if(fG.following==false){LWRITE("addTooltip.v2","done");u.showTooltip("Found a site you like? Add it to your feedly to receive updates.",{top:NAVIGATION_BAR+1,right:NAVIGATION_BAR,arrow:"right",width:200});ag=true}}IGNORE()}catch(fI){ERROR("ERR017 - failed to process onNewCardSelected because "+fI.name+" -- "+fI.message);$feedly("onNewCardSelected post processor failed because "+fI.name+" -- "+fI.message)
}}function ae(){try{if(cP==null){return}if(ESB["images.debug"]){$feedly("[images][optimize deck] shown:"+cP+", model:"+c6.length+", prepare:"+(cP+5<c6.length))}if(cP+2<c6.length){bM(c6[cP+2],cP+2)}if(cP+3<c6.length){bW(c6[cP+3],cP+3)}if(AD>1){if(cP+4<c6.length){bW(c6[cP+4],cP+4)}if(cP+5<c6.length){bW(c6[cP+5],cP+5)}}}catch(fG){$feedly("[mag] failed to optimize deck:"+cP+", model:"+c6.length+", prepare:"+(cP+5<c6.length)+" -- "+fG.name+" -- "+fG.message)
}}var cx=50;var bq=0;function e4(fH,fG){bq=fG;b3()}u.refineLocationName=function(fG){fd(status)};var at=null;function fd(fG){try{if(fG==null){return}if(eO==null){return}if(fG.indexOf("://")>0){var fL=fG.split("/");fG=fL[fL.length-1]}if(at==fG){return}at=fG;var fI=fG;var fH=null;var fK=fG.split("/");if(fK.length>0){fI=fK[0]}if(fI.indexOf("#")==0){fI=fI.slice(1)
}if(fI=="home"&&fK.length>1){fH=(fK[1].indexOf("#")==0?fK[1].slice(1):fK[1])}if(fI=="explore"&&fK.length>1){fH=(fK[1].indexOf("#")==0?fK[1].slice(1):fK[1])}fI=cp(fI);eO.innerHTML=templates.mobile.status(fI,fH)}catch(fJ){ERROR("ERR018 - failed to update status bar because "+fJ.name+" -- "+fJ.message)}}function cp(fH){try{if(fH==null){return""}if(fH.indexOf("list://user")==0||fH.indexOf("mix://")==0){var fJ=fH.split("/");
fH=fJ[fJ.length-1]}else{if(fH.indexOf("list://feed/")==0){fH=fH.slice("list://feed/http://".length).split("/")[0]}else{if(fH.indexOf("://")>-1){var fJ=fH.split("://");fH=fJ[fJ.length-1]}}}var fG=fH.split(" --")[0];if(fG.indexOf("#")==0){fG=fG.slice(1)}return fG}catch(fI){$feedly("[mag] failed to process label "+fH+" because "+fI.name+" -- "+fI.message);
return fH}}function eV(fI,fH){try{var fG=u.lookupEntry(fI);if(fG==null){return}if(fG.markAsReadable==false||fG.isRead()){return}var fJ=g.lookupSubscription(fG.getFeedId());if(fJ==null&&fG.metadata.promoted!=true){return}if(fH==null){fH=0}g.markEntryAsRead(fG,fH,function(){},c);d3(fG)}catch(fK){ERROR("ERR019 - failed to mark entry as read because "+fK.name+" -- "+fK.message)
}}function S(fH){try{var fG=u.lookupEntry(fH);if(fG==null||fG.markAsReadable==false||fG.isRead()==false){return}var fI=g.lookupSubscription(fG.getFeedId());if(fI==null){return}g.undoMarkEntryAsRead(fG,function(){},c);d3(fG)}catch(fJ){ERROR("ERR019 - failed to undo mark entry as read because "+fJ.name+" -- "+fJ.message)}}function aM(fH){try{var fM=null;
if(fB!=null&&fB.indexOf("list://")==0){var fK=fB.slice("list://".length);var fJ=g.lookupFeedInfo(fK);fM=g.getStreamPreference(fJ.id,"entryNavigation")}var fG=null;if(fM==null){fG=g.getFeedPreference(fH.getFeedId(),"entryNavigation")}var fI=false;return(fM=="visit")||(fG=="visit")||(fI=="visit")}catch(fL){return false}}function dE(fH){var fG=0,fI=0;do{fG+=fH.offsetTop||0;
fI+=fH.offsetLeft||0;fH=fH.offsetParent}while(fH);return[fI,fG]}function dz(){return[0,NAVIGATION_BAR,W,H-NAVIGATION_BAR]}function aU(fG){var fH=ANDROID()?0:5;return[fH,NAVIGATION_BAR+fH,W-2*fH,H-NAVIGATION_BAR-2*fH]}function eJ(fI){var fN=fI.getFeedId().indexOf("daringfireball")>-1;var fK=fI.getAlternateLink();if(fN==false&&fK!=null&&fK.indexOf("youtube.com")!=-1){var fL=/youtube\.com\/embed\/([A-Za-z0-9\-_]+)/i;
var fJ=/youtube\.com\/v\/([A-Za-z0-9\-_]+)/i;var fH=/ytimg\.com\/vi\/([A-Za-z0-9\-_]+)/i;var fG=/youtube\.com\/watch\?v=([A-Za-z0-9\-_]+)/i;fI.metadata.youtube=devhd.utils.RegExUtils.select(fL,fK)||devhd.utils.RegExUtils.select(fJ,fK)||devhd.utils.RegExUtils.select(fH,fK)||devhd.utils.RegExUtils.select(fG,fK);return templates.mobile.youtubeEntry(fI)
}else{if(fN==false&&fK!=null&&fK.indexOf("vimeo.com")!=-1){if(fK.indexOf("#")>-1){fI.metadata.vimeo=fK.split("#")[1]}if(fI.metadata.vimeo==null||fI.metadata.vimeo==""){var fM=/vimeo\.com.*\/([A-Za-z0-9\-_]+)/i;fI.metadata.vimeo=devhd.utils.RegExUtils.select(fM,fK)}return templates.mobile.vimeoEntry(fI)}else{return templates.mobile.entry(fI)}}}function c7(fG){return templates.mobile.entryPreview(fG)
}var U=null;var ev=null;function dr(fR,fP,fH,fM,fL){try{if(fL==null){fL=false}if(fP==null&&U!=null&&new Date().getTime()-U<500){$feedly("[mag] ignoring double tap to show article");return}if(fP==null){aH("article","Article",null,true,2);U=new Date().getTime()}if(fP==null){fR.metadata.inlined=true}fH=fH||"open";fP=fP||"article$center";fM=fM||"center";
var fS={};if(fR==null){var fN=m(fM=="right"?"next":"previous");$B.core.wm.postMessage("article",{debug:"Edge: "+fM,type:fH,resourceId:"",html:"",preview:null,json:{},horizontalSwipeEnabled:!fL,wmjson:fS,edge:fM,edgeUrl:fN==null?null:fN.url,edgeLabel:fN==null?null:fN.label,target:fP})}else{var fJ=fR.getId();var fI=null;var fQ=fe(fJ+"_main");if(fH=="open"){ev=fJ
}var fG,fK;if(ESB["grid.debug"]!=true&&(fR.getNavigation()=="visit"||aM(fR))){try{if(fH=="open"&&ANDROID()&&SETTING("feedly_open_browser_directly")!=false){V=ev;ac=new Date().getTime();OPEN(fR.getBestAlternateLink());return}}catch(fO){$feedly("[mag] failed to externally open:"+fO.name+" -- "+fO.message)}try{fG=eJ(fR)}catch(fO){fG="Failed to render body "+fR.getTitle()+" because "+fO.name+" -- "+fO.message
}try{fK=c7(fR)}catch(fO){fG="Failed to render preview "+fR.getTitle()+" because "+fO.name+" -- "+fO.message}fH+=".link"}else{try{fG=eJ(fR)}catch(fO){fG="Failed to render body "+fR.getTitle()+" because "+fO.name+" -- "+fO.message}try{fK=c7(fR)}catch(fO){fG="Failed to render preview "+fR.getTitle()+" because "+fO.name+" -- "+fO.message}}$B.core.wm.postMessage("article",{debug:fR.getTitle(),type:fH,resourceId:fJ,html:fG,preview:fK,link:fR.getBestAlternateLink(),json:fR.jsonInfo,horizontalSwipeEnabled:!fL,target:fP,header:{liked:fR.isStarred(),saved:fR.isQuicklisted(),visuals:fR.mapContentVisuals(),rtl:fR.isContentRTL(),metadata:fR.metadata,entryId:fR.getId(),title:devhd.utils.StringUtils.stripTags(fR.getTitle()),link:fR.getBestAlternateLink(),hashtag:fR.getDefaultTagOrCategory()},wmjson:fS})
}}catch(fO){ERROR("ERR020 - failed to showArticle because "+fO.name+" -- "+fO.message)}}function c(fH){try{if(fH==null){return}$feedly("[mag] error:"+fH);SIGN(fH,4000)}catch(fG){$feedly("[mag] warning. failed to show error:"+fH)}}u.processAction=function(fM,fI,fH,fL,fJ){try{switch(fM){case"feedly.action.like":if(fI==null){$feedly("mag::processAction  action="+fM+" - missing entryId");
return}showedEntry=showedEntry||u.lookupEntry(fI);if(showedEntry==null){$feedly("mag::processAction  action="+fM+" - cannot lookup entryId: "+fI);return}em(showedEntry);break;case"feedly.action.save":T(fI,fH,fL,fJ);break;case"feedly.action.pocket":aD(fI,fH,fL,fJ);break;case"feedly.action.instapaper":dZ(fI,fH,fL,fJ);break;case"feedly.action.keep_unread":if(fI!=null){var fG=u.lookupEntry(fI);
if(fG!=null){if(fG.isRead()==true){S(fI)}fG.metadata.keepUnread=true}else{SIGN("Entry not found")}S(fI);SIGN("Kept unread")}break;case"feedly.action.prev":if(fI!=null){showPrevEntry(fI)}break;case"oneNote":u.askSaveInOneNote(fI,fH,fL);break;case"evernote":u.askSaveInEvernote(fI,fH,fL);break;case"tag":u.askTagInFeedly(fI,fH,fL);break;default:$feedly("[mag] failed to process action:"+fM+" on entry:"+fI)
}}catch(fK){ERROR("ERR021 - failed to process action "+fM+" because "+fK.name+" -- "+fK.message);$feedly("action="+fM+" failed because "+fK.name+" -- "+fK.message)}};function cA(fG){switch(fG){case -1:return"left";case 1:return"right";default:return"center"}}var i=null;u.onNewArticleShown=function(fH){i=fH.__sender;if(fH.offset==0){dr(e3(fH.entryId,1),fw(fH.__sender,1),"preload","right");
dr(e3(fH.entryId,-1),fw(fH.__sender,-1),"preload","left")}else{if(fH.entryId!=null&&fH.entryId!=""){dr(e3(fH.entryId,fH.offset),fw(fH.__sender,fH.offset),"preload",fH.offset==1?"right":"left")}}if(fH.entryId!=null&&fH.entryId.length>0){if(bK(fH.entryId)==false){if(fH.offset==1){df()}else{dS()}}if(fH.entryId!=ev){var fG=fe(fH.entryId+"_main");if(fG!=null&&IOS()){$B.core.wm.updateStyle("article",{frame1:aU(fG)})
}ev=null}}};u.onArticleHidden=function(fI){try{var fH=fI.entryId;if(fH==null){return}var fG=u.lookupEntry(fH);if(fG==null){$feedly("[mag] failed to track attention for entry id:"+fH);return}if(fI.duration>1800){u.trackEvent(fG.metadata.promoted==true?"promoted":"usage","badread",fG.getFeedId(),Math.ceil(fI.duration))}else{if(fI.duration>4){u.trackEvent(fG.metadata.promoted==true?"promoted":"usage","longread",fG.getFeedId(),Math.ceil(fI.duration))
}else{u.trackEvent(fG.metadata.promoted==true?"promoted":"usage","quickread",fG.getFeedId(),Math.ceil(fI.duration))}}if(fG.metadata.keepUnread!=true){eV(fI.entryId,fI.duration>1800?0:fI.duration*1000)}}catch(fJ){$feedly("[mag] failed to track read engagement:"+fJ.name+" -- "+fJ.message)}};function fw(fG,fH){if(fG=="article$center"){if(fH==0){return"article$center"
}else{if(fH==-1){return"article$prev"}else{return"article$next"}}}if(fG=="article$prev"){if(fH==0){return"article$prev"}else{if(fH==-1){return"article$next"}else{return"article$center"}}}if(fG=="article$next"){if(fH==0){return"article$next"}else{if(fH==-1){return"article$center"}else{return"article$prev"}}}$feedly("[mag] invalid target resolution for:"+fG+" -- "+fH);
return"unknown_target"}function e3(fH,fI){for(var fG=0;fG<ee.length;fG++){if(ee[fG].getId()==fH){return fG+fI<0?null:ee[fG+fI]}}return null}function fg(fH){for(var fG=0;fG<ee.length;fG++){if(ee[fG].getId()==fH){return fG}}return null}function ep(fH){var fG=e3(fH,1);return fG?fG.getId():null}function dW(fG){var fH=e3(fG,-1);return anEntry?anEntry.getId():null
}function bK(fH){if(e9==null||e9.listEntries==null){return false}var fI=e9.listEntries();for(var fG=0;fG<fI.length;fG++){if(fI[fG].getId()==fH){return true}}return false}function eN(){return SETTING("feedly_favorite_saving_tool")||"feedly"}function eE(fI,fH,fM,fK,fJ){if(fJ==null){fJ=false}var fL=eN();if(fI!=null&&(fH==null||fM==null||fH.indexOf("http")!=0)){var fG=u.lookupEntry(fI);
if(fG!=null){fH=fG.getAlternateLink();fM=fG.getTitle()}}if(fH==null||fM==null){SIGN("Invalid save input",2.5);return}switch(fL){case"pocket":ai(fH,fM,fK,null,null,fJ);u.trackEvent("sharing","pocket");if(fI!=null){var fG=u.lookupEntry(fI);if(fG!=null){fG.metadata.pocket=true}}break;case"instapaper":b4(fH,fM,fK,SETTING("feedly_instapaper_user"),SETTING("feedly_instapaper_password"),fJ);
u.trackEvent("sharing","instapaper");if(fI!=null){var fG=u.lookupEntry(fI);if(fG!=null){fG.metadata.instapaper=true}}break;case"evernote":u.askSaveInEvernote(fI,fH,fM);break;case"onenote":u.askSaveInOneNote(fI,fH,fM);break;default:if(fI!=null){aq(fI,fJ)}else{if(fH!=null&&fM!=null){if(du()==false){SIGN("Login to save for later");return}g.askCreateNote(fH,fM,fK,"global.saved",function(){},function(fN){$feedly("[save] error:"+fN);
SIGN("Save error:"+fN)});if(fJ){SIGN("Saved",DURATION_SAVE_SIGN)}}else{SIGN("Save error",2.5)}}u.trackEvent("sharing","save")}}function T(fI,fH,fL,fK,fJ){if(fI!=null&&(fH==null||fL==null||fH.indexOf("http")!=0)){var fG=u.lookupEntry(fI);if(fG!=null){fH=fG.getAlternateLink();fL=fG.getTitle()}}if(fH==null||fL==null){SIGN("Invalid save input",2.5);return
}if(fI!=null){aq(fI,fJ)}else{if(fH!=null&&fL!=null){if(du()==false){SIGN("Login to save for later");return}g.askCreateNote(fH,fL,fK,"global.saved",function(){},function(fM){$feedly("[save] error:"+fM);SIGN("Save error:"+fM)});if(fJ){SIGN("Saved",DURATION_SAVE_SIGN)}}else{SIGN("Save error",2.5)}}}function aD(fI,fH,fL,fK,fJ){if(fI!=null&&(fH==null||fL==null||fH.indexOf("http")!=0)){var fG=u.lookupEntry(fI);
if(fG!=null){fH=fG.getAlternateLink();fL=fG.getTitle()}}if(fH==null||fL==null){SIGN("Invalid save input",2.5);return}ai(fH,fL,fK)}function dZ(fI,fH,fL,fK,fJ){if(fI!=null&&(fH==null||fL==null||fH.indexOf("http")!=0)){var fG=u.lookupEntry(fI);if(fG!=null){fH=fG.getAlternateLink();fL=fG.getTitle()}}if(fH==null||fL==null){SIGN("Invalid save input",2.5);
return}b4(fH,fL,fK,SETTING("feedly_instapaper_user"),SETTING("feedly_instapaper_password"),fJ)}function aq(fG,fI){if(du()==false){SIGN("Login in to save for later");return}var fH=u.lookupEntry(fG);if(fH==null){$feedly("toggleQuicklisted silently failed because entry:"+fG+" not found. Hint:"+ee.length);return}if(fH.isQuicklisted()){g.untagEntry(fH,"global.saved");
if(fI){SIGN("Unsaved",DURATION_SAVE_SIGN)}}else{g.tagEntry(fH,"global.saved");if(fI){SIGN("Saved",DURATION_SAVE_SIGN)}}try{if(g.getPreference("customizationKey")=="REDEF"){POST("http://redef.co/add/feedly/?id="+encodeURIComponent(fH.getId())+"&url="+encodeURIComponent(fH.getAlternateLink())+"&title="+encodeURIComponent(fH.getTitle())+"&userId="+encodeURIComponent(fy()))
}else{if(g.getPreference("customizationKey")=="REDEFSTAGE"){POST("http://stage.redef.co/add/feedly/?id="+encodeURIComponent(fH.getId())+"&url="+encodeURIComponent(fH.getAlternateLink())+"&title="+encodeURIComponent(fH.getTitle())+"&userId="+encodeURIComponent(fy()))}}}catch(fJ){$feedly("[reader][redef] quick add failed because: "+fJ.name+" -- "+fJ.message)
}aj(fH)}function b4(fH,fM,fL,fG,fK,fJ){var fI={username:fG,password:fK,url:fH,title:fM};if(fL!=null&&fL!=""){fI.selection=fL}SIGN("Saved to Instapaper",DURATION_SAVE_SIGN);POST("https://www.instapaper.com/api/add?ck="+new Date().getTime(),devhd.forms.webForm(fI),function(){},function(fN){SIGN("Invalid Instpaper credentials: "+fN,5)});if(fJ){SIGN("Instapapered",DURATION_SAVE_SIGN)
}}function ai(fH,fM,fL,fG,fK,fJ){if($B.core.pocket!=null){$B.core.pocket.saveUrlWithTitle(fH,fM);SIGN("Saved to Pocket",DURATION_SAVE_SIGN);if(SETTING("feedly_favorite_saving_tool")==null){$B.core.application.setUserSetting("feedly_favorite_saving_tool","pocket")}}else{var fI={apikey:"602g3h9bpaN2dYd11fT8131K8fA4X1e0",username:SETTING("feedly_pocket_user"),password:SETTING("feedly_pocket_password"),url:fH,title:fM};
POST("https://readitlaterlist.com/v2/add?ck="+new Date().getTime(),devhd.forms.webForm(fI),function(){SIGN("Saved to Pocket",DURATION_SAVE_SIGN)},function(fN){SIGN("Invalid Pocket credentials: "+fN,5)})}}function de(fH){var fG=document.getElementsByClassName(fH);return fG==null?0:fG.length}function d1(fI,fG){if(fG==null){fG=0}var fH=document.getElementsByClassName(fI);
if(fH==null||fG>=fH.length){$feedly("ERR011 - failed to find instance "+fG+" of class "+fI+" -- elems:"+(fH==null?"n/a":fH.length));return}return fH[fG]}function fe(fG){return document.getElementById(fG)}function al(fG,fH){var fI=fH||document.body;return fI.getElementsByTagName(fG)||[]}function ch(fG){if(fG==null){return}$feedly("[message]"+fG);SIGN(fG,5)
}function d3(fG){var fH=fe(fG.getId()+"_main_title");if(fH==null){return}fH.className=fG.isRead()?"title read":"title unread"}function aj(fH){var fI=fe(fH.getId()+"_quicklisted");var fG=fe(fH.getId()+"_meta");if(fI==null||fG==null){return}if(fH.isQuicklisted()){fI.style.display="inline";fG.style.display="inline"}else{fI.style.display="none";if(fH.getEngagement()==0){fG.style.display="none"
}}if(c9.length>0){$B.core.wm.postMessage(i,{type:"header",header:{liked:fH.isStarred(),saved:fH.isQuicklisted(),visuals:fH.mapContentVisuals(),rtl:fH.isContentRTL(),metadata:fH.metadata,entryId:fH.getId()}})}}function em(fH){var fG=fe(fH.getId()+"_meta");if(fG==null){return}fG.innerHTML=templates.mobile.meta(fH);if(fH.getEngagement()>0){fG.style.display="inline"
}else{fG.style.display="none"}}var fr={};var cD={};u.askFeatureVisual=function(fN,fO,fH){try{if(fN.metadata.noVisual==true){fN.metadata[visualKey("featuredVisual",fO)]="none";fN.metadata.featuredVisual=null;return}var fJ=fN.metadata[visualKey("featuredVisual",fO)];if(fJ!=null){if(fJ=="none"){fN.metadata.featuredVisual=null}else{fN.metadata.featuredVisual=fJ
}return}var fI=JSON.stringify(fO);var fL=fN.getId()+"/"+fI+"/"+ORIENTATION();if(cD[fL]!=null){return}cD[fL]=true;var fG=cJ(fN,fO,fH);var fM=ORIENTATION();fG.onVisualReady=function(fQ,fP){fN.metadata[visualKey("featuredVisual",fO)]=fP;if(ORIENTATION()==fM){fN.metadata.featuredVisual=fP}delete cD[fL]};fG.onNoVisual=function(fP){fN.metadata[visualKey("featuredVisual",fO)]="none";
if(ORIENTATION()==fM){fN.metadata.featuredVisual=null}delete cD[fL]};fG.start()}catch(fK){ERROR("ERR021 - failed to find visual because "+fK.name+" -- "+fK.message+" -- "+fN.getTitle()+" -- "+fK.stack)}};u.askPrepareVisual=function(fH,fG,fK){try{if(fH.metadata.noVisual==true){return}if(fH.metadata[visualKey("prepared",fG)]==true){return}var fJ=cJ(fH,fG,fK);
fJ.prepare()}catch(fI){ERROR("ERR021 - failed to find visual because "+fI.name+" -- "+fI.message+" -- "+fH.getTitle())}};function cJ(fG,fI,fJ){var fH=new VisualFinder(fG,fI,fJ,bE);return fH}u.testExpireOAuthToken=function(){var fG=SESSION();fG.feedlyToken="hello world";fG.expirationTime=new Date().getTime()-600000;devhdx.utils.SessionUtils.save(fG);
$B.core.application._dc();SIGN("OAuth Token Expired")};u.testFailed=function(){FAILED("Unit test","5xx")};u.testTooltip=function(){u.showTooltip("Found a site you like? Add it to your feedly to receive updates.",{top:NAVIGATION_BAR+1,right:NAVIGATION_BAR,arrow:"right",width:200})};return u}})();function visualKey(a,b){return a+"::"+b.join("|")}function VisualFinder(m,p,c,j){if(window.devicePixelRatio==null){window.devicePixelRatio=1
}this.nikon=j;this.entry=m;this.sizes=p;this.forceVisual=c;this.visualRef=0;this.visuals=this.entry.listContentVisuals();this.optimizeForEdgeCache();var l=this.entry.metadata[visualKey("preparedVisual",this.sizes)];if(l!=null&&l.url!=null){return}var f=[];var g=[];for(var e=0;e<this.visuals.length;e++){var h=this.visuals[e];h.score=devhd.utils.VisualsUtils.fitsSizes(h,this.sizes,this.entry.metadata.noVisual==true||this.entry.metadata.largestVisual!=null);
if(h.score==0){continue}g.push(h)}g=g.sort(function(q,i){if(i.score==q.score){return i.surface-q.surface}else{return i.score-q.score}});if(g.length>0&&g[0].score==3){f.push(g[0])}else{f=g}if(f.length>0||(this.entry.asText().length<500&&this.entry.getAlternateLink()!=null)||devhd.utils.VisualsUtils.isException(this.entry)){var p=[];for(var e=0;e<this.sizes.length;
e++){var a=1/DPR*(this.sizes[e][2]||1);p.push((this.sizes[e][0]=="*"?"*":Math.floor(this.sizes[e][0]*DPR))+"x"+(this.sizes[e][1]=="*"?"[152-*]":Math.floor(this.sizes[e][1]*DPR))+"!"+a)}var b=ESB["images.resize["+Math.floor(Math.random()*2)+"]"]+"?key="+encodeURIComponent(this.entry.getId())+"&entryId="+encodeURIComponent(this.entry.getId())+"&sizes="+encodeURIComponent(p.join(","))+"&pageUrl="+encodeURIComponent(this.entry.getAlternateLink())+"&contentLength="+encodeURIComponent(this.entry.getContentOrSummary().length)+"&engagement="+encodeURIComponent(this.entry.getEngagement());
var d=parseInt(ESB["images.depth"]);if(isNaN(d)||d<0){d=7}for(var e=0;e<f.length&&e<d;e++){b+="&url="+encodeURIComponent(f[e].url)}var n=this.forcastSize(f,this.entry.metadata.largestVisual!=null);this.visuals=[{url:b,width:n!=null?n[0]:null,height:n!=null?n[1]:null,size:n!=null?n[2]:null,forcasted:n!=null?true:null}];if(ESB["images.debug"]){$feedly("[visual finder] asking image: "+this.entry.getTitle()+" -- "+b+" -- forcasted size:"+JSON.stringify(n)+" -- candidates:"+f.length)
}}else{this.entry.metadata.nikon="no candidates among:"+this.visuals.length;this.visuals=[]}}VisualFinder.prototype.optimizeForEdgeCache=function(){if(ESB["images.edgeResize"]!==true){return}if(this.entry.metadata.largestVisual==null||this.entry.metadata.largestVisual.edgeCacheUrl==null||this.entry.metadata.largestVisual.expirationDate==null||this.entry.metadata.largestVisual.expirationDate<new Date().getTime()){return
}try{var b=this.sizeEdgeVisual(this.entry.metadata.largestVisual);if(b!=null){this.entry.metadata[visualKey("prepared",this.sizes)]=true;this.entry.metadata[visualKey("prepareURL",this.sizes)]="local-optimization";this.entry.metadata[visualKey("prepareDate",this.sizes)]=new Date().getTime();this.entry.metadata[visualKey("prepareDuration",this.sizes)]=0;
this.entry.metadata[visualKey("preparedVisual",this.sizes)]=b}}catch(a){$feedly("[mag] failed edge cache optimization for:"+JSON.stringity(this.entry.metadata.largestVisual))}};VisualFinder.prototype.bestDefinition=function(b,a){b=Math.ceil(b);if(a<b){return Math.min(b,1600)}if(a>b*DPR){return Math.min(b*DPR,1600)}return Math.min(a,1600)};VisualFinder.prototype.sizeEdgeVisual=function(a){var f=a.width;
var j=a.height;var b="";var l=this.forcastSize([{width:f,height:j}],true);if(l!=null){var c=l[0];var h=l[1];if(ESB["images.debug"]){$feedly("[visual finder][local optimization] edge:"+JSON.stringify({width:f,height:j})+" -- mold:"+c+" x "+h)}var g=null;if(f/j>c/h){var d=this.bestDefinition(h,j);var i=Math.ceil(f*d/j);if(f>j){if(c<=h){if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 1a-c: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+d+"-c")
}b="=s"+d+"-c"}else{if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 1a: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+i)}b="=s"+i}}else{if(h<=c){if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 1b-c: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+i+"-c")}b="=s"+i+"-c"}else{if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 1b: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+d)
}b="=s"+d}}}else{var i=this.bestDefinition(c,f);var d=Math.ceil(j*i/f);if(f>j){if(c<=h){if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 2a-c: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+d+"-c")}b="=s"+d+"-c"}else{if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 2a: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+i)
}b="=s"+i}}else{if(h<=c){if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 2b-c: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+i+"-c")}b="=s"+i+"-c"}else{if(ESB["images.debug"]){$feedly("[visual finder][local optimization] case 2b: "+this.entry.getTitle()+" -- "+i+" x "+d+"=s"+d)}b="=s"+d}}}var e=a.edgeCacheUrl+b;return{width:l[0],height:l[1],size:l[2],url:e}
}return null};VisualFinder.prototype.forcastSize=function(g,d){if(d!=true&&this.forceVisual==true){return[this.sizes[0][0],this.sizes[0][1],0]}for(var f=0;f<this.sizes.length;f++){var h=this.sizes[f][0];var b=this.sizes[f][1];var a=this.sizes[f][2]||1;for(var c=0;c<g.length;c++){var e=g[c];if(e.width==null||e.height==null){continue}if((h=="*"||(e.width>=h*a))&&(b=="*"||(e.height>=b*a))){return[h=="*"?e.width:h,b=="*"?e.height:b,f]
}}}return null};VisualFinder.prototype.prepare=function(){if(this.entry.metadata[visualKey("prepared",this.sizes)]==true){this.destroy();return}this.entry.metadata[visualKey("prepared",this.sizes)]=true;if(this.visuals.length==0){this.destroy();return}var a=this.visuals[0].url;a=ESB["images.prepare"]+"?"+a.split("?").slice(1).join("?");var c=new Date().getTime();
this.entry.metadata[visualKey("prepareURL",this.sizes)]=a;this.entry.metadata[visualKey("prepareDate",this.sizes)]=c;var b=this;TJGET(a,function(d){try{b.entry.metadata[visualKey("prepareDuration",b.sizes)]=new Date().getTime()-c;if(d!=null&&d.edgeCacheUrl!=null){d=b.sizeEdgeVisual(d)}b.entry.metadata[visualKey("preparedVisual",b.sizes)]=d;b.destroy()
}catch(e){$feedly("[visual finder] failed to process prepared visual. Error:"+e.name+" -- "+e.message)}},function(d){try{$feedly("[visual finder] failed to prepare entry: "+a+" -- status: "+d);b.destroy()}catch(e){$feedly("[visual finder] failed to process prepared visual. Error:"+e.name+" -- "+e.message)}})};VisualFinder.prototype.start=function(){var f=new Date().getTime();
var c=this.entry.metadata[visualKey("preparedVisual",this.sizes)];if(c!=null&&c.url!=null){if(c.size==null){var e=this.forcastSize([{width:c.width,height:c.height}],true);c.width=e!=null?e[0]:null;c.height=e!=null?e[1]:null;c.size=e!=null?e[2]:null}this.entry.metadata[visualKey("nikonDate",this.sizes)]=f;this.entry.metadata[visualKey("nikonURL",this.sizes)]=c.url;
var d=this;this.nikon.askImage(c.url,function(j,h,i,g){c.cached=new Date().getTime();c.nikon=new Date().getTime()-f;d.entry.metadata[visualKey("nikonDuration",d.sizes)]=new Date().getTime()-f;d.entry.metadata[visualKey("nikonResponse",d.sizes)]=i+" x "+g;d.destroy()});this.onVisualReady(this.entry.getId(),c);return}else{if(this.visuals.length==0){this.onNoVisual(this.entry.getId());
this.destroy();return}else{if(this.visuals.length==1&&this.visuals[0].forcasted==true&&this.visuals[0].size!=null){var b=this.visuals[0];this.entry.metadata[visualKey("nikonForcasted",this.sizes)]=true;this.entry.metadata[visualKey("nikonDate",this.sizes)]=f;this.entry.metadata[visualKey("nikonURL",this.sizes)]=b.url;var d=this;this.nikon.askImage(b.url,function(j,h,i,g){b.cached=new Date().getTime();
b.nikon=new Date().getTime()-f;d.entry.metadata[visualKey("nikonDuration",d.sizes)]=new Date().getTime()-f;d.entry.metadata[visualKey("nikonResponse",d.sizes)]=i+" x "+g;if(i==1&&g==1){d.onNoVisual(d.entry.getId());d.destroy();return}d.destroy()});this.onVisualReady(this.entry.getId(),b)}else{var a=this.visuals[0];var d=this;if(this.entry.metadata[visualKey("prepareDate",this.sizes)]!=null){this.entry.metadata[visualKey("deltaPrepareNikon",d.sizes)]=f-this.entry.metadata[visualKey("prepareDate",this.sizes)]
}this.entry.metadata[visualKey("nikonDate",this.sizes)]=f;this.entry.metadata[visualKey("nikonURL",this.sizes)]=a.url;this.nikon.askImage(a.url,function(j,h,i,g){d.entry.metadata[visualKey("nikonDuration",d.sizes)]=new Date().getTime()-f;d.entry.metadata[visualKey("nikonResponse",d.sizes)]=i+" x "+g;var l=d.forcastSize([{width:i,height:g}],true);if(i==1&&g==1||l==null){d.onNoVisual(d.entry.getId());
d.destroy();return}a.width=l[0];a.height=l[1];a.size=l[2];a.url=j;a.cached=new Date().getTime();a.nikon=new Date().getTime()-f;d.entry.metadata[visualKey("nikonSnapped",d.sizes)]=JSON.stringify(l);if(a.width>1&&a.height>1){d.onVisualReady(d.entry.getId(),a);d.destroy()}else{d.onNoVisual(d.entry.getId());d.destroy();return}})}}}};VisualFinder.prototype.destroy=function(){this.nikon=null;
this.entry=null;this.visuals=null;this.onVisualReady=null;this.onNoVisual=null};XOXOXOonFeedlyFileIncluded("mobile/grid.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createGrid=function(p){var L=devhd.model.createObservable(p);var c={};var d={};var K=4;var h=4;var G=null;L.setMag=function(X){G=X};L.load=function(){L.buildLayouts();
switch(AD){case 4:h=6;break;case 2:h=6;break;case 1:default:h=4}if(AD==2||AD==4){K=5}};L.buildLayouts=function(){c={};d={};for(var Y=0;Y<TYPES.length;Y++){d[TYPES[Y].type]=TYPES[Y]}for(var Y=0;Y<LAYOUTS.length;Y++){var Z=LAYOUTS[Y];U(Z.portrait,"portrait");U(Z.landscape,"landscape");c[Z.label]=Z}for(var Y=0;Y<VISUALS.length;Y++){var X=r(VISUALS[Y].ref[0],"portrait",VISUALS[Y].ref[1]||0);
VISUALS[Y].sizes=X.sizes}};L.unload=function(){};L.buildCards=M;L.canProcessAsync=B;L.processAsync=u;L.needsRefill=j;L.processBuffer=m;L.clearBuffer=A;L.lookupModule=r;L.lookupType=q;function t(X,Z,Y){return Math.floor((X-(Y-1)*OUTER)/Y)*Z+(Z-1)*OUTER}function T(Y,X){if(Y.cell==null||Y.cell.height==null||Y.cell.width==null){ERROR("FLEX001 - failed to size visual:"+JSON.stringify(Y)+" -- "+X);
return}var aj=1;var ak=X.split("!");if(ak.length>1){aj=parseFloat(ak[1])}X=ak[0];if(X.indexOf("card")>-1){var aa=Y.header;var aw=Y.cell.height-(aa*3-Y.copy-8);var ae=Math.ceil(Y.cell.width*0.5);var ab=Math.ceil(Y.cell.width*7/9);var ao=Math.floor(Y.copy*1.2);var ac=Y.summary;if(ac!=null){if(ac=="*"){return null}else{return[Y.cell.width,Y.cell.height-3*aa-(ac+1)*Y.copy-3*8,aj]
}}else{if(aw<ae){return null}else{if(aw<ab+3*ao+8){return[Y.cell.width,aw,aj]}else{var Z=(aw-ab-8)%ao;return[Y.cell.width,ab+Z,aj]}}}}else{if(X.indexOf("tallCard")>-1){var aa=Y.header;var aw=Y.cell.height-(aa*3-Y.copy-8);var ae=Math.ceil(Y.cell.width);var ab=Math.ceil(Y.cell.height*5/11);var ao=Math.floor(Y.copy*1.2);var ac=Y.summary;if(ac!=null){if(ac=="*"){return null
}else{return[Y.cell.width,Y.cell.height-3*aa-(ac+1)*Y.copy-3*8,aj]}}else{if(aw<ae){return null}else{if(aw<ab+3*ao+8){return[Y.cell.width,aw,aj]}else{var Z=(aw-ab-8)%ao;return[Y.cell.width,ab+Z,aj]}}}}else{var ah=X.split(" x ");if(ah.length!=2){$feedly("[grid] Invalid size info:"+X+" -- "+JSON.stringify(Y));return null}var an=ah[0];var aq=ah[1];var ap,ad;
if(aq.indexOf("*")>-1){ap="*"}else{var ai=aq.split("/");var at=parseInt(ai[0]);var ag=parseInt(ai[1]);var am=aq.split(/\+/g).length-1;if(am<0){am=0}var au=aq.split(/\-/g).length-1;if(au<0){au=0}else{au=au*Y.header+(at!=ag?Y.spacer:0)}ap=t(Y.cell.height,at,ag)+am*OUTER+(am==2?LOCATOR:0)-au}if(an.indexOf("*")>-1){ad="*"}else{if(an.indexOf("square")>-1){if(XH=="XXL"){ad=1.23*ap
}else{if(ANDROID()){ad=1.15*ap}else{ad=1.1*ap}}}else{if(an.indexOf("rectangle")>-1){ad=AD==4?1.51*ap:1.41803398875*ap}else{var af=an.split("/");var av=parseInt(af[0]);var al=parseInt(af[1]);var ar=an.split(/\+/g).length-1;if(ar<0){ar=0}ad=t(Y.cell.width,av,al)+ar*OUTER}}}return[ad,ap,aj]}}}function U(ag,Z){if(ag==null){return}var ak="start";for(var af=0;
af<ag.length;af++){var aa=ag[af];try{ak="start";aa.orientation=Z;ak="layerind module";var Y=MODULES[aa.template];for(var ac in Y){aa[ac]=aa[ac]!=null?aa[ac]:Y[ac]}ak="layerind defaults";for(var ac in DEFAULTS){aa[ac]=aa[ac]!=null?aa[ac]:DEFAULTS[ac]}if(aa.size!=null){ak="cell sizing";var ae=aa.size.split(" x ");var X=ae[0];var al=ae[1];aa.cell={w:parseInt(X.split("/")[0]),W:parseInt(X.split("/")[1]),h:parseInt(al.split("/")[0]),H:parseInt(al.split("/")[1])};
aa.cell.width=aa.orientation=="portrait"?PCW(aa.cell.w,aa.cell.W):LCW(aa.cell.w,aa.cell.W);aa.cell.height=aa.orientation=="portrait"?PCH(aa.cell.h,aa.cell.H):LCH(aa.cell.h,aa.cell.H)}var ab=aa.visuals;if(ab==null){aa.sizes="none"}else{aa.sizes=[];for(var ad=0;ad<ab.length;ad++){ak="visual sizing: "+ab[ad];var am=T(aa,ab[ad]);if(am!=null){aa.sizes.push(am)
}}if(aa.sizes.length==0){return"none"}}if(aa.requires!=null){ak="requires";for(var ad=0;ad<aa.requires.length;ad++){var aj=aa.requires[ad].contentType;if(aj!=null&&aj!="*"){var ai=q(aj);aa.requires[ad].minContentSize=ai.size}}aa.negative=false;for(var ac=0;ac<aa.requires.length;ac++){if(aa.requires[ac].excludeContentType!=null){aa.negative=true}}}}catch(ah){ERROR("FLEX001 - failed to enrich:"+JSON.stringify(aa)+" because "+ah.name+" -- "+ah.message+" in phase:"+ak)
}}}function q(X){var Y=d[X];if(Y==null){$feedly("[grid] failed to lookup type:"+X);ERROR("GRID005 - failed to lookup type:"+X);return}return Y}function r(X,Z,Y){var ac=c[X];if(ac==null){ERROR("GRID004 - failed to lookup layout:"+X);return}var ad=ac[Z];if(ad==null){ERROR("GRID006 - Could not lookup orientation:"+X+" -- "+Z);$feedly("[grid] could not lookup orientation:"+X+" -- "+Z);
return null}var ae=0;for(var aa=0;aa<ad.length;aa++){var ab=ad[aa].occurrence||1;if(Y>=ae&&Y<ae+ab){return ad[aa]}ae+=ab}ERROR("GRID008 - Could not lookup module:"+X+" -- "+Z+" -- "+Y);$feedly("[grid] could not lookup orientation:"+X+" -- "+Z+" -- "+Y);return null}var i=[];var y=[];var O=null;var g=null;var s=[];var x=0;var N=0;var z=null;function B(){return i.length>0
}function B(){return i.length>0}function u(){if(i.length==0){return}var X=i.shift();return M(X.uri,X.entries,X.options,false,G.isBootstrappingCards()==false)}function j(){return y.length<8}function A(){i=[];y=[];O=true;x=0;z=null}function M(X,ab,ai,Y,Z){if(G.isShowingLastCard()){Y=false;Z=false}if(ESB["grid.debug"]){$feedly("[grid] build cards for "+X+" -- entries: "+ab.length+", async:"+Y+", enrichOnly:"+Z+", max age:"+ai.maxAge)
}Y=(Y===true);Z=(Z===true);if(Y==true){i.push({uri:X,entries:ab,options:ai});return}try{N=0;var ac=new Date().getTime();if(X!=g){A()}if(y.length>0){ab=y.concat(ab);y=[]}ai=ai||{};var ad=0;var ag=0;var af=[];for(var aa=0;aa<ab.length;aa++){var ah=ab[aa];if(ai.maxAge!=null&&ah.crawledTime<new Date().getTime()-ai.maxAge){continue}af.push(ah)}ab=af;if(ai.sort!=false){ab.sort(function(ak,aj){return aj.crawledTime-ak.crawledTime
})}y=E(ab,ai);if(ai.layoutType!="titleonly"&&ai.layoutType!="list"&&ai.layoutType!="mag"&&ai.layoutType!="cards"&&ai.layoutType!="mag+list"&&ai.layoutType!="promoted"){if(z==null){z=V(y);if(z!="titleonly"&&z!="list"&&z!="mag"&&z!="cards"){z=DEFAULT_LAYOUT_TYPE}}ai.layoutType=z}O=ai;g=X;if(ESB["grid.debug"]){$feedly("[grid] articles enrichment:"+(new Date().getTime()-ac)+" -- count:"+y.length+" -- max:"+ag)
}if(Z!=true){m()}return y.length}catch(ae){ERROR("GRID003 - failed to enrich entries "+ae.name+" -- "+ae.message+" -- "+ae.stack)}}function V(Y){switch(SETTING("feedly_view_default")){case"titleonly":return"titleonly";case"list":return"list";case"mag":return"mag";case"cards":return"cards";case"detect":default:var ac={};var ab=0;for(var aa=0;aa<Y.length;
aa++){var X=Y[aa].metadata.preferredLayoutType;if(Y[aa].metadata.preferredLayoutType!=null){if(ac[X]==null){ac[X]=0}ac[X]=ac[X]+1;ab++}}for(var Z in ac){if(ac[Z]>0.8*ab){return Z}}return DEFAULT_LAYOUT_TYPE}}function m(){try{var ad=new Date().getTime();var Z={all:y,bySize:[].concat(y).sort(function(ar,ae){if(ar.metadata.contentSize==ae.metadata.contentSize){return ae.crawledTime-ar.crawledTime
}else{return ar.metadata.contentSize-ae.metadata.contentSize}}),byType:{}};for(var al=0;al<y.length;al++){var aa=y[al].metadata.contentType;if(Z.byType[aa]==null){Z.byType[aa]=[]}Z.byType[aa].push(y[al])}var ac=[];var X=0;var ak=F(Z,{});if(ESB["grid.debug"]){$feedly("[grid] do process buffer:"+y.length+" -- end of stream:"+O.endOfStream+" -- lastURI:"+g+" -- has available entries:"+ak)
}while(ak==true&&X<100){X++;var an=e(Z,{},1)[0];if(ESB["grid.debug"]){$feedly("[grid] processing:"+an.getTitle()+" -- ct: "+an.metadata.contentType+" -- text : "+an.metadata.textSize+" -- visual: "+an.metadata.visualSize+" -- type: "+an.metadata.type+" -- rank: "+an.metadata.rank)}var aj=f(an,Z,O);if(aj==null||aj.entries.length==0){if(ESB["grid.debug"]){$feedly("[grid] no layout found. layoutType:"+O.layoutType)
}ak=false;y=n(Z)}else{if(aj.asymmetric==true){var ap=aj.entries[0];var Y=ap.metadata.contentType;var ah=ap.metadata.contentSize;var af=ap.metadata.visualSize;var ag=ap.getPotential();var aq=0;for(var al=1;al<aj.entries.length;al++){var ai=aj.entries[al];if((Y==ai.metadata.contentType||(ah<ai.metadata.contentSize&&af<ai.metadata.visualSize))&&ai.getPotential()>1.2*ag+50){aq=al;
ag=ai.getPotential()}}if(aq>0){var ab=[aj.entries[aq]];for(var al=1;al<aj.entries.length;al++){if(al==aq){ab.push(aj.entries[0])}else{ab.push(aj.entries[al])}}aj.entries=ab}}ac.push(D(aj.label,aj.entries,O));N++;var ao=n(Z);if((O.maxCards!=null&&N>=O.maxCards)||ao.length==0){ak=false;y=[]}else{if(ac.length>=K){ak=false;y=ao}else{ak=true}}}}if(ESB["grid.debug"]){$feedly("[grid] card crunching: -- generated:"+ac.length+" cards -- in "+(new Date().getTime()-ad)+"ms -- via "+X+" iteration(s) -- buffer left over:"+y.length)
}G.declareCards(ac,true,O.loadId);return ac.length}catch(am){ERROR("GRID004 - failed to pick layout "+am.name+" -- "+am.message+" -- "+am.stack)}}function E(ab,aj){var ag=0;var Y=new Date();var af=Y.getHours()*3600000+Y.getMinutes()*60000;for(var aa=0;aa<ab.length;aa++){var ai=ab[aa];if(Y.getTime()-ai.crawledTime<af){ag++}}for(var aa=0;aa<ab.length;
aa++){var ai=ab[aa];var ah="";try{ai.metadata.picked=false;if(ai.metadata.enriched!=null){continue}if(ag<3&&Y.getTime()-ai.crawledTime<af){ai.metadata.today=true}else{ai.metadata.today=false}ai.metadata.textSize=ai.asText().length;var X=false;for(var Z=0;Z<VISUALS.length;Z++){var ac=ai.fitsSizes(VISUALS[Z].sizes);if(ac==2){ai.metadata.visualSize=VISUALS[Z].size;
if(ESB["grid.debug"]){ai.metadata.visualSizeHint=JSON.stringify(VISUALS[Z])}break}else{if(ac==1){X=true}}}if(ai.metadata.visualSize==null){if(X==true){ai.metadata.visualSize=1;if(ESB["grid.debug"]){ai.metadata.visualSizeHint="may be"}}else{ai.metadata.visualSize=0;if(ESB["grid.debug"]){ai.metadata.visualSizeHint="none"}}}ai._temp=ai.getPotential();if(ai.metadata.today==true){ai._temp=ai._temp+10000000
}if(Y.getTime()-ai.crawledTime<af){ai._temp=3*ai._temp+10}if(ai.getAge()>24){ai._temp=ai._temp/2}if(ai.getAge()>24*7){ai._temp=ai._temp/100}if(ai.getAge()>24*300){ai._temp=ai._temp/100}if(ai.metadata.contentSize<=2){ai._temp=ai._temp/1000000}else{if(ai.metadata.contentSize<=4){ai._temp=ai._temp/10000}else{if(ai.metadata.contentSize<=6){ai._temp=ai._temp/100
}}}if(ai.metadata.showcased==true){ai._temp=10000000000000}ai.metadata._potential=ai.getPotential();ai.metadata._age=ai.getAge();ai.metadata._temp=ai._temp}catch(ae){$feedly("[grid] failed to enrich/1 "+ai.getTitle()+" -- "+ae.name+" -- "+ae.message+" -- in phase:"+ah);ai.metadata.visualSize=0;ai._temp=0}}if(aj.featured!=false&&aj.sort!=false){ab.sort(function(al,ak){if(ak._temp-al._temp==0){return ak.crawledTime-al.crawledTime
}else{return ak._temp-al._temp}});if(ab.length>0&&(ab[0].getPotential()<100||(new Date().getTime()-ab[0].crawledTime)>devhd.utils.DurationUtils.DAYS(5))){ab=ab.sort(function(al,ak){return ak.crawledTime-al.crawledTime})}for(var aa=0;aa<ab.length;aa++){ab[aa].metadata.rank=aa;ab[aa].metadata.runnerUp=(aa>0&&aa<4);if(aa==0){ab[aa].metadata.type="best";
ab[aa].metadata.cover=aj.cover;ab[aa].metadata.coverRank=aj.coverRank}}if(ab.length>1){ab=[ab[0]].concat(ab.slice(1).sort(function(al,ak){return ak.crawledTime-al.crawledTime}))}aj.featured=false}for(var aa=0;aa<ab.length;aa++){try{var ai=ab[aa];if(aj.homogeneous!=true&&ab[aa].isHot()&&ab[aa].metadata.type!="best"){ai.metadata.type="hot"}if(ai.metadata.enriched==true){continue
}if(aj.homogeneous!=true&&ai.metadata.sponsored==true){ai.metadata.type="ad"}for(var Z=0;Z<TYPES.length;Z++){var ad=TYPES[Z];if(Q(ai,ad.dna)==true){ai.metadata.contentType=ad.type;ai.metadata.contentSize=ad.size;ai.metadata.specialType=ad.special===true;ai.metadata.preferredLayoutType=ad.preferredLayoutType;break}}ai.metadata.enriched=true}catch(ae){$feedly("[grid] failed to enrich/2 "+ai.getTitle()+" -- "+ae.name+" -- "+ae.message)
}}return ab}function Q(Y,X){if(X==null){return true}for(var Z=0;Z<X.length;Z++){if(w(Y,X[Z])){return true}}return false}function w(X,Y){if(Y.type!=null&&X.metadata.type!=Y.type){return false}if(Y.minText!=null&&X.metadata.textSize<Y.minText){return false}if(Y.maxText!=null&&X.metadata.textSize>Y.maxText){return false}if(Y.minVisual!=null&&(X.metadata.visualSize<Y.minVisual||X.metadata.visualSize==null)){return false
}if(Y.maxVisual!=null&&(X.metadata.visualSize>=Y.maxVisual||X.metadata.visualSize==null)){return false}if(Y.minEmbeddedVisuals!=null&&X.metadata.embeddedVisuals==null||X.metadata.embeddedVisuals<Y.minEmbeddedVisuals){return false}if(Y.excludePartials==true&&X.metadata.externalVisual!=null){return false}if(Y.moreable==false&&X.metadata.moreable==true){return false
}return true}var C=null;function f(ag,X,ai){var Y=null;var af=null;var ah=null;var ae=[];var aa=[];var ac=[];for(var Z=0;Z<LAYOUTS.length;Z++){var ab=LAYOUTS[Z];if(Y!=null&&ab.priority>Y){continue}if(ab.layoutType!=null&&ab.layoutType!=ai.layoutType){continue}if(ab.label=="Ruler"){continue}if(P(ab,ag.metadata.contentType)==true){var ad=l(ab,X,(ai.endOfStream==true)||(ai.allowPartial==true),af!=null&&ab.priority>af,ai);
if(ad!=null){if(ad.partial===true){if(ah==null||ab.priority<=ah){if(ab.priority<ah){ac=[]}ac.push(ad);ah=ab.priority}}else{if(ad.perfect===true&&ab.perfect!==false){if(Y==null||ab.priority<=Y){if(ab.priority<Y){ae=[]}ae.push(ad);Y=ab.priority}}else{if(af==null||ab.priority<=af){if(ab.priority<af){aa=[]}aa.push(ad);af=ab.priority}}}}}}if(ae.length>0){ae=devhd.utils.RandomUtils.shuffle(ae);
for(var Z=0;Z<ae.length;Z++){if(ae[Z].label!=C){C=ae[Z].label;return ae[Z]}}if(ESB["grid.debug"]){$feedly("[grid] picked<perfect>= "+ae[0].label+" context= perfects:"+ae.length+", fuzzies:"+aa.length+", partials:"+ac.length)}C=ae[0].label;return ae[0]}else{if(aa.length>0){aa=devhd.utils.RandomUtils.shuffle(aa);for(var Z=0;Z<aa.length;Z++){if(aa[Z].label!=C){C=aa[Z].label;
return aa[Z]}}C=aa[0].label;if(ESB["grid.debug"]){$feedly("[grid] picked<fuzzy>= "+C+" context= perfects:"+ae.length+", fuzzies:"+aa.length+", partials:"+ac.length)}return aa[0]}else{if(ac.length>0){C=ac[ac.length-1].label;if(ESB["grid.debug"]){$feedly("[grid] picked<partial>= "+C+" context= perfects:"+ae.length+", fuzzies:"+aa.length+", partials:"+ac.length)
}return ac[ac.length-1]}else{if(ESB["grid.debug"]){$feedly("[grid] picked<none>")}return null}}}}function P(Y,Z){for(var X=0;X<Y.portrait.length;X++){if(J(Y.portrait[X],Z)===true){return true}}return false}function J(Y,Z){if(Y.requires==null){return true}if(Y.negative==true){for(var X=0;X<Y.requires.length;X++){if(Y.requires[X].excludeContentType==Z){return false
}}return true}else{for(var X=0;X<Y.requires.length;X++){if(Y.requires[X].contentType=="*"||Y.requires[X].contentType==Z){return true}}return false}}function l(ac,Y,X,ae,aj){var ai={};var ad=[];var af=true;var ah=false;if(ESB["grid.debug"]){$feedly("[grid] applying:"+ac.label+" -- perfect only:"+ae+" -- force:"+X)}for(var ab=0;ab<ac.portrait.length;ab++){var Z=ac.portrait[ab];
var ag=null;if(Z.requires==null){ag=v(Z,Y,X,ae,ai,aj)}else{ag=I(Z,Y,X,ae,ai)}if(ag==null){if(ESB["grid.debug"]){$feedly("[grid] not matched:"+ac.label+" because of module #"+ab+" -- "+JSON.stringify(Z.requires))}return null}for(var aa=0;aa<ag.entries.length;aa++){ad.push(ag.entries[aa]);ai[ag.entries[aa].getId()]=true}af=af&&(ag.perfect===true);ah=ah||(ag.partial===true)
}if(ESB["grid.debug"]){$feedly("[grid] matched:"+ac.label+" -- perfect:"+af+" -- partial:"+ah)}return{label:ac.label,entries:ad,partial:ah,perfect:af,asymmetric:ac.portrait[0].asymmetric===true}}function v(aa,Z,ac,X,ab,Y){if(X==true){return null}var ad=e(Z,{excludeSpecials:true},aa.occurrence,ab);if(ad!=null&&ad.length==aa.occurrence){return{entries:ad,perfect:true,partial:false}
}ad=e(Z,{},aa.occurrence,ab);if(ad!=null&&ad.length==aa.occurrence){return{entries:ad,perfect:true,partial:false}}if(ac!==true){return null}ad=e(Z,{},aa.occurrence,ab);if(ad!=null&&ad.length==aa.occurrence){return{entries:ad,perfect:false,partial:false}}if(ad!=null&&ad.length>0&&aa.allowPartial==true){return{entries:ad,perfect:false,partial:true}}return null
}function I(Z,Y,X,ae,af){var ag=null;for(var ab=0;ab<Z.requires.length;ab++){var ad=Z.requires[ab];var aa={contentType:ad.contentType,layoutType:ad.layoutType,maxContentSize:ad.maxContentSize,maxVisualSize:ad.maxVisualSize,minVisualSize:ad.minVisualSize,excludeSpecials:X==true&&Z.allowPartial==true?false:ad.excludeSpecials=="yes"};if(ad.withVisual=="yes"||ad.withVisual=="preferable"){aa.withVisual=true
}else{if(ad.withVisual=="no"){aa.withVisual=false}}ag=e(Y,aa,Z.occurrence,af);if(ag!=null&&ag.length==Z.occurrence){return{perfect:true,entries:ag,partial:false}}if(ag!=null&&ag.length>0&&X==true&&Z.allowPartial==true){return{perfect:false,entries:ag,partial:true}}}if(ae==true){return null}for(var ab=0;ab<Z.requires.length;ab++){var ad=Z.requires[ab];
perfect=false;var ac={minContentSize:ad.minContentSize,maxContentSize:ad.maxContentSize,maxVisualSize:ad.maxVisualSize,minVisualSize:ad.minVisualSize,maxVisualSize:ad.maxVisualSize,layoutType:ad.layoutType,excludeSpecials:ad.excludeSpecials=="yes"};if(ad.withVisual=="yes"){ac.withVisual=true}else{if(ad.withVisual=="no"){ac.withVisual=false}}if(ad.contentType!=null&&ad.strict=="yes"){ac.contentType=ad.contentType
}ag=e(Y,ac,Z.occurrence,af);if(ag!=null&&ag.length==Z.occurrence){return{perfect:false,entries:ag,partial:false}}}if(X!==true){return null}for(var ab=0;ab<Z.requires.length;ab++){var ad=Z.requires[ab];perfect=false;var ac={minContentSize:ad.minContentSize,maxContentSize:ad.maxContentSize,maxVisualSize:ad.maxVisualSize,minVisualSize:ad.minVisualSize,layoutType:ad.layoutType,excludeSpecials:false};
if(ad.withVisual=="yes"){ac.withVisual=true}else{if(ad.withVisual=="no"){ac.withVisual=false}}if(ad.contentType!=null&&ad.strict=="yes"){ac.contentType=ad.contentType}ag=e(Y,ac,Z.occurrence,af);if(ag!=null&&ag.length==Z.occurrence){return{perfect:false,entries:ag,partial:false}}if(ag!=null&&ag.length>0&&X==true&&Z.allowPartial==true){return{perfect:false,entries:ag,partial:true}
}}return null}var S=0;function D(ab,X,Y){var ac="";var aa="group"+(S++);for(var Z=0;Z<X.length;Z++){X[Z].metadata.picked=true;G.declareEntry(X[Z]);if(ESB["grid.debug"]){ac+=X[Z].getTitle()+", "}}G.declareGroup(aa,X);return{factory:CARD("GridCard"),layout:ab,groupId:aa,section:Y.section,source:Y.source,sources:Y.sources,related:Y.related,feedIds:Y.feedIds,"debug.titles":ac,"debug.count":X.length}
}function F(Y){for(var X=0;X<Y.all.length;X++){if(Y.all[X].metadata.picked==false){return true}}return false}function n(Z){var X=[];for(var Y=0;Y<Z.all.length;Y++){if(Z.all[Y].metadata.picked==true){continue}X.push(Z.all[Y])}return X}function e(ab,ac,ae,Y){if(Y==null){Y={}}if(ae==null){ae=1}if(ac.contentType!=null&&ac.contentType!="*"){var Z=[];var ad=ab.byType[ac.contentType];
if(ad==null){if(ESB["grid.debug"]){$feedly("[grid] <- select entries (none) "+JSON.stringify(ac)+" -- "+ae)}return Z}for(var aa=0;aa<ad.length&&Z.length<ae;aa++){var X=ad[aa];if(X.metadata.picked==true){continue}if(Y[X.getId()]==true){if(ESB["grid.debug"]){$feedly("[grid] <- exclude (a) :"+X.getTitle())}continue}if(R(X,ac)===false){if(ESB["grid.debug"]){$feedly("[grid] <- missed filter (a) :"+X.getTitle())
}continue}Z.push(X)}if(ESB["grid.debug"]){$feedly("[grid] <- select entries (a) :"+JSON.stringify(ac)+" -- "+ae+" --> "+Z.length)}return Z}else{if(ac.minContentSize!=null){var Z=[];for(var aa=0;aa<ab.bySize.length&&Z.length<ae;aa++){var X=ab.bySize[aa];if(X.metadata.picked==true){continue}if(Y[X.getId()]==true){continue}if(R(X,ac)===false){continue}Z.push(X)
}if(ESB["grid.debug"]){$feedly("[grid] <- select entries (b) :"+JSON.stringify(ac)+" -- "+ae+" --> "+Z.length)}return Z}else{var Z=[];for(var aa=0;aa<ab.all.length&&Z.length<ae;aa++){var X=ab.all[aa];if(X.metadata.picked==true){continue}if(Y[X.getId()]==true){continue}if(R(X,ac)===false){continue}Z.push(X)}if(ESB["grid.debug"]){$feedly("[grid] <- select entries (c) :"+JSON.stringify(ac)+" -- "+ae+" --> "+Z.length)
}return Z}}}function R(X,Y){if(Y==null){return true}if(Y.excludeSpecials===true&&X.metadata.specialType===true){return false}if(Y.excludeContentType!=null&&X.metadata.contentType==Y.contentType){return false}if(Y.contentType!=null&&Y.contentType!="*"&&X.metadata.contentType!=Y.contentType){return false}if(Y.minContentSize!=null&&X.metadata.contentSize<Y.minContentSize){return false
}if(Y.maxContentSize!=null&&X.metadata.contentSize>Y.maxContentSize){return false}if(Y.minVisualSize!=null&&X.metadata.visualSize<Y.minVisualSize){return false}if(Y.maxVisualSize!=null&&X.metadata.visualSize>Y.maxVisualSize){return false}if(Y.withVisual===false&&X.metadata.visualSize>0){return false}if(Y.withVisual===true&&X.metadata.visualSize<1){return false
}if(Y.layoutType!=null&&X.metadata.layoutType!=Y.layoutType){return false}return true}return L}})();XOXOXOonFeedlyFileIncluded("mobile/reader@cloud.js");"use strict";(function(){var a=devhd.pkg("cloud");a.createReader=function(an){var aa=devhd.model.createObservable(an);var J=null;var bk={};var L=null;var T=[];var a3=[];var ag=true;var U=null;var a6=[];
var q=[];var y=null;var aH=null;var aS=devhd.utils.DurationUtils.DAYS(30);var aI=devhd.utils.DurationUtils.DAYS(7);var bf=devhd.utils.DurationUtils.DAYS(7);var v=devhd.utils.DurationUtils.DAYS(7);aa.setMag=function(bl){L=bl};aa.setSuggesto=function(bl){suggesto=bl};aa.load=function(){$feedly("[reader@cloud] loaded")};aa.pause=function(){aM()};aa.resume=function(){aM()
};aa.unload=function(){aM();L=null};aa.onBeforeUserIdentityChanges=function(){aM()};aa.onUserIdentified=function(bl){try{ag=false;if(bl==null||bl.userId==null){J=null;U=[];y={};bk={};T=[];aH=[];q=[]}else{try{var bs=SESSION();if(bs.feedlyPlan==null){bs.feedlyPlan=bl.reader.profile.product!=null?"pro":"standard";devhdx.utils.SessionUtils.save(bs)}}catch(br){$feedly("[reader][warning] failed to enrich session with plan info:"+br.name)
}J=bl.feedlyId;if(bl.reader==null){return ERROR("ERR053 - session does not include reader metadata")}U=bl.reader.subscriptions||[];a6=[];var bp=[];for(var bo=0;bo<U.length;bo++){if(U[bo].state=="dead"){a6.push(U[bo]);continue}bp.push(U[bo])}aH=bl.reader.tags||[];bk=bl.reader.preferences||{};try{var bq=bk.categoriesOrdering;T=(bq!=null)?(devhd.utils.JSONUtils.decode(bq)||[]):[]
}catch(br){return ERROR("ERR058 - invalid categories ordering because:"+br.name+" -- "+br.message)}var bn=aa.listCategories(false);for(var bo=0;bo<bn.length;bo++){for(var bm=0;bm<bn[bo].subscriptions.length;bm++){if(bn[bo].subscriptions[bm].mustRead==true){q.push(bn[bo].subscriptions[bm])}}}for(var bo=0;bo<bn.length;bo++){for(var bm=0;bm<bn[bo].subscriptions.length;
bm++){if(bn[bo].subscriptions[bm].mustRead==false){q.push(bn[bo].subscriptions[bm])}}}a5()}try{for(var bo=0;bo<a3.length;bo++){aa[a3[bo].method].apply(aa,a3[bo].args)}a3=[]}catch(br){$feedly("[error] failed to call waiter because:"+br.name+" -- "+br.message)}}catch(br){ERROR("ERR030 - failed to assign session to reader because "+br.name+" -- "+br.message)
}};aa.askUpdateUnreadCounts=a5;function a5(bl){if(J==null){return devhd.fn.callback(bl)}aM(function(){try{$feedly("[reader@cloud] starting unread count synchronization at "+new Date());var bm=new Date().getTime();TGET("!{cloud}/v3/markers/counts?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,function(bp){try{$feedly("[reader@cloud] got unread counts:"+(new Date().getTime()-bm)+"ms");
var bo=devhd.utils.JSONUtils.decode(bp);if(bo!=null&&bo.unreadcounts!=null){e(bo.unreadcounts)}}catch(bq){$feedly("[reader@cloud] failed to process unread count:"+bq.name+" -- "+bq.message)}devhd.fn.callback(bl)},function(bo,bp){$feedly("[reader@cloud] failed to process unread count:"+bo+" -- "+bp);devhd.fn.callback(bl)},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})
}catch(bn){$feedly("[reader@cloud] failed to update unread count:"+bn.name+" -- "+bn.message);devhd.fn.callback(bl)}})}aa.listTags=function(){return aH};aa.isExistingTag=function(bl){if(aH==null){return false}for(var bm=0;bm<aH.length;bm++){if(aH[bm].label!=null&&aH[bm].label==bl){return true}}return false};aa.addTag=function(bl){if(J==null){return}if(bl==null||bl==""){return
}if(aa.isExistingTag(bl)){return}aH.push({id:"user/"+J+"/tag/"+bl,label:bl});aH.sort(function(bn,bm){return bn.label.localeCompare(bm.label)});L.onTagsChanged()};aa.askClearUnreadCounts=S;function S(bl){aM(function(){y=null;devhd.fn.callback(bl)})}function e(bo){if(bo==null){return}try{y={};for(var bl=0;bl<bo.length;bl++){y[bo[bl].id]=bo[bl]}for(var bl=0;
bl<U.length;bl++){if(y[U[bl].id]==null){y[U[bl].id]={id:U[bl].id,count:0}}}}catch(bm){SIGN("ERR056 - invalid unread count information",10)}try{L.onUnreadCountRefreshed()}catch(bn){SIGN("ERR057 - failed to refresh unread counts",10)}}aa.getUserId=bg;aa.listSections=aB;aa.listSubscriptions=bh;aa.countSubscriptions=h;aa.suggestNextSubscription=j;aa.suggestPreviousSubscription=I;
aa.suggestNextCategory=ay;aa.suggestPreviousCategory=F;aa.listCategories=aj;aa.buildSelectorModel=l;aa.listMustReads=u;aa.listOthers=x;aa.lookupFeedInfo=aY;aa.getMustReadUnreadCount=aP;aa.getReadingListUnreadCount=p;aa.isUnConfigured=a4;aa.isEmpty=r;aa.getStreamPreference=aq;aa.askSetStreamPreference=aw;aa.getFeedPreference=a8;aa.askSetFeedPreference=aV;
aa.isFeedMustRead=B;aa.getCategoryPreference=P;aa.askSetCategoryPreference=a2;aa.suggestLayoutType=ae;aa.resetCategoriesOrdering=aJ;aa.askEntries=aT;aa.askSearchEntries=R;aa.askSearchSavedEntries=ad;aa.askSearchBeyondEntries=aW;aa.askEntryById=aK;aa.askMagicEntries=aN;aa.askRecommendEntries=at;aa.askTopicEntries=aD;aa.askListSubscriptions=aE;aa.askListCategories=ab;
aa.askSyncUnreadCounts=aU;aa.markEntriesAsRead=d;aa.markEntryAsRead=aZ;aa.undoMarkEntryAsRead=bi;aa.tagEntry=b;aa.untagEntry=Z;aa.askMarkSubscriptionAsRead=ao;aa.askMarkAllAsRead=f;aa.askMarkCategoryAsRead=G;aa.askCreateNote=a0;aa.askAddSubscription=bd;aa.askAddSubscriptions=af;aa.askRemoveSubscription=c;aa.askMarkFeedAsMustRead=z;aa.askUndoMarkFeedAsMustRead=ax;
aa.guessFeeds=E;aa.askExclude=C;aa.isExcluded=N;aa.getPreference=g;aa.computeTagCloud=aX;aa.askPromotedEntries=au;function a4(){return U==null||U.length==0}function r(){if(U==null){return false}for(var bm=0;bm<U.length;bm++){var bn=U[bm];var bl=aG(bn.id);if(bl==null||bl>0){return false}}return true}function aP(){return aG("user/"+J+"/category/global.must")
}function bg(){return J}function aY(bl){if(bl==null){return null}var bm=i(bl);if(bm!=null){bm.following=true;return bm}var bn=aR(bl);bn.unreadCount=aG(bn.id);bn.updated=aQ(bn.id);bn.label=bn.title;bn.flsId=bn.id;bn.following=bl.indexOf("feed")==0?false:true;if(bl.indexOf("feed")==0){bn.favicon=FAVICON(bl.slice("feed/".length))}return bn}function aR(bl){if(bl==null){return null
}if(bl.indexOf("com.google/reading-list")>-1||bl.indexOf("category/global.all")>-1){return{id:"user/"+J+"/category/global.all",title:"all"}}else{if(bl.indexOf("com.google/read")>-1||bl.indexOf("tag/global.read")>-1){return{id:"user/"+J+"/tag/global.read",title:"recently read"}}else{if(bl.indexOf("tag/global.saved")>-1){return{id:"user/"+J+"/tag/global.saved",title:"saved for later"}
}else{if(bl.indexOf("category/global.must")>-1){return{id:"user/"+J+"/category/global.must",title:"must reads"}}else{return{id:bl,title:bl.split("/").slice(3,5).join("/")}}}}}}function j(bn){if(bn==null){return null}var bq=false;var bm=aa.listCategories(false);for(var bo=0;bo<bm.length;bo++){for(var bl=0;bl<bm[bo].subscriptions.length;bl++){if(bm[bo].subscriptions[bl].id==bn){bq=true;
continue}if(bq==true&&bm[bo].subscriptions[bl].unreadCount>0){return bm[bo].subscriptions[bl]}}}var bp=aa.listOthers(false);for(var bo=0;bo<bp.length;bo++){if(bp[bo].id==bn){bq=true;continue}if(bq==true&&bp[bo].unreadCount>0){return bp[bo]}}return null}function I(bn){if(bn==null){return null}var bm=aa.listCategories(false);for(var bo=0;bo<bm.length;
bo++){for(var bl=bm[bo].subscriptions.length-1;bl>=0;bl--){if(bm[bo].subscriptions[bl].id==bn){if(bl>0){return bm[bo].subscriptions[bl-1]}else{return null}}}}var bp=aa.listOthers(false);for(var bl=bp.length-1;bl>=0;bl--){if(bp[bl].id==bn){if(bl>0){return bp[bl-1]}else{return null}}}return null}function ay(bm){var bl=aa.listCategories(false);var bo=false;
if(bm==null){bo=true}for(var bn=0;bn<bl.length;bn++){if(bo&&bl[bn].unreadCount>0){return bl[bn]}if(bl[bn].label==bm){bo=true}}return null}function F(bm){var bl=aa.listCategories(false);var bo=false;if(bm==null){bo=true}for(var bn=bl.length-1;bn>=0;bn--){if(bo&&bl[bn].unreadCount>0){return bl[bn]}if(bl[bn].label==bm){bo=true}}return null}aa.lookupSubscription=i;
function i(bl,bp){try{if(U==null){return null}for(var bm=0;bm<U.length;bm++){var bn=U[bm];if(bn.id!=bl){continue}if(bp!=true){al(bn)}return bn}return null}catch(bo){$feedly("[reader@cloud] failed to look up subscription:"+bl+" because "+bo.name+" -- "+bo.message);return null}}function al(bm){try{bm.favicon=ak(bm.website||bm.htmlUrl||bm.id.slice("feed/".length));
bm.mustRead=ac(bm,"global.must");bm.sortScore=(bm.mustRead?1000:0);var bl=w(bm.id);if(bl!=null){bm.unreadCount=bl.count;bm.updated=bl.updated}}catch(bn){$feedly("[reader@cloud] failed to enrich subscription:"+JSON.stringify(bm)+" because "+bn.name+" -- "+bn.message)}}function aB(bm,bo){try{var bl=aj(bm,bo);if(bl.length>=2){return bl}else{return bh("*",bm)
}}catch(bn){ERROR("ERR031 - failed to list sections because "+bn.name+" -- "+bn.message)}}aa.getTermUnreadCount=aG;function D(bl){if(y!=null){delete y[bl]}}function aG(bm){if(y==null){return null}var bl=y[bm];if(bl==null){return null}else{return bl.count}}function av(bl,bm){if(y[bl]==null){return}y[bl].count=y[bl].count+bm;if(y[bl].count<0){y[bl].count=0
}L.onTermUnreadCountChanged(bl,y[bl].count)}function bb(bm){var bl=devhd.utils.IdUtils.formatId("category","global.all",J);if(y[bl]==null){return}y[bl].count=y[bl].count+bm;if(y[bl].count<0){y[bl].count=0}L.onTermUnreadCountChanged(bl,y[bl].count)}function p(){if(y==null){return null}var bl=devhd.utils.IdUtils.formatId("category","global.all",J);if(y[bl]==null){return 0
}return y[bl].count}function aQ(bm){if(y==null){return null}var bl=y[bm];if(bl==null){return null}return bl.updated}function w(bl){if(y==null){return null}return y[bl]}function B(bl){var bm=i(bl,true);if(bm==null){return false}else{return ac(bm,"global.must")}}function t(bl){switch(""+bl){case"0":return"titleonly";case"1":return"list";case"4":return"mag";
case"5":case"6":return"cards";default:return null}}function ae(bl){return t(aq(bl,EOS_KEY))}function a9(bl){if(bl.indexOf("com.google/reading-list")>0){return"feedly.all"}if(bl.indexOf("com.google/read")>0){return"feedly.history"}if(bl.indexOf("tag/global.saved")>0){return"feedly.saved"}var bm=bl.split("/");if(bm.length>0){return bm[bm.length-1]}else{return bl
}}function aq(bn,bm){if(bn.indexOf("feed")==0){return a8(bn,bm)}else{var bl=a9(bn);return P(bl,bm)}}function aw(bn,bm,bo,bp){if(bn.indexOf("feed")==0){return aV(bn,bm,bo,bp)}else{var bl=a9(bn);return a2(bl,bm,bo,bp)}}function g(bl){return bk[bl]}function P(bm,bl){return bk["category/"+bm+"/"+bl]}function a2(bm,bl,bn,bo){ai("category/"+bm+"/"+bl,bn,bo)
}function a8(bm,bl){if(bm==null){return null}return bk["subscription/"+bm+"/"+bl]}function s(bm,bl){return"subscription/"+bm+"/"+bl}function aV(bm,bl,bn,bo){ai(s(bm,bl),bn,bo)}function aJ(){T=[];ai("categoriesOrdering","[]")}function be(bl,bn){for(var bm in bl){bk[bm]=bl[bm];if(bl[bm]==null){bl[bm]="==DELETE=="}else{bl[bm]=""+bl[bm]}}if(J!=null){PATCH("!{cloud}/v3/preferences?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bl),function(bo){devhd.fn.callback(bn)
},function(bo){$feedly("[preference] update error:"+devhd.utils.JSONUtils.encode(request));devhd.fn.callback(bn)},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})}}function ai(bl,bn,bo){var bm={};bm[bl]=bn;be(bm,bo)}function C(bm,bp){var bl=bk.exclude||"";bl=bl.split(",");var bo=false;for(var bn=0;bn<bl.length;bn++){if(excluce[bn]==bm){bo=true
}}if(!bo){bl.push(bm);ai("exclude",bl.join(","),bp)}else{devhd.fn.callback(bp)}}function N(bm){var bl=bk.exclude||"";return bl.indexOf(bm)>-1}function ac(bn,bm){if(bm==null||bm=="*"){return true}if(bm=="global.must"){for(var bl=0;bl<bn.categories.length;bl++){if(bn.categories[bl].id=="user/"+J+"/category/global.must"){return true}}return false}else{for(var bl=0;
bl<bn.categories.length;bl++){if(bn.categories[bl].label==bm){return true}}return false}}function aA(bl){if(T==null){return 1000}for(var bm=0;bm<T.length;bm++){if(T[bm]==bl){return bm}}return 1000}function ak(bl){if(bl==null){return"https://www.google.com/s2/favicons?domain=google.com"}if(bl.indexOf("twitter.com")>-1){return"http://twitter.com/favicon.ico"
}return"https://www.google.com/s2/favicons?domain="+bl.split("/").slice(2,3)+"&alt=feed"}function x(bm,br){try{var bo=[];var bl=new Date().getTime();for(var bn=0;bn<U.length;bn++){var bp=U[bn];bp.mustRead=ac(bp,"global.must");bp.unreadCount=aG(bp.id);bp.updated=aQ(bp.id);bp.flsId=bp.id;bp.fi=bp.website||bp.htmlUrl||bp.id.slice("feed/".length);if(ba(bp)){continue
}if(bm==true&&bp.unreadCount==0){continue}if(br==true&&bl-bp.updated>aI){continue}bp.sortScore=(bp.mustRead?1000:0);bo.push(bp)}bo=bo.sort(M);return bo}catch(bq){ERROR("ERR032 - failed to list uncategorized because "+bq.name+" -- "+bq.message)}}function ba(bm){if(bm.categories==null||bm.categories.length==0){return false}for(var bl=0;bl<bm.categories.length;
bl++){if(bm.categories[bl].id.indexOf("global")>-1){continue}return true}return false}function u(bn,br){try{var bl=[];var bm=new Date().getTime();for(var bo=0;bo<U.length;bo++){var bp=U[bo];bp.mustRead=ac(bp,"global.must");bp.unreadCount=aG(bp.id);bp.updated=aQ(bp.id);bp.flsId=bp.id;bp.favicon=ak(bp.website||bp.htmlUrl||bp.id.slice("feed/".length));
if(bp.mustRead==false){continue}if(bn==true&&(bp.unreadCount==null||bp.unreadCount==0)){continue}if(br==true&&bm-bp.updated>aI){continue}bl.push(bp)}return bl}catch(bq){ERROR("ERR032 - failed to list mustReads because "+bq.name+" -- "+bq.message)}}function l(){try{if(U==null){return[]}var bl={};var bx=[];var bt=[];for(var bq=0;bq<U.length;bq++){var bu=U[bq];
bu.favicon=ak(bu.website||bu.htmlUrl||bu.id.slice("feed/".length));bu.mustRead=false;bu.sortScore=0;var bm=w(bu.id);if(bm!=null){bu.unreadCount=bm.count;bu.updated=bm.updated}for(var bp=0;bp<bu.categories.length;bp++){if(bu.categories[bp].id=="user/"+J+"/category/global.must"){bu.mustRead=true;bu.sortScore=1000;bx.push(aO(bu))}else{var bv=bu.categories[bp].label;
if(bl[bv]==null){var bw=devhd.utils.IdUtils.formatId("category",bv,J);bl[bv]={label:bv,subscriptions:[],unreadCount:aG(bw),flsId:bw,type:"category",lastModifiedTime:aQ(bw),order:aA(bv)}}bl[bv].subscriptions.push(bu)}}if(bu.categories.length==0||bu.categories.length==1&&bu.mustRead){bt.push(aO(bu))}}var bs=[];for(var bo in bl){bl[bo].subscriptions=bl[bo].subscriptions.sort(M);
var bn=[];for(var bp=0;bp<bl[bo].subscriptions.length;bp++){bn.push(aO(bl[bo].subscriptions[bp]))}bl[bo].subscriptions=bn;bs.push(bl[bo])}bx=bx.sort(M);bt=bt.sort(M);bs=bs.sort(function(by,bz){if(by.order!=bz.order){return by.order-bz.order}else{return by.label.localeCompare(bz.label)}});return{categories:bs,mustReads:bx,others:bt}}catch(br){ERROR("ERR032 - failed to list categories because "+br.name+" -- "+br.message)
}}function aO(bl){return{id:bl.id,title:bl.title,unreadCount:bl.unreadCount,u:bl.website||bl.htmlUrl}}function aj(bx,bt){try{if(U==null){return[]}var bl={};var bm=new Date().getTime();for(var bp=0;bp<U.length;bp++){var bu=U[bp];al(bu);if(bx==true&&bu.unreadCount==0){continue}if(bt==true&&bu.updated!=null&&bm-bu.updated>aI){continue}for(var bo=0;bo<bu.categories.length;
bo++){var bv=bu.categories[bo].label;if(bv==null||bu.categories[bo].id.indexOf("category/global.")>-1){continue}if(bl[bv]==null){var bw=devhd.utils.IdUtils.formatId("category",bv,J);bl[bv]={label:bv,LABEL:bv==null?null:bv.toUpperCase(),mustReads:[],subscriptions:[],unreadCount:aG(bw),flsId:bw,type:"category",lastModifiedTime:aQ(bw),order:aA(bv)}}bl[bv].subscriptions.push(bu);
if(bu.mustRead){bl[bv].mustReads.push(bu)}var bs=aQ(bu.id);if(bs!=null){bu.updated=bs}bu.sortScore=(bu.mustRead?1000:0)}}var br=[];for(var bn in bl){bl[bn].subscriptions=bl[bn].subscriptions.sort(M);br.push(bl[bn])}br=br.sort(function(by,bz){if(by.order!=bz.order){return by.order-bz.order}else{return by.label.localeCompare(bz.label)}});return br}catch(bq){ERROR("ERR032 - failed to list categories because "+bq.name+" -- "+bq.message)
}}function M(bm,bl){if(bl.sortScore!=null&&bm.sortScore&&bl.sortScore-bm.sortScore!=0){return bl.sortScore-bm.sortScore}else{if(bm.title==null||bl.title==null){return bm.title==null?-1:1}else{return bm.title.localeCompare(bl.title)}}}function ab(bl,bm){if(ag==true){a3.push({method:"askListCategories",args:arguments});return}else{if(U.length==0){devhd.fn.callback(bm,[])
}else{devhd.fn.callback(bm,aj(bl))}}}function aE(bm,bl,bn){if(ag==true){a3.push({method:"askListSubscriptions",args:arguments});return}devhd.fn.callback(bn,bh(bm,bl))}function h(){if(U==null){return 0}else{return U.length}}function bh(bl,bt,bs){try{if(U==null){return[]}if(bt==null){bt=true}var bm=new Date().getTime();var bq=[];for(var bn=0;bn<U.length;
bn++){var br=U[bn];if(bl!=null&&ac(br,bl)==false){continue}var bu=aG(br.id);if(bt&&bu==0){continue}var bo=aQ(br.id);if(bo==null){bo=br.updated}if(bs==true&&(bo==null||bm-bo>bf)){continue}br.unreadCount=bu;br.mustRead=ac(br,"global.must");br.updated=bo;br.label=br.title;br.flsId=br.id;br.type="feed";br.favicon=ak(br.website||br.htmlUrl||br.id.slice("feed/".length));
bq.push(br)}bq=bq.sort(function(bw,bv){if(bw.mustRead&&!bv.mustRead){return -1}if(bv.mustRead&&!bw.mustRead){return 1}return bv.updated-bw.updated});return bq}catch(bp){ERROR("ERR033 - failed to list subscriptions because "+bp.name+" -- "+bp.message)}}function aX(bl){try{var bm=bh(bl);var bp={};for(var bq=0;bq<bm.length;bq++){if(bm[bq].topics==null){continue
}var bs=bj(bm[bq].topics);for(var bo=0;bo<bs.length;bo++){devhd.utils.MapUtils.inc(bp,bs[bo].toLowerCase())}}var bt=[];for(var bn in bp){bt.push({label:bn,count:bp[bn]})}return bt.sort(function(bv,bu){return bu.count-bv.count})}catch(br){$feedly("[reader@cloud] failed to create tag cloud for:"+bl+" -- "+br.name+" -- "+br.message);return[]}}function bj(bm,bl){if(bm==null){return[]
}var bo=[];for(var bn=0;bn<bm.length&&(bl==null||bo.length<bl);bn++){if(bm[bn].indexOf(":")>-1||bm[bn].indexOf("/")>-1||bm[bn].indexOf("[")>-1||bm[bn].indexOf("(")>-1||bm[bn]=="blog"||bm[bn]=="blogs"||bm[bn]=="tv"||bm[bn]=="internet"||bm[bn]=="media"||bm[bn]=="blogs2follow"||bm[bn]=="video"||bm[bn]=="daily"||bm[bn]=="magazine"||bm[bn]=="magazines"||bm[bn]=="websites"||bm[bn]=="website"||bm[bn]=="resources"||bm[bn]=="news"||bm[bn].indexOf("imported")>-1||bm[bn].indexOf("rss")>-1){continue
}bo.push(bm[bn])}return bo}function E(bl){$feedly("guessFeeds");var bm=[];var bp=new RegExp(bl,"i");for(var bn=0;bn<U.length;bn++){var bo=U[bn];if(bp.test(bo.title)==false){continue}al(bo);bm.push(bo)}bm=bm.sort(function(br,bq){if(br.mustRead&&!bq.mustRead){return -1}if(bq.mustRead&&!br.mustRead){return 1}return bq.updated-br.updated});return bm}function at(bm,bo,bn,bl){if(bm.indexOf("feed")==0){aF(bm,bo,bn,bl)
}else{ar(bm,bo,bn,bl)}}function aF(bm,bp,bo,bn){var bl=aG(bm);aT(bm,bl==null||bl==0?bp:Math.min(bl,bp),bl==0?false:true,false,null,function(bq){K(bm,bq);devhd.fn.callback(bo,bq)},function(){fEntries=[];devhd.fn.callback(bo,[])})}function ar(bl,bo,bs,bp){var bn=bl.slice(("user/"+J+"/label/").length);var bt=aG(bl);var bq=[];var bm=bo;var br=true;if(bt==null){br=true
}else{if(bt<=bo){bm=bt;br=true}}devhd.utils.FlowUtils.parallel({},[function(bv,bu){if(bm==0){bq=[];devhd.fn.callback(bv);return}aN(bl,bm,br,Math.floor(bf),function(bw){bq=bw;devhd.fn.callback(bv)})}],{onComplete:function(){try{if(bq==null){bq=[]}var bx={};var by={};var bv=[];var bu=new Date().getTime();for(var bw=0;bw<bq.length;bw++){if(bx[bq[bw].getId()]!=null){continue
}if(by[bq[bw].getFingerPrint()]!=null){continue}if(bq[bw].metadata.garbage){continue}var bz=L.lookupEntry(bq[bw].getId());if(bz!=null&&bz.metadata.toc!=true){continue}if(bu-bq[bw].crawledTime>aS){continue}bv.push(bq[bw]);bx[bq[bw].getId()]=true;by[bq[bw].getFingerPrint()]=true}K(bl,bv);devhd.fn.callback(bs,bv)}catch(bA){ERROR("ERR034 - failed to recommend feed entries because "+bA.name+" -- "+bA.message)
}},onError:bp})}function au(br,bq,bp){try{if(br==null||br.length==0){devhd.fn.callback(bp,[]);return}var bl="";for(var bn=0;bn<br.length;bn++){bl+=encodeURIComponent(br[bn]);if(bn<br.length-1){bl+=","}}var bm="!{cloud}/v3/promoted/contents?topics="+bl+"&unreadOnly=true&count="+bq+"&ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion;
JGET(bm,function(bs){try{if(bs==null||bs.id==null){$feedly("[reader@cloud] failed to load feed for:"+bl+" -- "+bq);devhd.fn.callback(bp,[]);return}bc("promoted",bq,false,false,bs,function(bu){for(var bv=0;bv<bu.length;bv++){bu[bv].metadata.promoted=true}devhd.fn.callback(bp,bu)},function(){devhd.fn.callback(bp,[])})}catch(bt){$feedly("[reader@cloud] failed consume entries: promoted://"+bl+" -- "+bt.name+" -- "+bt.message);
devhd.fn.callback(bp,[])}},function(bt,bs){$feedly("[reader@cloud] failed to get promoted entries: promoted://"+bl+" -- "+bt+" -- "+bs);devhd.fn.callback(bp,[])},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})}catch(bo){devhd.fn.callback("[reader@cloud] failed to ask magic entries (c): promoted://"+bl+" -- "+bq+" -- "+bo.name+" -- "+bo.message);
devhd.fn.callback(bp,[])}}function aN(bo,bp,bl,bm,bn){aM(function(){ah(bo,bp,bl,bm,bn,function(){devhd.fn.callback(bn,[])})})}function ap(bo,bn,bl){if(bo==null||bo.length==0){devhd.fn.callback(bn,[]);return}try{POST("!{cloud}/v3/entries/.mget?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bo),function(br){try{var bq=devhd.utils.JSONUtils.decode(br);
if(bq==null){ERROR("ERR036 - failed to access stream content - invalid JSON response");devhd.fn.callback(bl,500,"Invalid JSON response");return}var bp=devhd.utils.GoogleUtils.processCloudEntries(bq,J);devhd.fn.callback(bn,bp)}catch(bs){ERROR("ERR036 - failed to stream content because "+bs.name+" -- "+bs.message);devhd.fn.callback(bl,500,devhd.utils.ExceptionUtils.formatError("doAskStreamContent",bs));
return}},function(bp,bq){if(bp==400){$feedly("[reader@cloud][ask stream content][command token] expired. trying to reset...");devhd.fn.callback(bn,[]);return}else{if(bp>400&&bp<500){FAILED("Stream Error",bp)}}},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})}catch(bm){devhd.fn.callback(bl,-1,devhd.utils.ExceptionUtils.formatError("askStreamContent",bm))
}}function aK(bl,bn,bm){ap([bl],function(bo){if(bo==null||bo.length==0){return devhd.fn.callback(bm,"Entry not found (1): "+bl)}var bp=bo[0];m(bp);devhd.fn.callback(bn,bp)},function(){devhd.fn.callback(bm,"Entry not found (2):"+bl)})}function aT(bn,br,bm,bp,bl,bq,bo){if(bl==null){aM(function(){X(bn,br,bm,bp,bl,bq,bo)})}else{X(bn,br,bm,bp,bl,bq,bo)}}function R(bm,bo,bl,bp,bn){if(bl==null){aM(function(){n(bm,bo,"user/"+J+"/category/global.all",{},bl,bp,bn)
})}else{n(bm,bo,"user/"+J+"/category/global.all",{},bl,bp,bn)}}function ad(bm,bo,bl,bp,bn){if(bl==null){aM(function(){n(bm,bo,"user/"+J+"/tag/global.saved",{},bl,bp,bn)})}else{n(bm,bo,"user/"+J+"/tag/global.saved",{},bl,bp,bn)}}function aW(bm,bp,bn,bl,bq,bo){if(bl==null){aM(function(){n(bm,bp,"topic/global.popular",bn,bl,bq,bo)})}else{n(bm,bp,"topic/global.popular",bn,bl,bq,bo)
}}function aD(bq,bo,bm,bl,bs,bp){try{var bn={};if(J!=null){bn={"$Authorization.feedly":"$FeedlyAuth"}}if(ESB["reader.debug"]==true){$feedly("[reader@cloud] start ask topic entries:"+bq+", depth:"+bo)}var bt="!{cloud}/v3/mixes/contents?streamId="+encodeURIComponent("topic/"+bq)+"&organic="+bl+"&locale="+suggesto.getLocale()+"&count="+bo+"&backfill=true&ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion;
if(bm==true&&J!=null){bt+="&unreadOnly=true"}if(ESB["reader.debug"]==true){$feedly("[reader@cloud] ask topic entries:"+bt)}JGET(bt,function(bv,bu){try{$feedly("[reader@cloud] got topic entries:"+bq+"("+bo+") := "+bv.items.length+" -- was expecting:"+bo);bc("topic/"+bq,bo,false,false,bv,bs,bp)}catch(bw){ERROR("ERR038 - failed to ask entries because "+bw.name+" -- "+bw.message);
devhd.fn.callback(bp)}},bp,bn)}catch(br){$feedly("[reader@cloud] failed to askEntries because:"+br.name+" -- "+br.message);devhd.fn.callback(bs,[])}}function ah(bn,bo,bl,bs,bt,bp){try{if(ACCELERATOR[bn]!=null){bc(bn,bo,bl,false,ACCELERATOR[bn],bt,bp);delete ACCELERATOR[bn];return}var bv=true;var bq=new Date().getTime();var bm={};if(J!=null){bm={"$Authorization.feedly":"$FeedlyAuth"}
}if(ESB["reader.debug"]==true){$feedly("[reader@cloud] start ask magic entries:"+bn+", depth:"+bo+", exclude:"+bl)}var bu="!{cloud}/v3/mixes/contents?streamId="+encodeURIComponent(bn)+"&count="+bo+"&ck="+new Date().getTime()+"&backfill="+bv+"&boostMustRead=true&hours="+new Date().getHours()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion;
if(bl==true){bu+="&unreadOnly=true"}JGET(bu,function(bx,bw){try{bc(bn,bo,bl,false,bx,bt,bp)}catch(by){ERROR("ERR038 - failed to ask entries because "+by.name+" -- "+by.message);devhd.fn.callback(bp)}},bp,bm)}catch(br){$feedly("[reader@cloud] failed to askEntries because:"+br.name+" -- "+br.message);devhd.fn.callback(bt,[])}}function X(bn,bp,bl,bu,bo,bt,bq){try{var br=new Date().getTime();
var bm={};if(J!=null){bm={"$Authorization.feedly":"$FeedlyAuth"}}if(ESB["reader.debug"]==true){$feedly("[reader@cloud] start ask entries:"+bn+", depth:"+bp+", exclude:"+bl+", oldest:"+bu)}var bv="!{cloud}/v3/streams/contents?streamId="+encodeURIComponent(bn)+"&count="+bp+"&ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion;
if(bl==true){bv+="&unreadOnly=true"}bv+="&ranked="+(bu==true?"oldest":"newest");if(bo!=null){bv+="&continuation="+bo}JGET(bv,function(bx,bw){try{bc(bn,bp,bl,bu,bx,bt,bq)}catch(by){ERROR("ERR038 - failed to ask entries because "+by.name+" -- "+by.message);devhd.fn.callback(bq)}},bq,bm)}catch(bs){$feedly("[reader@cloud] failed to askEntries because:"+bs.name+" -- "+bs.message);
devhd.fn.callback(bt,[])}}function n(br,bq,bm,bv,bn,bt,bo){try{var bp=new Date().getTime();var bl={};if(J!=null){bl={"$Authorization.feedly":"$FeedlyAuth"}}if(ESB["reader.debug"]==true){$feedly("[reader@cloud] start ask search entries:"+br+", count:"+bq)}var bu="!{cloud}/v3/search/contents?streamId="+encodeURIComponent(bm)+"&query="+encodeURIComponent(br)+"&unreadOnly=false&count="+bq+"&ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion;
if(bv!=null&&bv.minEngagement!=null){bu+="&minEngagement="+bv.minEngagement}if(bv!=null&&bv.minEngagementRate!=null){bu+="&minEngagementRate="+bv.minEngagementRate}if(bv!=null&&bv.fields!=null){bu+="&fields="+bv.fields}if(bn!=null){bu+="&continuation="+bn}JGET(bu,function(bx,bw){try{$feedly("[reader@cloud] askSearchEntries:"+br+"("+bq+")["+bn+"] := "+bx.items.length+" -- processing time:= "+(new Date().getTime()-bp)+"ms, CPU time:= "+bw+"ms");
bc(bm,bq,true,false,bx,bt,bo)}catch(by){ERROR("ERR038 - failed to ask search entries because "+by.name+" -- "+by.message);devhd.fn.callback(bo)}},bo,bl)}catch(bs){$feedly("[reader@cloud] failed to askSearchEntries because:"+bs.name+" -- "+bs.message);devhd.fn.callback(bt,[])}}function bc(bm,bo,bl,bt,bv,bs,bp){var bu=devhd.utils.GoogleUtils.processCloudEntries(bv.items,J);
var br=[];var bq=[];for(var bn=0;bn<bu.length;bn++){if(L.lookupEntry(bu[bn].getId())!=null){$feedly("[reader@cloud] supressing duplicates:"+bu[bn].getId()+" -- "+bu[bn].getTitle());bq.push(bu[bn].getId());continue}if(bv.terms!=null&&bv.terms.length>0){bu[bn].metadata.terms=bv.terms}br.push(bu[bn])}K(bm,br);if(ESB["reader.debug"]==true){$feedly("[reader@cloud] returned entries:"+bm+", count:"+bo+", exclude:"+bl+", oldest:"+bt+" == "+br.length+" entries.")
}devhd.fn.callback(bs,br,bv.continuation,bq)}function K(bn,bl){var bo=false;if(bn!=null&&bn.indexOf("feed")==0&&i(bn)==null){bo=true}for(var bm=0;bm<bl.length;bm++){if(bo){bl[bm].undoMarkAsRead()}m(bl[bm])}}function m(bl){var bm=i(bl.getFeedId());if(bm!=null){bl.metadata.sourceTitle=bm.title;bl.metadata.following=true;bl.metadata.subscribed=true;bl.metadata.mustRead=bm.mustRead==true;
bl.setNavigation(bk["subscription/"+bl.getFeedId()+"/entryNavigation"])}else{bl.metadata.following=false;bl.metadata.subscribed=false;bl.metadata.mustRead=false;if(bl.metadata.defaultNavigation!=null){bl.setNavigation(bl.metadata.defaultNavigation)}}}var aC=[];var V=null;function aM(bn){if(aC.length==0){return devhd.fn.callback(bn)}$feedly("[reader@cloud] flushing reads:"+aC.length);
var bm={action:"markAsRead",type:"entries",entryIds:[],readTimes:[]};for(var bl=0;bl<aC.length;bl++){bm.entryIds.push(aC[bl].id);bm.readTimes.push(aC[bl].readTime||0)}aC=[];TPOST("!{cloud}/v3/markers?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bm),function(){try{$feedly("[reader@cloud] flush successful.");
return devhd.fn.callback(bn)}catch(bo){$feedly("[reader@cloud] callback on markEntriesAsRead failed:"+bo.name+" -- "+bo.message)}},function(bp){try{$feedly("[reader@cloud] failed to flush. Error:"+code);SIGN("Flush failed: "+code);return devhd.fn.callback(bn)}catch(bo){$feedly("[reader@cloud] failed to show error:"+bo.name+" -- "+bo.message)}},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})
}function O(bm){$feedly("[reader@cloud] adding "+bm.length+" to reads queue.");for(var bl=0;bl<bm.length;bl++){aC.push(bm[bl])}if(V!=null){window.clearTimeout(V);V=null}if(aC.length>20){aM()}else{V=window.setTimeout(function(){aM();V=null},10000)}}function d(bl,bm,bs,bq){var bn=[];try{for(var bp=0;bp<bl.length;bp++){var bu=bl[bp];if(bu.isRead()){continue
}bu.markAsRead();var bt=i(bu.getFeedId());if(bt!=null){av(bt.id,-1);bb(-1);for(var bo=0;bo<bt.categories.length;bo++){av(bt.categories[bo].id,-1)}bn.push({id:bu.getId(),readTime:0})}}O(bn);if(bn.length>0&&bm==true){aM(function(){a5(bs)})}else{devhd.fn.callback(bs)}}catch(br){ERROR("ERR039 - failed to mark entry as read because "+br.name+" -- "+br.message)
}}function aZ(bl,bn,br,bo){if(bl.isRead()){return}if(bn==null||isNaN(bn)){bn=0}try{try{bl.markAsRead();var bp=i(bl.getFeedId());if(bp!=null){av(bp.id,-1);bb(-1);for(var bm=0;bm<bp.categories.length;bm++){av(bp.categories[bm].id,-1)}}}catch(bs){$feedly("[warning] failed to update local term counts because "+bs.name+" -- "+bs.message)}O([{id:bl.getId(),readTime:bn}]);
devhd.fn.callback(br)}catch(bq){ERROR("ERR039 - failed to mark entry as read because "+bq.name+" -- "+bq.message)}}function bi(bl,bp,bn){if(bl.isRead()==false){return}var bo=i(bl.getFeedId());if(bo!=null){bl.undoMarkAsRead();av(bo.id,1);bb(1);for(var bm=0;bm<bo.categories.length;bm++){av(bo.categories[bm].id,1)}}aM(function(){try{a1([bl],bp,bn)}catch(bq){ERROR("ERR040 - failed to undo mark entry as read because "+bq.name+" -- "+bq.message);
$feedly("failed to undo mark as read because "+bq.name+" -- "+bq.message)}})}function b(bl,bo,bq,bn){if(J==null){return devhd.fn.callback(bq,bl)}try{bl.tag(bo);if(bo.indexOf("global.")==-1){aa.addTag(bo)}var bm={entryId:bl.getId()};PUT("!{cloud}/v3/tags/"+encodeURIComponent(devhd.utils.IdUtils.formatId("tag",bo,J))+"?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bm),bq,bn,{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})
}catch(bp){ERROR("ERR041 - failed to tag entries because "+bp.name+" -- "+bp.message)}}function Z(bl,bp,bo,bm){if(J==null){return devhd.fn.callback(bo,bl)}try{bl.untag(bp);DEL("!{cloud}/v3/tags/"+encodeURIComponent(devhd.utils.IdUtils.formatId("tag",bp,J))+"/"+encodeURIComponent(bl.getId())+"?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,bo,bm,{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})
}catch(bn){ERROR("ERR041 - failed to untag entries because "+bn.name+" -- "+bn.message)}}function a1(bn,bm,bl){if(J==null){return devhd.fn.callback(bm)}if(bn==null||bn.length==0){return devhd.fn.callback(bm)}aM(function(){try{var bp={action:"keepUnread",type:"entries",entryIds:[]};for(var bo=0;bo<bn.length;bo++){bp.entryIds.push(bn[bo].getId())}TPOST("!{cloud}/v3/markers?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bp),function(){try{devhd.fn.callback(bm)
}catch(br){$feedly("[reader@cloud] callback on markEntriesAsRead failed:"+br.name+" -- "+br.message)}},function(bs){try{SIGN("Keep unread error #"+bs)}catch(br){$feedly("[reader@cloud] failed to show error:"+br.name+" -- "+br.message)}},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})}catch(bq){ERROR("ERR041 - failed to mark entries because "+bq.name+" -- "+bq.message)
}})}function G(bm,bl,bo,bn){aM(function(){var br=bh(bm,true);for(var bq=0;bq<br.length;bq++){var bt=br[bq];if(bt==null||bt.unreadCount==null||bt.unreadCount==0){continue}av(bt.id,-bt.unreadCount);bb(-bt.unreadCount);for(var bp=0;bp<bt.categories.length;bp++){av(bt.categories[bp].id,-bt.unreadCount)}}var bs={action:"markAsRead",type:"categories",categoryIds:[devhd.utils.IdUtils.formatId("category",bm,J)],asOf:bl||new Date().getTime()};
POST("!{cloud}/v3/markers?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bs),bo,function(bu,bv){if(bn==null){SIGN("Mark as read error:"+errorCode)}else{devhd.fn.callback(bn,errorCode)}},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})})}function ao(bm,bl,bo,bn){aM(function(){var br=i(bm);
if(br==null||br.unreadCount==null||br.unreadCount==0){devhd.fn.callback(bo);return}av(br.id,-br.unreadCount);bb(-br.unreadCount);for(var bp=0;bp<br.categories.length;bp++){av(br.categories[bp].id,-br.unreadCount)}var bq={action:"markAsRead",type:"feeds",feedIds:[bm],asOf:bl||new Date().getTime()};POST("!{cloud}/v3/markers?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bq),bo,function(bs,bt){if(bn==null){SIGN("Mark as read error:"+errorCode)
}else{devhd.fn.callback(bn,errorCode)}},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})})}function f(bl,bn,bm){aM(function(){var bo={action:"markAsRead",type:"categories",categoryIds:[devhd.utils.IdUtils.formatId("category","global.all",J)],asOf:bl||new Date().getTime()};POST("!{cloud}/v3/markers?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bo),function(){a5(bn)
},function(bp,bq){if(bm==null){SIGN("Mark as read error:"+errorCode)}else{devhd.fn.callback(bm,errorCode)}},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})})}function am(bl,bm){TJGET("http://extractor.feedly.com/expand?u="+encodeURIComponent(bl)+"&c=1",bm,function(bo,bn){devhd.fn.callback(bm)})}function a0(bm,bq,bo,bl,bp,bn){am(bm,function(br){if(br!=null&&br.content!=null){bo=br.content
}if(br!=null&&br.expandedUrl!=null){bm=br.expandedUrl}var bs=bq;if(br!=null&&br.og!=null&&br.og.site_name!=null){bs=br.og.site_name}aL(bm,bq,bo,bs,bl,bp,bn)})}function aL(bm,bt,bq,bl,bs,br,bo){try{var bn={origin:{}};if(bm!=null){bn.alternate=[{href:bm,type:"text/html"}]}if(bt!=null){bn.title=bt}if(bq!=null){bn.content={direction:"ltr",content:bq}}if(bl!=null){bn.origin.title=bl
}bn.tags=[{id:devhd.utils.IdUtils.formatId("tag",bs,J)}];PATCH("!{cloud}/v3/entries?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bn),br,bo,{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})}catch(bp){devhd.fn.callback(bo,bp.name+" -- "+bp.message)}}function a7(bl,bm){var bo=bl.toLowerCase();
for(var bn=0;bn<bm.length;bn++){if(bm[bn].label.toLowerCase()==bo){return bm[bn].label}}return bl}function A(bp){try{var bm=[];var bl=aa.listCategories(false);for(var bn=0;bn<bp.length;bn++){bm.push(a7(bp[bn],bl))}return bm}catch(bo){$feedly("[reader] failed to correct labels because:"+bo.name+" -- "+bo.message);return bp}}function Q(bm,br,bp,bq,bn){$feedly("createSub"+bm+br);
var bl=i(bm),bt;if(bl!=null&&!bn){return false}bt=new devhd.cloud.Subscription(bl||{id:bm,title:br,});bt.userId=J;for(var bo=0;bo<bp.length;bo++){bt.addCategory(bp[bo])}if(bq.mustRead==true){bt.markAsMustRead()}else{bt.undoMarkAsMustRead()}var bs=bt.toJSON();if(!bl){U.push(bs)}if(bq.viaCollection){bs.via=bq.viaCollection;bs.viaType="library"}return bs
}function Y(bl,bm,bo){var bn={};if(bm!=null&&(bm.partial!=null||bm.view!=null)){if(bm.view!=null){bl.forEach(function(bp){bn[s(bp.id,EOS_KEY)]=bm.view})}be(bn,bo)}else{devhd.fn.callback(bo)}}function af(bl,bp,bm,bo,bn){bp=A(bp);devhd.utils.FlowUtils.sequence({},[function(bs,br){var bq=bl.map(function(bt){return Q(bt.id,bt.title,bp,bm,true)});POST("!{cloud}/v3/subscriptions/.mput?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bq),function(bt){$feedly("success from post"+bt);
devhd.fn.callback(bs)},function(bt,bu){$feedly("[reader@cloud] failed to add subscriptions (a) because:"+bt+" -- "+bu);devhd.fn.callback(br,bt)},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})},function(br,bq){Y(bl,bm,br)},function(br,bq){a5(br)}],{onSuccess:bo,onError:bn})}function bd(bl,bp,bq,bm,bo,bn){af([{id:bl,title:bp}],bq,bm,bo,bn)
}function c(bl,bo,bn,bm){devhd.utils.FlowUtils.sequence({},[function(bq,bp){DEL("!{cloud}/v3/subscriptions/"+encodeURIComponent(bl)+"?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,function(br){$feedly("[reader@cloud] delete successful:"+bl);devhd.fn.callback(bq)},function(br,bs){$feedly("[reader@cloud] failed to delete subscription (a) because:"+br+" -- "+bs);
devhd.fn.callback(bp)},{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})},function(bs,br){var bp=[];for(var bq=0;bq<U.length;bq++){if(U[bq].id!=bl){bp.push(U[bq])}}U=bp;D(bl);if(bo==true){devhd.fn.callback(bs);return}a5(bs)}],{onSuccess:bn,onError:bm})}function aU(bm,bl){if(J==null){return devhd.fn.callback(bl)}$feedly("ask read unread counts");
a5(bm)}function z(bl,bn,bm){devhd.utils.FlowUtils.sequence({},[function(br,bp){var bq=i(bl);if(bq==null){return devhd.fn.callback(br)}var bo=new devhd.cloud.Subscription(bq);bo.userId=J;bo.markAsMustRead();bq.categories=bo.categories;bq.mustRead=true;POST("!{cloud}/v3/subscriptions?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bo.toJSON()),function(bs){devhd.fn.callback(br)
},function(bs,bt){$feedly("[reader@cloud] failed to promote subscription (a) because:"+bs+" -- "+bt);devhd.fn.callback(bp)},{"$Authorization.feedly":"$FeedlyToken","Content-Type":"application/json"})},function(bp,bo){a5(bp)}],{onSuccess:bn,onError:bm})}function ax(bl,bn,bm){devhd.utils.FlowUtils.sequence({},[function(br,bp){var bq=i(bl);if(bq==null){return devhd.fn.callback(br)
}var bo=new devhd.cloud.Subscription(bq);bo.userId=J;bo.undoMarkAsMustRead();bq.categories=bo.categories;bq.mustRead=false;POST("!{cloud}/v3/subscriptions/"+encodeURIComponent(bl)+"?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,devhd.utils.JSONUtils.encode(bo.toJSON()),function(bs){devhd.fn.callback(br)},function(bs,bt){$feedly("[reader@cloud] failed to demote subscription (a) because:"+bs+" -- "+bt);
devhd.fn.callback(bp)},{"$Authorization.feedly":"$FeedlyToken","Content-Type":"application/json"})},function(bp,bo){a5(bp)}],{onSuccess:bn,onError:bm})}function az(bl){var bn=i(bl);if(bn==null){return[]}var bo=[];if(bn.categories!=null){for(var bm=0;bm<bn.categories.length;bm++){bo.push(bn.categories[bm].label)}}return bo}return aa}})();XOXOXOonFeedlyFileIncluded("mobile/profile.js");
"use strict";(function(){var a=devhd.pkg("mobile");a.createProfile=function(d){var b=devhd.model.createObservable(d);var c={};b.load=function(){};b.initialize=function(){};b.onUserIdentified=function(e){c=e!=null&&e.reader!=null?e.reader.profile:null};b.uninitialize=function(){};b.unload=function(){};b.getUserInfo=function(){return c};b.getWave=function(){if(c==null){return null
}else{return c.wave}};b.askDisconnectConnector=function(f,h,g){var e=null;switch(f){case"windowsLive":e="/v3/microsoft/liveAuth";break;case"pocket":e="/v3/pocket/auth";break;case"evernote":e="/v3/evernote/auth";break;default:}DEL("!{cloud}"+e+"?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,function(){c[f+"Connected"]=false;
devhd.fn.callback(h)},g,{"$Authorization.feedly":"$FeedlyAuth","Content-Type":"application/json"})};b.markAsConnected=function(e){if(c==null){return}c[e+"Connected"]=true};b.isConnected=function(e){if(c==null){return false}else{return c[e+"Connected"]}};return b}})();XOXOXOonFeedlyFileIncluded("mobile/suggesto.js");"use strict";(function(){var a=devhd.pkg("mobile");
a.createSuggesto=function(i){var h=devhd.model.createObservable(i);h.setMag=function(l){mag=l};h.setReader=function(l){reader=l};var b={};h.load=function(){};h.pause=function(){};h.resume=function(){};h.unload=function(){mag=null;reader=null};h.onUserIdentified=function(l){};h.getLocale=d;h.listTopics=e;h.suggestLayoutType=f;h.askGuessFeeds=j;h.askAppOfTheDay=c;
function d(){var l=SETTING("feedly_store_language")||"detect";if(l==null||l=="detect"){l=navigator.language?navigator.language:navigator.userLanguage||"en-US"}if(l.indexOf("de")=="0"){l="de"}else{if(l.indexOf("fr")=="0"){l="fr"}else{if(l.indexOf("it")=="0"){l="it"}else{if(l.indexOf("es")=="0"){l="es"}else{l="en-US"}}}}return l}function e(){var q=devhd.utils.TopicUtils[d()];
var r=[];var p={};var l=0;for(var n=0;n<q.length;n++){var m=q[n].label;if(p[q[n].label]==null){r.push({label:q[n].label,keyword:q[n].keyword||("#"+q[n].label),visual:q[n].visual||("http://s3.feedly.com/explore/"+q[n].label.replace(/\s/gi,"-")+".jpg"),related:q[n].related,order:l,rank:q[n].rank||l});l=l+1;p[m]=true}}return r.sort(function(t,s){return t.rank-s.rank
})}function f(l){return b[l]}function g(n,m){if(n==null){return[]}var q=[];for(var p=0;p<n.length&&q.length<m;p++){if(n[p].indexOf(":")>-1||n[p].indexOf("/")>-1||n[p].indexOf("[")>-1||n[p].indexOf("(")>-1||n[p]=="blog"||n[p]=="blogs"||n[p]=="tv"||n[p]=="internet"||n[p]=="media"||n[p]=="blogs2follow"||n[p]=="video"||n[p]=="daily"||n[p]=="magazine"||n[p]=="magazines"||n[p]=="websites"||n[p]=="website"||n[p]=="resources"||n[p]=="news"||n[p].indexOf("imported")>-1||n[p].indexOf("rss")>-1){continue
}q.push(n[p])}return q}function j(l,n){if(l.indexOf("http://")==0||l.indexOf("feed/http://")==0||l.indexOf("feed://")==0){devhd.fn.callback(n,[]);return}var m="!{cloud}/v3/search/feeds?q="+encodeURIComponent(l)+"&n=20&promoted="+(PRO()?"false":"true")+"&ck="+new Date().getTime();TJGET(m,function(p){if(p==null){p=[]}var r=[];var u={};var q={};var t={};
for(var s=0;s<p.length;s++){if(p[s].title.indexOf("direction:rtl")>-1){continue}if(p[s].id==null){p[s].id=p[s].feedId}p[s].id=p[s].id.replace("feed://","http://","gi");p[s].subscribers=p[s].subscribers||0;p[s].topics=p[s].topics||p[s].deliciousTags;delete p[s].deliciousTags;p[s].favicon=FAVICON(p[s].id.slice("feed/".length));if(u[p[s].website]!=null){continue
}if(t[p[s].title]!=null){continue}if(u[p[s].website]!=null){continue}if(q[p[s].id]!=null){continue}t[p[s].title]=true;u[p[s].website]=true;q[p[s].id]=true;r.push(p[s])}r=r.sort(function(w,v){return v.subscribers-w.subscribers});devhd.fn.callback(n,r)},function(p,q){devhd.fn.callback(n,[])})}function c(n,m){if(n==null){n=[]}var l="https://ads.feedly.com/app?topics="+encodeURIComponent(n.join(","))+"&ck="+new Date().getTime()+"&width="+W+"&height="+H+"&userId="+mag.getUserId()+"&locale="+h.getLocale()+"&ct="+feedlyApplicationType+"&ad="+AD+"&cv="+feedlyApplicationVersion;
TJGET(l,function(p){p.topics=n;devhd.fn.callback(m,p)},function(p){$feedly("[suggesto] failed to get app of the day:"+p);devhd.fn.callback(m)})}return h}})();XOXOXOonFeedlyFileIncluded("mobile/tracker.js");"use strict";(function(){var a=devhd.pkg("mobile");a.createTracker=function(){var l={};var g="1.0";var d=null;var u=null;var f=null;var n=false;var q=null;
var i="UA-46940058-3";var t="UA-46958742-3";var c=null;l.setReader=function(w){c=w};l.load=function(){$B.core.tracker.initWith(AD==1?i:t,10,100);u=SETTING("device_os")||"iOS";if(KINDLE()){u="kindle"}u=u+"."+AD;l.setCustomVar(1,"clientType",u.toLowerCase());l.setCustomVar(2,"feedlyVersion",feedlyApplicationVersion)};l.initialize=function(){};l.pause=function(){};
l.resume=function(){};l.unload=function(){};l.onUserIdentified=function(w){$B.core.tracker.dispatch();if(w==null||w.userId==null||c.listSubscriptions("*",false).length<=3){q="config";l.setCustomVar(3,"flowVersion","v21");l.setCustomVar(4,"userType","zombie");j("c.v20","install")}else{q="active"}if(w!=null&&w.userId==null&&oauthTrigger==true){var x=w.provider||"oops";
if(c.listSubscriptions("*",false).length==0){r("signup."+x.toLowerCase())}else{r("login."+x.toLowerCase());b()}oauthTrigger=false}};l.setCustomVar=v;l.trackPageView=r;l.trackEvent=m;l.trackEventOnce=j;l.trackContentPageView=e;function v(x,w,z,y){try{$B.core.tracker.setCustomVar(x,w,z,y||1)}catch(A){$feedly("[tracker] failed to setCustomVar because "+A.name+" -- "+A.message)
}}function e(w){if(w=="welcome"||w==null){return}var x=w.replace("://","/");if(x.indexOf("global.all")>-1){x="all"}else{if(x.indexOf("global.must")>-1){x="must"}else{if(x.indexOf("global.saved")>-1){x="saved"}else{if(x.indexOf("list/user")==0){x="category"}else{if(q=="config"&&x.indexOf("list/feed")){x="feed"}}}}}r(x)}function r(w){try{$B.core.tracker.trackPageView(w)
}catch(x){$feedly("[tracker] failed to trackPageView because "+x.name+" -- "+x.message)}}function m(x,z,w,y){try{$B.core.tracker.trackEvent(x,z,w,y)}catch(A){$feedly("[tracker] failed to trackEvent because "+A.name+" -- "+A.message)}}function j(y,A,w,z){try{var x="tracker."+g+"/event/"+y+"."+A+"/once";if(LREAD(x)=="yes"){return}m(y,A,w,z);if(A=="install"){h()
}$B.core.tracker.dispatch();LWRITE(x,"yes")}catch(B){$feedly("[tracker] failed to trackEventOnce because "+B.name+" -- "+B.message)}}function b(){if(n!=true){return}try{p("AWARENESS:"+(SETTING("device_os")||"iOS")+"."+(AD==1?"phone":"tablet")+".notnew");n=false}catch(w){$feedly("[tracker] failed to undo the awarenessMarker:"+w.name+" -- "+w.message)
}}function h(){p("AWARENESS:"+(SETTING("device_os")||"iOS")+"."+(AD==1?"phone":"tablet"));n=true}function s(x){try{var w="tracker."+g+"/page/"+x;if(LREAD(w)=="yes"){return}$B.core.tracker.trackPageView(x);$B.core.tracker.dispatch();LWRITE(w,"yes")}catch(y){$feedly("[tracker] failed to trackPageViewOnce because "+y.name+" -- "+y.message)}}function p(w){POST("!{cloud}/v3/dailycounter/"+w+"?ck="+new Date().getTime()+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion,"",function(){},function(){},"application/json",{"Content-Type":"application/json"})
}return l}})();XOXOXOonFeedlyFileIncluded("mobile/nikon.js");"use strict";(function(){var a=devhd.pkg("mobile");a.createNikon=function(j){var g=devhd.model.createObservable(j);var b={};var e=null;var c=1000*20;g.load=function(){};g.unload=function(){i();for(var l in b){if(b[l].image!=null){b[l].image.src="data:image/gif;base64,R0lGODlhCwALAIAAAAAA3pn/ZiH5BAEAAAEALAAAAAALAAsAAAIUhA+hkcuO4lmNVindo7qyrIXiGBYAOw=="
}delete b[l]}b={}};g.askImage=function(m,n){h();var l=b[m];if(l){l.callbacks.push(n);return}b[m]=l={};l.callbacks=[n];l.expire=new Date().getTime()+c;l.image=new Image();l.image.onload=d;l.image.src=m};function h(){if(e==null){e=document.defaultView.setInterval(f,10*1000)}}function i(){if(e){document.defaultView.clearInterval(e);e=null}}function d(){this.onload=null;
var l=b[this.src];if(l==null){if(this.src.indexOf("data:")==0){return}return}while(l.callbacks.length){try{l.callbacks.pop().call(g,this.src,this,this.width,this.height)}catch(m){$feedly("[nikon] failed to callback requestor:"+this.src+" -- exception:"+m.name+" -- "+m.message)}}delete b[this.src]}function f(){var l,p=[],n,m=new Date().getTime(),q=0;
for(n in b){l=b[n];if(m>l.expire){l.image.src="data:image/gif;base64,R0lGODlhCwALAIAAAAAA3pn/ZiH5BAEAAAEALAAAAAALAAsAAAIUhA+hkcuO4lmNVindo7qyrIXiGBYAOw==";while(l.callbacks.length){l.callbacks.pop().call(g,n,null,0,0)}p.push(n)}else{q++}}if(q==0){i()}while(p.length){delete b[p.pop()]}}return g}})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.invite.js");
templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.invite=templates.mobile.invite||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.invite;function g(m){var l=arguments,j;for(j=1;j<l.length;j++){m.push(l[j])}}function d(j){try{if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j
}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.subject=function(){var j=[];g(j,e[0]);return j.join(f)};i.body=function(j){var l=[];g(l,e[1]);return l.join(f)};e=[" I am using feedly! ",' \nI have found a fast and stylish way to follow, read and share the content of my favorite websites. \nIt is called feedly. It integrates seamlessly with Google Reader and \nworks on all my devices. Check it out!<br> \n<a href="http://www.feedly.com/k/feedly-invite">http://www.feedly.com/k/feedly-invite</a><br> \n']
})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.grid.js");templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.grid=templates.mobile.grid||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.grid;function g(m){var l=arguments,j;for(j=1;j<l.length;j++){m.push(l[j])}}function d(j){try{if(j==null){return""
}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.layoutGrid=function(n,q,t,m){var x=[];var v=null;for(var r=0;r<t.length;r++){var A=t[r];var p=q[r];if(p==null){return ERROR("GRID011 - failed to find module:"+r)}var l=null;if(ESB["images.debug"]==true&&(A.metadata.featuredVisual==null||A.metadata.featuredVisual.cached==null)){l="opacity: 0.3"
}var s="none";if(A.metadata.featuredVisual!=null&&A.metadata.featuredVisual.cached!=null){s=(new Date().getTime()-A.metadata.featuredVisual.cached)+"ms ago // "+A.metadata.featuredVisual.nikon+"ms";A.metadata.caching=s}try{if(p.marginTop!=null){g(x,e[0],-OUTER,e[1],-OUTER,e[2],OUTER,e[3],p.marginTop,e[4])}if(p.column!=v){if(v!=null){g(x,e[5])}if(p.column!=null){g(x,e[6],p.cell.width,e[7],OUTER,e[8],p.column,e[9])
}v=p.column}var w=p.cell;var z=p.template.split(".")[0];var j=templates.mobile["d"+AD][z]||templates.mobile.grid[z];if(j==null){return ERROR("GRID010 - failed to find template:"+JSON.stringify(p))}g(x,e[10],t[r].getId(),e[11],t[r].getId(),e[12],s,e[13],p.showcased==true||p.snap!=null?"yes":"no",e[14],p.ad==true?"":"",e[15],p.showcased==true||p.snap!=null?" showcased ":"",e[16],templates.mobile.grid.cell(w.w,w.W,w.h,w.H,{orientation:n,marginTop:p.cell.marginTop,cssFloat:"left",snap:p.snap,showcased:p.showcased||p.snap!=null,debugDirective:l}),e[17]);
try{g(x,e[18],j(t[r],p,m),e[19])}catch(y){g(x,e[20],y.name+" -- "+y.message,e[21],t[r].getTitle(),e[21],JSON.stringify(p),e[19])}g(x,e[22])}catch(u){ERROR("FLEX001 - Failed to render card for: "+t[r].getTitle()+" using "+JSON.stringify(p)+" size : "+(t[r].metadata.featuredVisual==null?"n/a":t[r].metadata.featuredVisual.size)+" because "+u.name+" -- "+u.message)
}}if(v!=null){g(x,e[5])}v=null;return x.join(f)};i.cell=function(j,u,q,v,z){var x=[];z=z||{};var w="";if(z.backgroundColor!=null){w="background-color:"+z.backgroundColor}if(z.showcased==true){w=""}var l=0;var y=0;var r=0;var p=0;var t=OUTER;var n=0;var s=OUTER;var m=0;if(z.snap!=null&&(z.snap=="all"||z.snap.indexOf("top")>-1)){l+=-OUTER;y+=OUTER}if(z.snap!=null&&(z.snap=="all"||z.snap.indexOf("left")>-1)){r+=-OUTER;
p+=OUTER}if(z.snap!=null&&(z.snap=="all"||z.snap.indexOf("right")>-1)){t+=-OUTER;n+=OUTER}if(z.snap!=null&&(z.snap=="all"||z.snap.indexOf("bottom")>-1)){s+=-(OUTER+LOCATOR);m+=OUTER+LOCATOR}g(x,e[23],CW(j,u,z.inner),e[24],CH(q,v,z.marginTop,z.inner),e[25],z.cssFloat=="right"?"right":"left",e[26],t,e[27],n,e[2],s,e[28],m,e[29],r,e[30],p,e[1],l,e[31],y,e[2],z.inner||INNER,e[32],w,e[33],z.debugDirective!=null?z.debugDirective:"",e[34]);
return x.join(f)};i.dateAsDuration=function(j,p){var m=[];var l=p!=null&&p.source=="feed"&&j.listAuthors().length==0;var n=l;g(m,templates.mobile.dateAsDuration(j.getCrawledDate(),{},n,l));return m.join(f)};i.etiquettes=function(j,m){var l=[];var n=j.getEtiquette();var q=j.metadata.cover;var p=m!=null?m.marginBottom:null;if(n!=null){g(l,e[35],p,e[36],n,e[37])
}else{if(q!=null){g(l,e[38],p!=null?"margin-bottom:"+p+"px":"",e[39],q,e[37])}}if(n!=null||q!=null){g(l,e[40])}return l.join(f)};i.summary=function(t,p,q,w,n){var r=[];w=w||{};var v=w.summarySize;var m=w.lineHeightFactor||1.35;if(v==null){v=AD==1?200:1000}var s=Math.floor(p*m);var u=w.lines!=null?w.lines:100;var l=w.marginTop||0;var j=null;if(w.textWidth!=null){j=Math.floor((w.textWidth-OUTER-50)/9)
}if(q==null){q=p}if(u>0){g(r,e[41],p,e[42],s,e[1],l,e[43],s,e[44],u,e[9],t.getHighlightedSummary(v),e[37])}g(r,e[45],q,e[46],q,e[47],s,e[48],s,e[49],t.getId(),e[50],t.isHot()?"hot":"",e[51],t.getEngagement()==0&&t.isQuicklisted()==false?"none":"inline",e[9]);g(r,templates.mobile.meta(t));g(r,e[52]);g(r,i.sourceOrAuthor(t,j,n));g(r,i.dateAsDuration(t,n));
g(r,e[53]);return r.join(f)};i.sourceOrAuthor=function(j,n,m){var l=[];n=n||14;if(m==null||m.source!="feed"){g(l,e[15],d(devhd.utils.StringUtils.ellipcify(j.getCleanSourceTitle(),AD==1?n:n+8)),e[19])}else{if(j.listAuthors().length>0){g(l,e[54],d(devhd.utils.StringUtils.ellipcify(j.listAuthors(),AD==1?n:n+8)),e[19])}}return l.join(f)};i.horizontal=function(j,n,m){var l=[];
var p=n["condensed.horizontal"]||n.condensed||false;if(p){g(l,i.horizontalCondensed(j,n,m))}else{if(AD==1&&false){g(l,i.horizontalNormalRight(j,n,m))}else{g(l,i.horizontalNormal(j,n,m))}}return l.join(f)};i.horizontalCondensed=function(z,w,j){var x=[];var t=w["spacer.horizontal"]||w.spacer;var r=w["headerLineFactor.vertical"]||w.headerLineFactor;var B=w["header.horizontal.condensed"]||w["header.horizontal"]||w.header;
var p=w["copy.horizontal.condensed"]||w["copy.horizontal"]||w.copy;var s=w["meta.horizontal.condensed"]||w["meta.horizontal"]||w.meta;var A=w["visualFloat.horizontal"]||w.visualFloat||w.visualFloat||"left";var n=true;var q="split";var u=Math.floor(OUTER/2);var l=2;var y=-OUTER;if(z.isTitleRTL()){if(A=="right"){A="left"}if(A=="left"){A="right"}}var m=OUTER;
var v=LETTER_SPACING;if(parseInt(B)<=16){v="0.0em"}else{if(parseInt(B)<=18){v="-0.02em"}}g(x,e[55],-OUTER/2,e[2],-OUTER,e[56],w.cell.height+OUTER-(n?1:0),e[57],"transparent"||feedlyTheme.ma_separator,e[58],c(z.getTitle()),e[59],w.cell.height+OUTER-(n?1:0)-2*l,e[60],l,e[61],OUTER,e[62],z.isTitleRTL()?"rtl":"ltr",e[63],z.isTitleRTL()?"right":"left",e[64],z.getId(),e[65],q,e[66],feedlyFont.nudge,e[67],z.isRead()?"read":"unread",e[46],B,e[68],v,e[69],Math.floor(B*r),e[36],z.getHighlightedTitle(),e[37]);
g(x,i.summary(z,p,s,{textWidth:w.cell.width,lineHeightFactor:1.35},j));g(x,e[70]);return x.join(f)};i.horizontalCondensed_=function(x,u,j){var v=[];var s=u["spacer.horizontal"]||u.spacer;var q=u["headerLineFactor.vertical"]||u.headerLineFactor;var y=u["header.horizontal.condensed"]||u["header.horizontal"]||u.header;var n=u["copy.horizontal.condensed"]||u["copy.horizontal"]||u.copy;
var r=u["meta.horizontal.condensed"]||u["meta.horizontal"]||u.meta;var m=true;var p="split";var t=Math.floor(OUTER/2);var w=-OUTER;if(x.isTitleRTL()){if(cssFloat=="right"){cssFloat="left"}if(cssFloat=="left"){cssFloat="right"}}var l=OUTER;g(v,e[55],-OUTER,e[2],-OUTER,e[56],u.cell.height+OUTER-(m?1:0),e[57],feedlyTheme.ma_separator,e[58],c(x.getTitle()),e[59],u.cell.height,e[60],OUTER,e[61],OUTER,e[62],x.isTitleRTL()?"rtl":"ltr",e[63],x.isTitleRTL()?"right":"left",e[71],x.getId(),e[65],p,e[72],t,e[73],feedlyFont.nudge,e[67],x.isRead()?"read":"unread",e[46],y,e[47],Math.floor(y*q),e[36],x.getTitle(),e[37]);
g(v,i.summary(x,n,r,{textWidth:u.cell.width},j));g(v,e[70]);return v.join(f)};i.horizontalNormal=function(y,r,l){var F=[];var q=r["spacer.horizontal"]||r.spacer;var D=r["headerLineFactor.vertical"]||r.headerLineFactor;var m=r["header.horizontal"]||r.header;var j=r.copy;var p=r["meta.horizontal.condensed"]||r["meta.horizontal"]||r.meta;var E=r["visualFloat.horizontal"]||r.visualFloat||r.visualFloat||"left";
var n=false;var A="top";var v=0;var z=0;if(y.isTitleRTL()){if(E=="right"){E="left"}if(E=="left"){E="right"}}var C="";if(y.metadata.featuredVisual!=null){C="background-image: ";if(y.metadata.video==true){if(y.metadata.featuredVisual.width>400){C+="url( "+usvg("mobile-play")+" ), ";cl+=" video1"}else{C+="url( "+usvg("mobile-play-small")+" ), ";cl+=" video2"
}}C+="url( "+y.metadata.featuredVisual.url+" )"}var s=y.metadata.featuredVisual!=null?y.metadata.featuredVisual.width:r.sizes[0][0];var x=s+OUTER;var B=E=="left"?"margin-left:"+x+"px;":"margin-right:"+x+"px;";if(r.placeholder===false&&y.metadata.featuredVisual==null){B="margin-left:"+0+"px; margin-right:"+OUTER+"px;"}else{if(r.placeholder=="if needed"&&l.withVisuals==0){B="margin-left:"+0+"px; margin-right:"+OUTER+"px;"
}}var u=LETTER_SPACING;if(parseInt(m)<=16){u="0.0em"}else{if(parseInt(m)<=18){u="-0.02em"}}g(F,e[74],z,e[2],z,e[56],r.cell.height-z-(n?1:0),e[32],n?"border-bottom: 1px solid "+feedlyTheme.ma_separator:"",e[9]);if(y.metadata.featuredVisual!=null){var t=y.metadata.featuredVisual;g(F,e[75],E,e[76],Math.floor(-z/2),e[77],t.width,e[3],t.height,e[32],C,e[78])
}g(F,e[79],c(y.getTitle()),e[59],r.cell.height-z,e[80],B,e[81],y.isTitleRTL()?"rtl":"ltr",e[63],y.isTitleRTL()?"right":"left",e[71],y.getId(),e[65],A,e[72],v,e[73],feedlyFont.nudge,e[67],y.isRead()?"read":"unread",e[46],m,e[82],u,e[69],Math.floor(m*D),e[36],y.getHighlightedTitle(),e[37]);g(F,i.summary(y,j,p,{textWidth:r.cell.width-(y.metadata.featuredVisual!=null?y.metadata.featuredVisual.width:0)},l));
g(F,e[70]);return F.join(f)};i.horizontalNormalRight=function(y,r,l){var F=[];var q=r["spacer.horizontal"]||r.spacer;var D=r["headerLineFactor.vertical"]||r.headerLineFactor;var m=r["header.horizontal"]||r.header;var j=r.copy;var p=r["meta.horizontal.condensed"]||r["meta.horizontal"]||r.meta;var E=r["visualFloat.horizontal"]||r.visualFloat||r.visualFloat||"right";
var n=false;var A="top";var v=0;var z=0;if(y.isTitleRTL()){if(E=="right"){E="left"}if(E=="left"){E="right"}}var C="";if(y.metadata.featuredVisual!=null){C="background-image: ";if(y.metadata.video==true){if(y.metadata.featuredVisual.width>400){C+="url( "+usvg("mobile-play")+" ), ";cl+=" video1"}else{C+="url( "+usvg("mobile-play-small")+" ), ";cl+=" video2"
}}C+="url( "+y.metadata.featuredVisual.url+" )"}var s=y.metadata.featuredVisual!=null?y.metadata.featuredVisual.width:r.sizes[0][0];var x=s+OUTER;var B=E=="left"?"margin-left:"+x+"px;":"margin-right:"+x+"px;";if(r.placeholder===false&&y.metadata.featuredVisual==null){B="margin-left:"+0+"px; margin-right:"+OUTER+"px;"}else{if(r.placeholder=="if needed"&&l.withVisuals==0){B="margin-left:"+0+"px; margin-right:"+OUTER+"px;"
}}var u=LETTER_SPACING;if(parseInt(m)<=16){u="0.0em"}else{if(parseInt(m)<=18){u="-0.02em"}}g(F,e[74],z,e[2],z,e[56],r.cell.height-z-(n?1:0),e[32],n?"border-bottom: 1px solid "+feedlyTheme.ma_separator:"",e[9]);if(y.metadata.featuredVisual!=null){var t=y.metadata.featuredVisual;g(F,e[75],E,e[76],Math.floor(-z/2),e[77],t.width,e[3],t.height,e[32],C,e[78])
}g(F,e[79],c(y.getTitle()),e[59],r.cell.height-z,e[80],B,e[81],y.isTitleRTL()?"rtl":"ltr",e[63],y.isTitleRTL()?"right":"left",e[71],y.getId(),e[65],A,e[72],v,e[73],feedlyFont.nudge,e[67],y.isRead()?"read":"unread",e[46],m,e[82],u,e[69],Math.floor(m*D),e[36],y.getHighlightedTitle(),e[37]);g(F,i.summary(y,j,p,{textWidth:r.cell.width-(y.metadata.featuredVisual!=null?y.metadata.featuredVisual.width:0)},l));
g(F,e[70]);return F.join(f)};i.vertical=function(y,u,j){var w=[];var s=u["spacer.vertical"]||u.spacer;var q=u["headerLineFactor.vertical"]||u.headerLineFactor;var n=u["copyLineFactor.vertical"]||u.copyLineFactor;var z=u["header.vertical"]||u.header;var p=u.copy;var r=u["meta.horizontal.condensed"]||u["meta.horizontal"]||u.meta;var m=u["clip.vertical"]||u.clip||600;
var v="visual";var l="";if(y.metadata.featuredVisual!=null){l="background-image: ";if(y.metadata.video==true){if(y.metadata.featuredVisual.width>400){l+="url( "+usvg("mobile-play")+" ), ";v+=" video1"}else{l+="url( "+usvg("mobile-play-small")+" ), ";v+=" video2"}}l+="url( "+y.metadata.featuredVisual.url+" )"}var t=LETTER_SPACING;if(parseInt(z)<=16){t="0.0em"
}else{if(parseInt(z)<=18){t="-0.02em"}}g(w,e[83],c(y.getTitle()),e[59],u.cell.height,e[64],y.getId(),e[84],y.isRead()?"read":"unread",e[85],s,e[86],z,e[82],t,e[69],Math.floor(z*q),e[36],y.getHighlightedTitle(),e[37]);if(y.metadata.featuredVisual!=null){var x=y.metadata.featuredVisual;g(w,e[87],v,e[88],s,e[77],x.width,e[3],x.height,e[32],l,e[9]);if(y.metadata.video==true){}g(w,e[5])
}g(w,i.summary(y,p,r,{marginTop:s,textWidth:u.cell.width},j));g(w,e[70]);return w.join(f)};i.verticalUp=function(y,u,j){var w=[];var s=u["spacer.vertical"]||u.spacer;var q=u["headerLineFactor.vertical"]||u.headerLineFactor;var n=u["copyLineFactor.vertical"]||u.copyLineFactor;var z=u["header.vertical"]||u.header;var p=u.copy;var r=u["meta.horizontal.condensed"]||u["meta.horizontal"]||u.meta;
var m=u["clip.vertical"]||u.clip||600;var v="visual";var l="";if(y.metadata.featuredVisual!=null){l="background-image: ";if(y.metadata.video==true){if(y.metadata.featuredVisual.width>400){l+="url( "+usvg("mobile-play")+" ), ";v+=" video1"}else{l+="url( "+usvg("mobile-play-small")+" ), ";v+=" video2"}}l+="url( "+y.metadata.featuredVisual.url+" )"}var t=LETTER_SPACING;
if(parseInt(z)<=16){t="0.0em"}else{if(parseInt(z)<=18){t="-0.02em"}}g(w,e[83],c(y.getTitle()),e[59],u.cell.height,e[9]);if(y.metadata.featuredVisual!=null){var x=y.metadata.featuredVisual;g(w,e[87],v,e[89],s,e[77],x.width,e[3],x.height,e[32],l,e[78])}g(w,e[90],y.getId(),e[84],y.isRead()?"read":"unread",e[85],s,e[86],z,e[82],t,e[69],Math.floor(z*q),e[36],y.getHighlightedTitle(),e[37]);
g(w,i.summary(y,p,r,{marginTop:s,textWidth:u.cell.width},j));g(w,e[70]);return w.join(f)};i.typo=function(w,u,n){var E=[];var t=u["spacer.typo"]||u.spacer;var A=u["headerLineFactor.typo"]||u.headerLineFactor;var y=u.snap;var x=u.showcased;var p=u["header.typo"]||u.header;if(p>32){if(w.getTitle().split(" ").length>24){p=Math.floor(p*0.5)}else{if(w.getTitle().split(" ").length>18){p=Math.floor(p*0.6)
}else{if(w.getTitle().split(" ").length>12){p=Math.floor(p*0.7)}else{if(w.getTitle().split(" ").length>6){p=Math.floor(p*0.85)}}}}}var j=u.copy;var r=u["meta.horizontal.condensed"]||u["meta.horizontal"]||u.meta;var D=u["columnCount.typo"]||u.columnCount||1;var z=u["align.typo"]||u.align;var m=u["lines.typo"]||u.lines;var l=0,C=0,B=0,q=0,s=0;if(y!=null){if(y.indexOf("all")==-1&&y.indexOf("right")==-1){l=OUTER
}if(y.indexOf("all")==-1&&y.indexOf("left")==-1){C=OUTER}if(y.indexOf("all")==-1&&y.indexOf("top")==-1){B=OUTER;s+=OUTER}if(y.indexOf("all")==-1&&y.indexOf("bottom")==-1){q=OUTER;s+=OUTER}}else{if(x){l=OUTER;C=OUTER;B=OUTER;q=OUTER;s+=2*OUTER}}var v=LETTER_SPACING;if(parseInt(p)<=16){v="0.0em"}else{if(parseInt(p)<=18){v="-0.02em"}}g(E,e[91],x,e[92],c(w.getTitle()),e[59],u.cell.height-s,e[93],C,e[27],l,e[31],B,e[28],q,e[62],w.isTitleRTL()?"rtl":"ltr",e[63],w.isTitleRTL()?"right":"left",e[64],w.getId(),e[84],w.isRead()?"read":"unread",e[46],p,e[68],v,e[69],Math.floor(p*A),e[94],z,e[9]);
g(E,i.etiquettes(w));g(E,e[18],w.getHighlightedTitle(),e[37]);g(E,i.summary(w,j,r,{summarySize:1500,lines:m,textWidth:u.cell.width},n));g(E,e[53]);return E.join(f)};i.floating=function(x,s,j){var u=[];var q=s["spacer.floating"]||s.spacer;var n=s["headerLineFactor.floating"]||s.headerLineFactor;var z=s["visualFloat.floating"]||s.visualFloat||"left";var y=s["header.floating"]||s.header;
if(x.getTitle().split(" ").length>24){y=Math.floor(y*0.8)}else{if(x.getTitle().split(" ").length>18){y=Math.floor(y*0.9)}}var m=s.copy;var p=s["meta.horizontal.condensed"]||s["meta.horizontal"]||s.meta;var t="floatingVisual";var l="";if(x.metadata.featuredVisual!=null){l="background-image: ";if(x.metadata.video==true){if(x.metadata.featuredVisual.width>400){l+="url( "+usvg("mobile-play")+" ), ";
t+=" video1"}else{l+="url( "+usvg("mobile-play-small")+" ), ";t+=" video2"}}l+="url( "+x.metadata.featuredVisual.url+" )"}var r=LETTER_SPACING;if(parseInt(y)<=16){r="0.0em"}else{if(parseInt(y)<=18){r="-0.02em"}}g(u,e[95],c(x.getTitle()),e[59],s.cell.height,e[96],x.isTitleRTL()?"rtl":"ltr",e[63],x.isTitleRTL()?"right":"left",e[64],x.getId(),e[84],x.isRead()?"read":"unread",e[46],y,e[68],r,e[69],Math.floor(y*n),e[97],q,e[36],x.getHighlightedTitle(),e[37]);
if(x.metadata.featuredVisual!=null){var v=x.metadata.featuredVisual;var w=Math.floor(v.height/19)*19;g(u,e[98],t,e[99],z,e[100],z=="left"?"right":"left",e[101],OUTER,e[77],v.width,e[3],w,e[32],l,e[78])}g(u,i.summary(x,m,p,{summarySize:4000,textWidth:s.cell.width-(x.metadata.featuredVisual!=null?x.metadata.featuredVisual.width:0)},j));g(u,e[70]);return u.join(f)
};i.quote=function(j,n,m){var l=[];g(l,e[102]);return l.join(f)};i.inline=function(z,v,j){var x=[];var s=v["spacer.inline"]||v.spacer;var q=v["headerLineFactor.inline"]||v.headerLineFactor;var m=v["copyLineFactor.inline"]||v.copyLineFactor;var B=v["header.inline"]||v.header;if(z.getTitle().split(" ").length>24){B=Math.floor(B*0.8)}else{if(z.getTitle().split(" ").length>16){B=Math.floor(B*0.9)
}}var n=v.copy;var r=v["meta.horizontal.condensed"]||v["meta.horizontal"]||v.meta;var p=v["align.inline"]||v.align||"top";var A=v["lines.inline"]||v.lines;var w="visual flexible";var l="";if(z.metadata.featuredVisual!=null){l="background-image: ";if(z.metadata.video==true){if(z.metadata.featuredVisual.width>400){l+="url( "+usvg("mobile-play")+" ), ";
w+=" video1"}else{l+="url( "+usvg("mobile-play-small")+" ), ";w+=" video2"}}l+="url( "+z.metadata.featuredVisual.url+" )"}var t=z.getTitle();var u=LETTER_SPACING;if(parseInt(B)<=16){u="0.0em"}else{if(parseInt(B)<=18){u="-0.02em"}}g(x,e[103],c(z.getTitle()),e[59],v.cell.height,e[96],z.isTitleRTL()?"rtl":"ltr",e[63],z.isTitleRTL()?"right":"left",e[104],z.getId(),e[84],z.isRead()?"read":"unread",e[46],B,e[68],u,e[69],Math.floor(B*q),e[2],s,e[94],p,e[9]);
g(x,i.etiquettes(z));g(x,e[18],z.getHighlightedTitle(),e[37]);if(z.metadata.featuredVisual!=null){var y=z.metadata.featuredVisual;g(x,e[87],w,e[88],s,e[97],s,e[77],y.width,e[3],y.height,e[32],l,e[78])}g(x,i.summary(z,n,r,{summarySize:2000,lines:A,marginTop:s,textWidth:v.cell.width},j));g(x,e[70]);return x.join(f)};i.vignette=function(A,v,n){var N=[];
var u=v["spacer.vignette"]||v.spacer;var K=v["headerLineFactor.vignette"]||v.headerLineFactor;var L=v["pad.vignette"]||v.pad||6;var q=v["header.vignette"]||v.header;if(A.getTitle().split(" ").length>24){q=Math.floor(q*0.8)}else{if(A.getTitle().split(" ").length>18){q=Math.floor(q*0.85)}else{if(A.getTitle().split(" ").length>12){q=Math.floor(q*0.9)}else{if(A.getTitle().split(" ").length>6){q=Math.floor(q*0.95)
}}}}var l=v.copy;var s=v["meta.horizontal.condensed"]||v["meta.horizontal"]||v.meta;var t="visual flexible";var J=false;var I="";if(A.metadata.featuredVisual!=null){I="background-image: ";if(A.metadata.video==true){if(A.metadata.featuredVisual.width>400){I+="url( "+usvg("mobile-play")+" ), ";t+=" video1"}else{I+="url( "+usvg("mobile-play-small")+" ), ";
t+=" video2"}}I+="url( "+A.metadata.featuredVisual.url+" )"}var G=0,E=0,C=0,j=0,B=L;var M=false;var m=v.snap;if(m!=null&&(m=="all"||m.indexOf("top")>-1)){C+=-OUTER;M=true}if(m!=null&&(m=="all"||m.indexOf("left")>-1)){G+=-OUTER;M=true}if(m!=null&&(m=="all"||m.indexOf("right")>-1)){E+=-OUTER;M=true}if(m!=null&&(m=="all"||m.indexOf("bottom")>-1)){j+=-(OUTER+LOCATOR);
M=true}if(M==true){B=OUTER}var F=v.cell.height>200?3:1;if(J==true&&F>1){F=1}var D=v.cell.height>200?6*q:3*q;if(J==true){D=OUTER}var z=Math.floor(q*K);var w=2;var r=A.getEtiquette();var y=0;if(r!=null){y=30}var x=LETTER_SPACING;if(parseInt(q)<=16){x="0.0em"}else{if(parseInt(q)<=18){x="-0.02em"}}g(N,e[105],J?"minimalist":"",e[106],t,e[92],c(A.getTitle()),e[107],v.cell.height-j-C,e[108],M?"border-radius:0px":"",e[109],G,e[110],E,e[111],C,e[97],j,e[77],v.cell.width-G-E,e[3],v.cell.height-C-j,e[32],I,e[64],A.getId(),e[112],A.isRead()?"read":"unread",e[113],v.cell.width-G-E-2*B,e[28],B,e[30],B,e[27],B,e[31],D,e[86],q,e[47],Math.floor(q*K),e[62],A.isTitleRTL()?"rtl":"ltr",e[63],A.isTitleRTL()?"right":"left",e[114],q,e[69],z,e[68],x,e[115],z+w+y,e[116],F*z+w+y,e[117]);
g(N,i.etiquettes(A,{marginBottom:5}));g(N,e[18],A.getHighlightedTitle(),e[37]);if(J!=true){g(N,i.summary(A,l,s,{summarySize:0,lines:0,marginTop:u,textWidth:v.cell.width},n))}g(N,e[118]);return N.join(f)};e=[' <div style="position:relative; z-index: 2; margin-left:',"px; margin-top:","px; margin-bottom:","px; height:",'px"></div> \n'," </div> \n",' <div style="float:left; width:',"px; margin-right:",'" data-column="','"> \n','\n<div id="','_main" \ndata-entryId="','" \ndata-caching="','" \ndata-showcased="','" \nclass="cell '," ",' touchable" '," \n> \n","\n"," \n","\nError: ","<br/> \n",'\n<div style="clear:both"></div> \n</div> \n','\nstyle="width:',"; height: ","; float:","; margin-right:","px; padding-right:","px; padding-bottom:","px; margin-left:","px; padding-left:","px; padding-top:","px; ","; ",'" \n',' <div class="etiquette" style="margin-bottom:','px"> \n'," \n</div> \n",' <div class="etiquette" style="','; margin-left: 1px"> \n',' <div style="clear:both"></div> \n',' <div class="summary" style="font-size:',"; max-height:0px; line-height:",'px" data-line-height="','" data-lines="',' <div class="metadata meta','" style="font-size:',"px; line-height:","px; max-height:",'px; overflow:hidden"> \n<span id="','_meta" class="likes ','" style="display:',"\n</span> \n","\n</div> \n"," by ",'\n<div class="horizontal condensed" style="margin-top:',"px; background-color_: yellow; height:","px; border-bottom: 1px solid ",'"> \n<div class="flexible" data-debug="','" data-height="','" style="padding-top:',"px; margin-left: 0px; margin-right:","px; direction:","; text-align:",'"> \n<div id="','_main_title" data-align="','" data-padding="0" data-nudge="','" class="title ',"px; letter-spacing:","; line-height:","\n</div> \n</div> \n",'; "> \n<div id="','" data-padding="','" data-nudge="','\n<div class="horizontal" style="margin-top:',' <div class="visual" data-floating="yes" \nstyle="float:',"; margin-top:","px; width:",'"> \n</div> \n',' <div class="flexible" data-debug="','" style="'," direction:","px; letter-spacing: ",'\n<div class="vertical"> \n<div class="flexible" data-debug="','_main_title" class="title ','" style="margin-bottom: ',"px; font-size:",' <div class="','" \nstyle="margin-top: ','" \nstyle="margin-bottom: ',' \n<div id="','\n<div class="typo flexible" data-showcased="','" data-debug="','" style="padding-left:','px" data-align="','\n<div class="floating"> \n<div class="flexible" data-debug="','" style="direction:',"px; margin-bottom: ",'\n<div class="','" \nstyle="float:',"; margin-",": "," \nQuote! \n",'\n<div class="inline"> \n<div class="flexible" data-debug="',';"> \n<div id="','\n<div class="vignette ','"> \n<div class="','" \ndata-height="','" \nstyle="position: relative; ',"; margin-left: ","px; margin-right: ","px; margin-top: ",'_main_title" \nclass="title ','" \nstyle="position: absolute; bottom: 0px; width: ','"> \n<div style="font-size: ',"; min-height:","; max-height_:",'px; overflow:hidden"> \n'," </div> \n</div> \n</div> \n"]
})();XOXOXOonFeedlyFileIncluded("mobile/templates.mobile.d2.js");templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.d2=templates.mobile.d2||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.d2;function g(m){var l=arguments,j;for(j=1;j<l.length;j++){m.push(l[j])}}function d(j){try{if(j==null){return""
}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(l){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.covered=function(j,p,m){var l=[];var n=j.metadata.featuredVisual;if(n!=null&&n.size==0){g(l,templates.mobile.grid.vignette(j,p,m))}else{g(l,templates.mobile.grid.typo(j,p,m))}return l.join(f)};i.popular=function(j,p,m){var l=[];var n=j.metadata.featuredVisual;if(n!=null&&n.size==0){g(l,templates.mobile.grid.vignette(j,p,m))
}else{g(l,templates.mobile.grid.typo(j,p,m))}return l.join(f)};i.card=function(j,p,m){var l=[];var n=j.metadata.featuredVisual;if(n!=null&&n.size==0){g(l,templates.mobile.grid.vignette(j,p,m))}else{g(l,templates.mobile.grid.typo(j,p,m))}return l.join(f)};e=[]})();XOXOXOonFeedlyFileIncluded("mobile/card.base.js");"use strict";(function(){var b=devhd.pkg("cards");
b.BaseCard=function(){this.options={};this.metadata={}};var a=b.BaseCard.prototype={};devhd.addFeature(a,devhd.features.schedule);devhd.addFeature(a,devhd.features.bind);a.setCardId=function(d){this.cardId=d};a.getCardId=function(){return this.cardId};a.isCover=function(){return false};a.setPart=function(d){this.part=d};a.setSection=function(d){this.section=d
};a.getSection=function(){return this.section};a.setOptions=function(d){this.options=d};a.getOption=function(d){if(this.options==null){return null}return this.options[d]};a.setMetadata=function(d){this.metadata=metadata};a.getMetadata=function(d){if(this.metadata==null){return null}return this.metadata[d]};a.setMag=function(d){this.mag=d};a.setGrid=function(d){this.grid=d
};a.setReader=function(d){this.reader=d};a.setHolmes=function(d){this.holmes=d};a.setSuggesto=function(d){this.suggesto=d};a.setProfile=function(d){this.profile=d};a.element=function(d){return document.getElementById(d)};a.destroy=function(){this.destroyBase()};a.destroyBase=function(){this.unbindAll();this.part=null;this.mag=null;this.reader=null;this.holmes=null;
this.suggesto=null;this.grid=null;this.profile=null;this.state="destroyed"};a.isDestroyed=function(){return this.state=="destroyed"};a.prepare=function(){if(this["prepared."+ORIENTATION()]==true){return}try{this["prepared."+ORIENTATION()]=true;if(ESB["grid.debug"]){$feedly("[grid] prepare card:"+this.getCardId())}if(this.entries==null||this.entries.length==0){return
}var g=this.getOption("layout");for(var f=0;f<this.entries.length;f++){var d=this.grid.lookupModule(g,ORIENTATION(),f);if(d==null){ERROR("ERR BC-008 - layout not found:"+g+"["+f+"]");return}if(d.sizes!=null&&d.sizes!="none"&&d.sizes.length>0){this.entries[f].metadata.visualSizes=d.sizes||"none";this.mag.askPrepareVisual(this.entries[f],this.entries[f].metadata.visualSizes,d.forceVisual==true)
}}}catch(h){$feedly("[feedly][base card] frame failed because: "+h.name+" -- "+h.message);ERROR("ERR BC-007. Failed to frame card because "+h.name+" -- "+h.message)}};a.frame=function(){if(this["frameOrientation"]==ORIENTATION()){return}try{this["frameOrientation"]=ORIENTATION();if(ESB["grid.debug"]){$feedly("[grid] frame card:"+this.getCardId()+" in orientation:"+ORIENTATION())
}if(this.entries==null||this.entries.length==0){return}var g=this.getOption("layout");for(var f=0;f<this.entries.length;f++){this.entries[f].metadata.featuredVisual=null;var d=this.grid.lookupModule(g,ORIENTATION(),f);if(d==null){ERROR("ERR BC-008 - layout not found:"+g+"["+f+"]");return}if(d.sizes!=null&&d.sizes!="none"&&d.sizes.length>0){this.entries[f].metadata.visualSizes=d.sizes||"none";
this.mag.askFeatureVisual(this.entries[f],this.entries[f].metadata.visualSizes,d.forceVisual==true)}}}catch(h){$feedly("[feedly][base card] frame failed because: "+h.name+" -- "+h.message);ERROR("ERR BC-007. Failed to frame card because "+h.name+" -- "+h.message)}};a.render=function(){if(ESB["grid.debug"]){$feedly("[grid] render card:"+this.getCardId()+" -- prepared? "+(this["prepared."+ORIENTATION()]==true))
}try{if(ORIENTATION()=="portrait"&&this.renderPortrait!=null){this.renderPortrait()}else{if(ORIENTATION()=="landscape"&&this.renderLandscape!=null){this.renderLandscape()}}}catch(I){$feedly("[feedly][base card] render failed because: "+I.name+" -- "+I.message);ERROR("ERR BC-007. Failed to render card because "+I.name+" -- "+I.message)}try{var n=this.part.getElementsByClassName("flexible");
for(var F=0;F<n.length;F++){var L=n[F];if(L.getAttribute("data-showcased")=="yes"){L.parentNode.className=L.parentNode.className+" showcased";L.removeAttribute("data-showcased")}var J=c(L,"title");var r=c(L,"visual");var C=c(L,"summary");var j=c(L,"metadata");if(j!=null&&(j.tagName==null||j.tagName.toLowerCase()=="span")){j=null}var y=J==null?0:parseInt(J.style.marginTop||"0")+parseInt(J.style.marginBottom||"0");
var g=r==null?0:parseInt(r.style.marginTop||"0")+parseInt(r.style.marginBottom||"0");var A=C==null?0:parseInt(C.style.marginTop||"0")+parseInt(C.style.marginBottom||"0");var m=j==null?0:parseInt(j.style.marginTop||"0")+parseInt(j.style.marginBottom||"0");var f=J==null?0:parseInt(J.getAttribute("data-padding")||"0");var K=parseInt(L.getAttribute("data-height"));
var t=K-2*f-(J==null?0:J.clientHeight+y)-(j==null?0:j.clientHeight+m);var G=t-(r==null||r.getAttribute("data-floating")=="yes"?0:r.clientHeight+g);if(ESB["flexible.debug"]==true){$feedly("[flexible] metrics:"+L.getAttribute("data-debug")+" -- cell: "+parseInt(L.getAttribute("data-height"))+" -- title:"+(J==null?"n/a":J.clientHeight+" + "+y)+" -- visual:"+(r==null?"n/a":r.clientHeight)+" -- meta:"+(j==null?"n/a":j.clientHeight));
$feedly("[flexible] cell:"+K+" v:"+t+" -- h: "+G+" -- title padding: "+f)}if(J!=null&&t<0){var D=parseInt(J.style.lineHeight);var w=parseInt(J.getAttribute("data-nudge")||"0");var s=K-2*f-(j==null?0:j.clientHeight+m);var B=Math.floor(s/D);if(B<1){B=1;if(j!=null){j.style.display="none";m=0;j=null}}J.style.maxHeight=(B*D+w)+"px";J.style.overflow="hidden";
t=K-2*f-(J==null?0:J.clientHeight+y)-(j==null?0:j.clientHeight+m);G=t-(r==null||r.getAttribute("data-floating")=="yes"?0:r.clientHeight+g);if(ESB["flexible.debug"]==true){$feedly("[flexible] title:"+L.getAttribute("data-debug")+" -- maxHeight: "+(B*D+w)+" -- tlh: "+D+" -- h:"+G)}}if(r!=null&&r.getAttribute("data-floating")!="yes"){if(t<g+3*19){r.style.display="none";
G=t}else{if(t<r.clientHeight+g){r.style.height=(t-g)+"px";G=0}}}if(C!=null){var x=parseInt(C.getAttribute("data-line-height"));var q=parseInt(C.getAttribute("data-lines")||"100");var M=Math.min(q,Math.floor((G-A)/x));if(ESB["flexible.debug"]==true){$feedly("[flexible] extra height:"+L.getAttribute("data-debug")+" -- h :"+G+" -- lh: "+x+" -- max:"+q+" -- summary lines:"+M)
}if(M>=1){if(ESB["flexible.debug"]==true){$feedly("[flexible] summary adjusted to:"+L.getAttribute("data-debug")+" -- LINES :"+M+" -- maxHeight: "+M*x)}C.style.maxHeight=(M*x)+"px";C.style.display="block";G=G-Math.min(M*x,C.offsetHeight);if(ESB["flexible.debug"]==true){$feedly("[flexible] summary offsetHeight:"+C.offsetHeight)}var u=c(L,"floatingVisual");
if(u!=null){u.style.maxHeight=(M*x+(j==null?0:j.clientHeight+m))+"px"}}else{G=G+A}}if(J!=null&&G+f>0){if(ESB["flexible.debug"]==true){$feedly("[flexible] align title:"+L.getAttribute("data-debug")+" -- h :"+G+" -- titlePadding :"+f+" -- margin top: "+J.style.marginTop)}var E=J.getAttribute("data-align");switch(E){case"top":J.style.paddingTop=Math.floor(parseInt(J.style.paddingTop||"0")+f)+"px";
break;case"spread":J.style.paddingTop=Math.floor(parseInt(J.style.paddingTop||"0")+f)+"px";J.style.marginBottom=Math.floor(parseInt(J.style.marginBottom||"0")+Math.floor(G-f))+"px";break;case"bottom":J.style.marginTop=(parseInt(J.style.marginTop||"0")+Math.floor(G+2*f))+"px";break;case"typo":J.style.marginBottom=(parseInt(J.style.marginBottom||"0")+Math.floor(G+2*f))+"px";
break;case"middle":J.style.marginTop=Math.floor(parseInt(J.style.marginTop||"0")+Math.floor(G/2+f))+"px";J.style.marginBottom=Math.floor(parseInt(J.style.marginBottom||"0")+Math.floor(G/2+f))+"px";break;case"split":if(C!=null){var z=Math.floor(G/5);J.style.paddingTop=Math.floor(parseInt(J.style.paddingTop||"0")+2*z)+"px";C.style.paddingTop=Math.floor(parseInt(C.style.paddingTop||"0")+z)+"px"
}else{J.style.paddingTop=Math.floor(parseInt(J.style.paddingTop||"0")+Math.floor(G/2+f))+"px"}break;default:}}}var d=this.part.getElementsByClassName("cell");for(var F=0;F<d.length;F++){var l=d[F];if(l.getAttribute("data-showcased")=="yes"){l.style.opacity=1}}this.shown=false}catch(I){$feedly("[feedly][base card] render failed because: "+I.name+" -- "+I.message);
ERROR("ERR BC-007. Failed to adjust flexibles because "+I.name+" -- "+I.message)}};function c(f,e){var d=f.getElementsByClassName(e);if(d.length>0){return d[0]}else{return null}}a.show=function(d){if(this.shown==true){return}if(ESB["grid.debug"]){$feedly("[grid] show card:"+this.getCardId())}if(ORIENTATION()=="portrait"&&this.showPortrait!=null){this.showPortrait()
}else{if(ORIENTATION()=="landscape"&&this.showLandscape!=null){this.showLandscape()}}this.shown=true}})();XOXOXOonFeedlyFileIncluded("mobile/card.grid.js");"use strict";(function(){var b=devhd.pkg("cards");b.GridCard=function(c){};var a=b.GridCard.prototype=new b.BaseCard();a.destroy=function(){this.entries=null;this.destroyBase()};a.setEntries=function(c){this.entries=c
};a.listEntries=function(){return this.entries};a.framePortrait=function(){var e=this.getOption("layout");for(var d=0;d<this.entries.length;d++){var c=this.grid.lookupModule(e,"portrait",d);if(c==null){ERROR("GRID002 - could not find module:"+e+"["+d+"]");return}this.entries[d].metadata.visualSizes=c.sizes||"none";this.entries[d].metadata.forceVisual=c.forceVisual||false
}};a.frameLandscape=function(){var e=this.getOption("layout");for(var d=0;d<this.entries.length;d++){var c=this.grid.lookupModule(e,"landscape",d);this.entries[d].metadata.visualSizes=c.sizes||"none";this.entries[d].metadata.forceVisual=c.forceVisual||false}};a.renderPortrait=function(){this.renderGrid("portrait")};a.renderLandscape=function(){this.renderGrid("landscape")
};a.renderGrid=function(d){var j=this.getOption("layout");var f=[];try{var h=0;for(var g=0;g<this.entries.length;g++){var c=this.grid.lookupModule(j,d,g);f.push(c);if(c.placeholder=="if needed"&&this.entries[g].metadata.featuredVisual!=null){h++}}this.part.innerHTML=templates.mobile.grid.layoutGrid(d,f,this.entries,{section:this.getOption("section"),withVisuals:h,source:this.getOption("source")})
}catch(l){ERROR("GRID011 - failed to render:"+j+" -- "+JSON.stringify(f)+" -- "+l.name+" -- "+l.message+" -- "+l.stack)}};a.show=function(){if(this.entries==null||this.entries.length==0){return}for(var c=0;c<this.entries.length;c++){if(this.entries[c].metadata.promoted==true){this.mag.trackEvent("promoted","show",this.entries[c].getFeedId())}}}})();
XOXOXOonFeedlyFileIncluded("mobile/card.rateMe.js");"use strict";(function(){var b=devhd.pkg("cards");b.RateMeCard=function(c){this.url=null};var a=b.RateMeCard.prototype=new b.BaseCard();a.render=function(){this.part.innerHTML=templates.mobile.layoutRateMe()};a.show=function(){this.mag.markRateMeCardAsShown()};a.handleCallForAction=function(){var c;
if(KINDLE()){c=ESB["rating.amazon"]}else{if(ANDROID()){c=ESB["rating.google"]}else{c=ESB["rating.apple"]}}if(c!=null){OPENURL(c)}this.mag.markAsRated()}})();XOXOXOonFeedlyFileIncluded("mobile/card.markAsRead.js");"use strict";(function(){var b=devhd.pkg("cards");b.MarkAsReadCard=function(c){this.url=null;this.action=SETTING("feedly_mark_as_read")==true?"refresh":"markallasread"
};var a=b.MarkAsReadCard.prototype=new b.BaseCard();a.render=function(){this.part.innerHTML=templates.mobile.layoutMarkAsRead();switch(this.action){case"refresh":this.element("markasread_monster_cfa").innerHTML="Refresh";break;case"markallasread":this.element("markasread_monster_cfa").innerHTML="Mark all as read";break;case"error":this.element("markasread_monster_cfa").innerHTML="Oops :-(";
break;default:this.element("markasread_monster_cfa").innerHTML="Processing..."}};a.show=function(){var d=this.mag.listEntries();var c=d.length;var h=0;var g=0;for(var e=0;e<d.length;e++){h+=d[e].metadata.inlined==true?1:0;g+=(d[e].isQuicklisted()||d[e].metadata.pocket||d[e].metadata.instapaper)?1:0}var f=this.element("markasread_monster_stats");if(f!=null){f.innerHTML=templates.mobile.layoutMarkAsReadStats(c,h,g)
}};a.handleCallForAction=function(){try{switch(this.action){case"refresh":this.element("markasread_monster_cfa").innerHTML="...";this.mag.refresh();break;case"markallasread":this.action="processing";this.element("markasread_monster_cfa").innerHTML="Processing...";var c=this;this.mag.markEditoAsRead(function(){try{c.action="refresh";c.element("markasread_monster_cfa").innerHTML="Refresh";
var e=c.mag.shortcut("next");if(e!=null){c.mag.slideToNextCard("slow")}else{c.mag.refresh()}}catch(f){$feedly("[mark all as read]"+f.name+" -- "+f.message)}},function(e){try{c.action="error";c.element("markasread_monster_cfa").innerHTML="Oops :-("}catch(f){$feedly("[mark all as read]"+f.name+" -- "+f.message)}});break;default:this.element("markasread_monster_cfa").innerHTML="???"
}}catch(d){$feedly("[markasread card] failed to handle mark as read because:"+d.name+" -- "+d.message)}}})();XOXOXOonFeedlyFileIncluded("mobile/card.help.js");"use strict";(function(){var a=devhd.pkg("cards");a.HelpCard=function(c){this.url=null};var b=a.HelpCard.prototype=new a.BaseCard();b.render=function(){this.part.innerHTML=templates.mobile["layoutHelp"+this.getOption("step")](this.options)
};b.show=function(){var c=this.getOption("configTracker");if(c!=null){TRACK_CONFIG(c)}}})();XOXOXOonFeedlyFileIncluded("mobile/card.welcome.js");"use strict";(function(){var b=devhd.pkg("cards");b.WelcomeCard=function(){};var a=b.WelcomeCard.prototype=new b.BaseCard();a.render=function(){this.part.innerHTML=templates.mobile.layoutGetStarted(this.mag.isUserLoggedIn())
};a.show=function(){TRACK_CONFIG("intro.getstarted")}})();XOXOXOonFeedlyFileIncluded("mobile/card.things.js");"use strict";(function(){var a=devhd.pkg("cards");a.ThingsCard=function(c){this.url=null};var b=a.ThingsCard.prototype=new a.BaseCard();b.delay=1300;b.things=devhd.utils.ThingsUtils.things;b.render=function(){this.part.innerHTML=templates.mobile.layoutWelcome(this.options)
};b.show=function(){TRACK_CONFIG("intro.welcome")}})();XOXOXOonFeedlyFileIncluded("mobile/card.failed.js");"use strict";(function(){var a=devhd.pkg("cards");a.FailedCard=function(c){this.url=null};var b=a.FailedCard.prototype=new a.BaseCard();b.render=function(){this.part.innerHTML=templates.mobile.layoutFailed(this.getOption("message"))};b.show=function(){};
b.handleCallForAction=function(){this.mag.loadDefault(true)}})();XOXOXOonFeedlyFileIncluded("mobile/card.console.js");"use strict";(function(){var b=devhd.pkg("cards");b.ConsoleCard=function(){};var a=b.ConsoleCard.prototype=new b.BaseCard();a.render=function(){this.part.innerHTML=templates.mobile.layoutConsole()};a.show=function(){}})();XOXOXOonFeedlyFileIncluded("mobile/card.tests.js");
"use strict";(function(){var b=devhd.pkg("cards");b.TestsCard=function(){};var a=b.TestsCard.prototype=new b.BaseCard();a.render=function(){this.part.innerHTML=templates.mobile.layoutTests()};a.show=function(){}})();XOXOXOonFeedlyFileIncluded("mobile/card.stats.js");"use strict";(function(){var b=devhd.pkg("cards");b.StatsCard=function(){};var a=b.StatsCard.prototype=new b.BaseCard();
a.render=function(){this.part.innerHTML=templates.mobile.layoutIOStats(IO_STATS,this.mag.getUserId())};a.show=function(){}})();XOXOXOonFeedlyFileIncluded("mobile/card.transition.js");"use strict";(function(){var a=devhd.pkg("cards");a.TransitionCard=function(c){};var b=a.TransitionCard.prototype=new a.BaseCard();b.render=function(){var c=this.getOption("nextURL");
var d=null;if(c!=null&&c.indexOf("list://")==0){var f=c.slice("list://".length);var e=this.reader.lookupFeedInfo(f);d=e.unreadCount}this.part.innerHTML=templates.mobile.transition(NAVIGATION(),this.getOption("nextLabel"),this.getOption("nextURL"),d)};b.show=function(){}})();XOXOXOonFeedlyFileIncluded("mobile/card.flowNext.js");"use strict";(function(){var b=devhd.pkg("cards");
b.FlowNextCard=function(c){};var a=b.FlowNextCard.prototype=new b.BaseCard();a.render=function(){this.part.innerHTML=templates.mobile.layoutFlowNext(this.getOption("nextLabel"))};a.show=function(){var c=this;window.setTimeout(function(){c.mag.shuffle("next")},25)}})();XOXOXOonFeedlyFileIncluded("mobile/card.connections.js");"use strict";(function(){var b=devhd.pkg("cards");
b.ConnectionsCard=function(){};var a=b.ConnectionsCard.prototype=new b.BaseCard();a.render=function(){this.part.innerHTML=templates.mobile.layoutConnections(this.profile)};a.show=function(){};a.disconnectEvernote=function(){this.disconnect("evernote")};a.disconnectWindowsLive=function(){this.disconnect("windowsLive")};a.disconnect=function(d){this.mag.clearCaches();
var c=this.element(d+"Connector");if(c!=null){c.innerHTML="Disconnecting...";c.className="button disabled"}this.profile.askDisconnectConnector(d,function(){c.innerHTML="Disconnected"},function(e){c.innerHTML="Error:"+e})}})();XOXOXOonFeedlyFileIncluded("mobile/card.appOfTheDay.js");"use strict";(function(){var b=devhd.pkg("cards");b.AppOfTheDayCard=function(c){this.url=null
};var a=b.AppOfTheDayCard.prototype=new b.BaseCard();a.render=function(){var c=this.getOption("app");this.part.innerHTML=c.content};a.show=function(){if(this.shownRecorded!=true){this.recordMetric("app.show");this.shownRecorded=true}};a.showProduct=function(){var c=this.getOption("app");if(ANDROID()==false){SIGN("Loading store...",2.5)}$B.core.application.openAppStore(c.appStoreProductId);
this.recordMetric("app.action")};a.recordMetric=function(d){try{var g=this.getOption("app");var c="https://ads.feedly.com/metrics?campaign="+encodeURIComponent(g.campaign)+"&type="+encodeURIComponent(d)+"&topics="+encodeURIComponent(g.topics.join(","))+"&ck="+new Date().getTime()+"&width="+W+"&height="+H+"&userId="+this.mag.getUserId()+"&locale="+this.suggesto.getLocale()+"&ad="+AD+"&ct="+feedlyApplicationType+"&cv="+feedlyApplicationVersion;
TPOST(c,"",function(){$feedly("[app of the day] metric "+d+" recorded.")},function(e){$feedly("[app of the day] failed to recored metric "+d+":"+e)})}catch(f){$feedly("[app of the day] failed to capture metric because "+f.name+" -- "+f.message)}}})();XOXOXOonFeedlyFileIncluded("mobile/edito.my.js");"use strict";(function(){var b=devhd.pkg("mobile");
var a=devhd.i18n.L;b.createMyEdito=function(){var q={};q.gridCentric=true;var n=null;q.setReader=function(u){n=u};var f=null;q.setGrid=function(u){f=u};var l=null;q.setMag=function(u){l=u};var i=null;q.setLoadId=function(u){i=u};var e=null;q.setSuggesto=function(u){e=u};var s=null;var t=0;var d=false;var m=true;var r=[];var g=0;var h=[];q.load=function(){};
q.unload=function(){n=null;l=null;e=null;f=null};q.askMarkAsRead=function(v,u){n.markEntriesAsRead(l.listEntries(),true,v,u)};q.askCards=function(v){if(n.isEmpty()){l.declareEmptyFeed();return}t=0;g=0;s=n.listSections(true,true);if(s.length==1){l.redirect("list://"+s[0].flsId);devhd.fn.callback(v);return}if(s.length>0){var u=s[0].flsId;if(u.indexOf("user")==0){LWRITE("firstCategory",u.slice(("user/"+n.getUserId()+"/category/").length))
}}var w=LREAD("firstrun.home.intro");if(w!="yes"){l.declareCard({factory:CARD("HelpCard"),section:"Home",step:4})}if(w==null){LWRITE("firstrun.home.intro","yes")}l.showRefreshIcon();c();q.askMoreCards(v)};function c(){try{if(PRO()){return}var u=n.computeTagCloud().slice(0,20);var x=[];for(var v=0;v<u.length;v++){x.push(u[v].label.toLowerCase())}if(x.length>0){n.askPromotedEntries(x,AD==1?DEFAULT_LISTABLE_OCCURENCE-3:4,function(y){h=y
},function(){h=[]})}}catch(w){$feedly("[my edito] failed to cache promoted entries:"+w.name+" -- "+w.message)}}function p(){switch(SETTING("feedly_view_default")){case"titleonly":return"titleonly";case"list":return"list";case"mag":return"mag";case"cards":return"cards";case"detect":default:if(AD==4){return"mag+list"}else{if(AD==2){return"list"}else{return"mag"
}}}}q.askMoreCards=function(v,A){if(d==true){devhd.fn.callback(v);return}if(s==null){return}if(t>=s.length){var x=n.computeTagCloud().slice(0,20);var u=[];for(var y=0;y<x.length;y++){u.push(x[y].label.toLowerCase())}if(g>=2&&h.length>0){f.buildCards("my#__promoted__",h,{section:"Promoted",loadId:i,sort:true,feedIds:[],cover:"Promoted",layoutType:"promoted",maxAge:devhd.utils.DurationUtils.DAYS(30),maxCards:2,homogeneous:true,allowPartial:true},A!=true);
l.declareEndOfFeed();devhd.fn.callback(v)}else{if(PRO()==false&&g>=2){d=true;l.declareAppOfTheDayCard(u,function(){d=false;l.declareEndOfFeed(true);devhd.fn.callback(v)})}else{l.declareEndOfFeed(true);devhd.fn.callback(v)}}return}d=true;var D=s[t];var C=p();var B=2;var w=MY_DEPTH;if(D.unreadCount==null){D.unreadCount=n.getTermUnreadCount(D.flsId)}if(D.unreadCount!=null&&D.unreadCount<w){w=D.unreadCount
}l.forcastCardCount((s.length-t)*B);var z=new Date().getTime();n.askRecommendEntries(D.flsId,w,function(M){if(ESB["grid.debug"]){$feedly("[edito::my] entries <"+t+", "+D.flsId+", "+w+"> = "+M.length+" entries")}if(l==null){return}if(ESB["grid.debug"]){$feedly("[edito::my] filtered entries <"+t+", "+D.flsId+", "+w+"> = "+M.length+" entries")}if(M.length==0){t++;
d=false;if(n.isEmpty()||(t==s.length&&m)){l.declareEmptyFeed();return}else{if(t<s.length){q.askMoreCards(v,true);return}else{j(A)}}}else{m=false}var G=[];var F=[];if(D.flsId.indexOf("feed")==0){F.push(D.flsId)}else{var J=n.listSubscriptions(D.label,true);for(var I=0;I<J.length&&I<5;I++){F.push(J[I].id)}G=J}var E=false;try{if(AD==4&&M.length<4||AD==2&&M.length<4){for(var I=0;
I<M.length;I++){r.push(M[I])}E=true}else{if(M.length>0){var L=B;f.buildCards("my#"+D.flsId,M,{section:"home/"+D.label,loadId:i,sort:true,feedIds:F,cover:D.label,coverRank:t,sources:G,layoutType:C,maxAge:devhd.utils.DurationUtils.DAYS(30),maxCards:L,homogeneous:true,allowPartial:true},t>0&&A!=true);g++}}}catch(K){$feedly("[edito.my] askMoreCards failed because:"+K.name+" -- "+K.message)
}t++;j(A);d=false;if((E&&t<s.length-1)||g<=1&&s.length>1){q.askMoreCards(v,true)}else{devhd.fn.callback(v)}},function(E,F){if(l==null){return}ERROR("ERR095 - edito.my failed to create cards because "+E+" -- "+F);devhd.fn.callback(v)})};function j(u){if(t==s.length&&r.length>0){f.buildCards("my#also",r,{section:"home/also",loadId:i,sort:true,feedIds:[],cover:null,coverRank:t,sources:[],layoutType:"list",maxAge:devhd.utils.DurationUtils.DAYS(30),maxCards:4,homogeneous:true,allowPartial:true},t>0&&u!=true);
skipped=false;r=[]}}return q}})();XOXOXOonFeedlyFileIncluded("mobile/edito.explore.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createExploreEdito=function(){var l={};l.gridCentric=true;var i=null;l.setReader=function(p){i=p};var e=null;l.setGrid=function(p){e=p};var g=null;l.setMag=function(p){g=p};var f=null;l.setLoadId=function(p){f=p
};var d=null;l.setSuggesto=function(p){d=p};var m=null;var n=0;var c=false;var h=true;l.load=function(){};l.unload=function(){i=null;g=null;d=null;e=null};l.askCards=function(p){n=0;m=d.listTopics();g.showRefreshIcon();l.askMoreCards(p)};function j(){switch(SETTING("feedly_view_default")){case"titleonly":return"titleonly";case"list":return"list";case"mag":return"mag";
case"cards":return"cards";case"detect":default:if(AD==4){return"mag+list"}else{if(AD==2){return"list"}else{return"mag"}}}}l.askMoreCards=function(u,s){if(c==true){devhd.fn.callback(u);return}if(m==null||n>=m.length){g.declareEndOfFeed();devhd.fn.callback(u);return}c=true;var t=m[n];var r=j();var q=2;var p=Math.floor(MY_DEPTH*1.5);g.forcastCardCount((m.length-n)*q);
i.askTopicEntries(t.keyword,p,true,false,function(y){if(ESB["grid.debug"]||true){$feedly("[edito::explore] entries <"+n+", "+t.keyword+", "+p+"> = "+y.length+" entries")}if(g==null){return}for(var v=0;v<y.length;v++){y[v].metadata.suggestedTag=t.label}try{if(y.length>0){var x=q;e.buildCards("explore#"+t.flsId,y,{section:"explore/"+t.label,loadId:f,sort:true,feedIds:[],cover:t.label,coverRank:n,sources:[],layoutType:r,maxAge:devhd.utils.DurationUtils.DAYS(21),maxCards:x,homogeneous:AD==1,allowPartial:true},n>0&&s!=true)
}}catch(w){$feedly("[edito.explore] askMoreCards failed because:"+w.name+" -- "+w.message)}n++;c=false;if(n<=1&&m.length>1){l.askMoreCards(u,true)}else{devhd.fn.callback(u)}},function(v,w){if(g==null){return}ERROR("ERR095 - edito.explore failed to create cards because "+v+" -- "+w);devhd.fn.callback(u)})};return l}})();XOXOXOonFeedlyFileIncluded("mobile/edito.list.js");
"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createListEdito=function(){var s={};s.gridCentric=true;var z=3;var f=null;s.setReader=function(N){f=N};var g=null;s.setMag=function(N){g=N};var d=null;s.setGrid=function(N){d=N};var p=null;s.setSuggesto=function(N){p=N};var i=null;s.setLoadId=function(N){i=N};var n=null,E=null,t=null;
s.setURI=function(N){n=N};var v={};s.setMetadata=function(N){v=N};var A=null;var C=null;s.setShowcasedEntry=function(N){A=N;C=N.getId()};var l=0;var u=0;var M=null;var r=false;var y=null;var L=[];var e=[];var I=0;var q=null;var F=true;var B=false;var x=true;var G=false;var c=null;var w=null;var K=null;var h=false;var D=false;var J=20;s.load=function(){};
s.unload=function(){f=null;g=null;p=null;d=null};s.askMarkAsRead=function(Q,N){if(D==true){var O=g.listEntries();f.markEntriesAsRead(O,true,function(){g.refresh()},N)}else{if(n.indexOf(w,"com.google/reading-list")>-1){f.askMarkAllAsRead(Q,N)}else{if(n.indexOf("feed")==0){f.askMarkSubscriptionAsRead(n,w,Q,N)}else{var P=n.split("/");f.askMarkCategoryAsRead(P[P.length-1],w,Q,N)
}}}};s.askCards=function(S){D=false;w=new Date().getTime();if(n.indexOf("tag/global.saved")>-1){var Q=LREAD("firstrun.saved.intro");if(Q!="yes"){g.declareCard({factory:CARD("HelpCard"),section:"Saved for later",step:6})}if(Q==null){LWRITE("firstrun.saved.intro","yes")}}l=0;M=null;y=f.lookupFeedInfo(n);F=true;B=false;h=false;x=true;if(f.getUserId()==null){g.showAddIcon();
x=false}else{if(y!=null&&y.id.indexOf("tag/global.saved")>-1){x=false;F=false;c="Saved for later";B=true;g.showMoreSettingsIcon();g.updateActivityHint("Loading saved articles...")}else{if(y!=null&&y.id.indexOf("/tag/")>-1){x=false;F=false;B=true;g.showMoreSettingsIcon();g.updateActivityHint("Loading tagged articles...")}else{if(y!=null&&y.id.indexOf("category/global.all")>-1){F=false;
c="all";g.showMarkAsReadIcon(y.id,y.unreadCount);g.showMoreSettingsIcon();var N=f.getStreamPreference(y.id,"hideReadArticlesFilter")||"on";if(N=="off"){x=false;g.updateActivityHint("Loading all ...")}else{x=true;g.updateActivityHint("Loading updates...")}}else{if(y!=null&&y.id.indexOf("category/global.must")>-1){F=false;c="must reads";g.showMarkAsReadIcon(y.id,y.unreadCount);
g.showMoreSettingsIcon();var N=f.getStreamPreference(y.id,"hideReadArticlesFilter")||"on";if(N=="off"){x=false;g.updateActivityHint("Loading all articles...")}else{g.updateActivityHint("Loading must reads...")}}else{if(y!=null&&y.id.indexOf("tag/global.read")>-1){F=false;x=false;c="history";g.showMoreSettingsIcon();g.updateActivityHint("Loading recently read...")
}else{if(y!=null&&y.following==false&&y.id.indexOf("feed/")==0){g.showAddIcon();x=false}else{if(y!=null&&(y.unreadCount==0||y.following==false)){x=false;g.showMarkAsReadIcon(y.id,y.unreadCount);g.showMoreSettingsIcon();g.updateActivityHint("Loading all articles...")}else{if(y!=null&&y.newlyAdded!=null&&new Date().getTime()-y.newlyAdded<3600000){x=false;
g.showMarkAsReadIcon(y.id,y.unreadCount);g.showMoreSettingsIcon();g.updateActivityHint("Loading newly added...")}else{if(y!=null){g.showMarkAsReadIcon(y.id,y.unreadCount);g.showMoreSettingsIcon();var N=f.getStreamPreference(y.id,"hideReadArticlesFilter")||"on";if(N=="off"){x=false;g.updateActivityHint("Loading all articles...")}}}}}}}}}}}G=f.getStreamPreference(y.id,"oldestFirstKnob")=="yes";
if(G==true){F=false}if(y.id.indexOf("feed/")==0){L.push(y.id)}else{if(n.indexOf("user/")==0&&n.indexOf("/label/")>0){var R=n.split("/");var O=R[R.length-1];e=f.listSubscriptions(O,true);for(var P=0;P<e.length;P++){L.push(e[P].id)}}}if(y.newlyAdded==null&&x==true&&y.unreadCount!=null&&y.unreadCount>0){q=y.unreadCount;nbrCards=1+Math.ceil((y.unreadCount-6)/4)
}else{q=null;nbrCards=Math.floor((J+1)*DEPTH/6);h=true}K=f.suggestLayoutType(y.id);if(K==null){K=m()}if(K=="titleonly"||(AD==1&&K=="list")){F=false}g.forcastCardCount(nbrCards);s.askMoreCards(S)};s.askMoreCards=function(P){var Q=(l==0);if(r==true){return}var O="category";if(y.id.indexOf("feed/")==0){O="feed"}if((q==null&&l>J)||(q!=null&&I>=q)){if(l>J){D=true
}g.declareEndOfFeed();devhd.fn.callback(P);return}r=true;var N=false;var R=DEPTH;if(q!=null){R=Math.min(DEPTH,q-I);if(R<DEPTH){N=true}}f.askEntries(y.id,R,x,G,M,function(U,S,X){X=X||[];if(g==null){return}if(Q&&U.length==0){if(y.following==true){g.declareEmptyFeed()}else{g.declareCard({factory:CARD("HelpCard"),section:"Oops",step:9});g.declareEndOfFeed();
g.declareEndOfCards()}return}if(U.length+X.length<R||R<DEPTH){N=N||true}if(N==true){g.declareEndOfFeed()}I+=U.length;var T=y.title+" -- "+u;if(c!=null){T=c+" -- "+u}try{if(O=="feed"&&y.unreadCount==null){if(v!=null&&v.title!=null&&v.curated==true){T=v.title+" -- "+u}else{if(v!=null&&v.title!=null&&U.length>0&&U[0].getChannel().length>v.title.length){T=v.title+" -- "+u
}else{if(U!=null&&U.length>0){T=U[0].getChannel()+" -- "+u}}}}}catch(V){$feedly("[edito.list] ignored:"+V.name+" -- "+V.message)}u++;M=S;l++;r=false;j(T,U,F,Q,O,N);devhd.fn.callback(P)},function(S,T){if(g==null){return}r=false;g.declareCard({factory:CARD("HelpCard"),section:"Not Found",step:7});g.declareEndOfFeed();g.declareEndOfCards();devhd.fn.callback(P)
})};function m(){switch(SETTING("feedly_view_default")){case"titleonly":return"titleonly";case"list":return"list";case"mag":return"mag";case"cards":return"cards";case"detect":default:var N=null;if(y.id.indexOf("state/com.google/read")>0){N="list"}if(y.id.indexOf("tag/global.saved")>0){N="list"}if(y.id.indexOf("/tag/")>0){N="list"}if(N==null&&v!=null&&v.view!=null){switch(v.view){case"0":N="titleonly";
break;case"1":N="list";break;case"3":case"4":N="mag";break;case"5":case"6":N="cards";break}}return N}}function j(U,V,P,R,N,O){try{if(V.length>0){if(C!=null){var T=[];for(var Q=0;Q<V.length;Q++){if(V[Q].getId()==C){continue}T.push(V[Q])}}if(A!=null){A.metadata.showcased=true;V.unshift(A);A=null}d.buildCards(n,V,{section:U,loadId:i,sort:P,homogeneous:K=="titleonly"||K=="list"?true:B,featured:K=="titleonly"?false:R,source:N,sources:e,feedIds:L,layoutType:K,endOfStream:O},R==false)
}}catch(S){$feedly("[list edito] failed to process entries because:"+S.name+" -- "+S.message)}}return s}})();XOXOXOonFeedlyFileIncluded("mobile/edito.search.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createSearchEdito=function(){var r={};r.gridCentric=true;var w=3;var f=null;r.setReader=function(F){f=F};var h=null;r.setMag=function(F){h=F
};var d=null;r.setGrid=function(F){d=F};var n=null;r.setSuggesto=function(F){n=F};var i=null;r.setLoadId=function(F){i=F};var m=null,A=null,s=null;r.setURI=function(F){m=F};var u={};r.setMetadata=function(F){u=F};var x=null;var z=null;r.setShowcasedEntry=function(F){x=F;z=F.getId()};var l=0;var t=0;var E=null;var q=false;var D=[];var e=[];var C=0;var p=null;
var B=true;var y=false;var c=null;var v=null;var g=7;r.load=function(){};r.unload=function(){f=null;h=null;n=null;d=null};r.askCards=function(F){v=new Date().getTime();l=0;E=null;h.updateActivityHint("Search for "+m+"...");B=false;y=false;nbrCards=10;p=null;h.forcastCardCount(nbrCards);r.askMoreCards(F)};r.askMoreCards=function(G){var I=(l==0);if(q==true){return
}if(p==null&&l>g){h.declareEndOfFeed();devhd.fn.callback(G);return}q=true;var F=false;var J=10;f.askSearchEntries(m,J,E,function(L,K,M){M=M||[];if(h==null){return}if(I&&L.length==0){h.declareCard({factory:CARD("HelpCard"),section:m,step:10});h.declareEndOfFeed();h.declareEndOfCards();return}F=(K==null);if(F==true){h.declareEndOfFeed()}if(F==true){h.declareEndOfFeed()
}C+=L.length;t++;E=K;l++;q=false;j("Search "+m+" -- "+t,L,B,I,F);devhd.fn.callback(G)},function(K,L){if(h==null){return}q=false;h.declareCard({factory:CARD("HelpCard"),section:m,step:10});h.declareEndOfFeed();h.declareEndOfCards();devhd.fn.callback(G)})};function j(K,N,I,M,J){try{if(N.length>0){if(z!=null){var F=[];for(var G=0;G<N.length;G++){if(N[G].getId()==z){continue
}F.push(N[G])}}if(x!=null){x.metadata.showcased=true;N.unshift(x);x=null}d.buildCards(m,N,{section:K,loadId:i,sort:I,homogeneous:y,featured:M,layoutType:AD==1?"cards":"mag",source:"search",endOfStream:J},M==false)}}catch(L){$feedly("[list edito] failed to process entries because:"+L.name+" -- "+L.message)}}return r}})();XOXOXOonFeedlyFileIncluded("mobile/edito.archive.js");
"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createArchiveEdito=function(){var r={};r.gridCentric=true;var w=3;var f=null;r.setReader=function(F){f=F};var h=null;r.setMag=function(F){h=F};var d=null;r.setGrid=function(F){d=F};var n=null;r.setSuggesto=function(F){n=F};var i=null;r.setLoadId=function(F){i=F};var m=null,A=null,s=null;
r.setURI=function(F){m=F};var u={};r.setMetadata=function(F){u=F};var x=null;var z=null;r.setShowcasedEntry=function(F){x=F;z=F.getId()};var l=0;var t=0;var E=null;var q=false;var D=[];var e=[];var C=0;var p=null;var B=true;var y=false;var c=null;var v=null;var g=7;r.load=function(){};r.unload=function(){f=null;h=null;n=null;d=null};r.askCards=function(F){v=new Date().getTime();
l=0;E=null;h.updateActivityHint("Search for "+m+"...");B=false;y=false;nbrCards=10;p=null;h.forcastCardCount(nbrCards);r.askMoreCards(F)};r.askMoreCards=function(G){var I=(l==0);if(q==true){return}if(p==null&&l>g){h.declareEndOfFeed();devhd.fn.callback(G);return}q=true;var F=false;var J=10;f.askSearchSavedEntries(m,J,E,function(L,K,M){M=M||[];if(h==null){return
}if(I&&L.length==0){h.declareCard({factory:CARD("HelpCard"),section:m,step:10});h.declareEndOfFeed();h.declareEndOfCards();return}F=(K==null);if(F==true){h.declareEndOfFeed()}if(F==true){h.declareEndOfFeed()}C+=L.length;t++;E=K;l++;q=false;j("Saved "+m+" -- "+t,L,B,I,F);devhd.fn.callback(G)},function(K,L){if(h==null){return}q=false;h.declareCard({factory:CARD("HelpCard"),section:m,step:10});
h.declareEndOfFeed();h.declareEndOfCards();devhd.fn.callback(G)})};function j(K,N,I,M,J){try{if(N.length>0){if(z!=null){var F=[];for(var G=0;G<N.length;G++){if(N[G].getId()==z){continue}F.push(N[G])}}if(x!=null){x.metadata.showcased=true;N.unshift(x);x=null}d.buildCards(m,N,{section:K,loadId:i,sort:I,homogeneous:y,featured:M,layoutType:AD==1?"cards":"mag",source:"search",endOfStream:J},M==false)
}}catch(L){$feedly("[list edito] failed to process entries because:"+L.name+" -- "+L.message)}}return r}})();XOXOXOonFeedlyFileIncluded("mobile/edito.beyond.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createBeyondEdito=function(){var s={};s.gridCentric=true;var z=3;var g=null;s.setReader=function(J){g=J};var i=null;s.setMag=function(J){i=J
};var d=null;s.setGrid=function(J){d=J};var p=null;s.setSuggesto=function(J){p=J};var j=null;s.setLoadId=function(J){j=J};var n=null,D=null,t=null;s.setURI=function(J){n=J};var w={};s.setMetadata=function(J){w=J};var A=null;var C=null;s.setShowcasedEntry=function(J){A=J;C=J.getId()};var m=0;var v=0;var I=null;var r=false;var G=[];var f=[];var F=0;var q=null;
var E=true;var B=false;var c=null;var y=null;var h=7;var u=null;var e=[{fields:"title",minEngagement:25,minEngagementRate:1.5,minSatisfaction:4,hint:"Title-only with high engagement..."},{fields:"all",minEngagement:25,minSatisfaction:4,hint:"All with high engagement..."},{fields:"all",minSatisfaction:0,hint:"All with any engagement..."}];s.load=function(){};
s.unload=function(){g=null;i=null;p=null;d=null};s.askCards=function(J){y=new Date().getTime();m=0;I=null;E=false;B=false;nbrCards=10;q=null;u=0;options=e[u];i.forcastCardCount(nbrCards);s.askMoreCards(J)};s.askMoreCards=function(J){if(r==true){return}if(q==null&&m>h){i.declareEndOfFeed();devhd.fn.callback(J);return}r=true;x(J)};function x(K){var L=(m==0);
var J=false;var M=10;g.askSearchBeyondEntries(n,M,options,I,function(O,N,P){P=P||[];if(i==null){return}if(L&&O.length<options.minSatisfaction&&u<e.length-1){u++;options=e[u];$feedly("[beyond] switching to strategy:"+JSON.stringify(options));i.updateActivityHint(options.hint);x(K);return}if(L&&O.length==0){$feedly("[beyond] ran out of strategies...");
i.declareCard({factory:CARD("HelpCard"),section:n,step:10});i.declareEndOfFeed();i.declareEndOfCards();return}J=(N==null);if(J==true){i.declareEndOfFeed()}F+=O.length;v++;I=N;m++;r=false;l("Beyond "+n+" -- "+v,O,E,L,J);devhd.fn.callback(K)},function(N,O){if(i==null){return}r=false;i.declareCard({factory:CARD("HelpCard"),section:n,step:10});i.declareEndOfFeed();
i.declareEndOfCards();devhd.fn.callback(K)})}function l(N,Q,L,P,M){try{if(Q.length>0){if(C!=null){var J=[];for(var K=0;K<Q.length;K++){if(Q[K].getId()==C){continue}J.push(Q[K])}}if(A!=null){A.metadata.showcased=true;Q.unshift(A);A=null}d.buildCards(n,Q,{section:N,loadId:j,sort:L,homogeneous:B,featured:P,layoutType:AD==1?"cards":"mag",source:"search",endOfStream:M},P==false)
}}catch(O){$feedly("[list edito] failed to process entries because:"+O.name+" -- "+O.message)}}return s}})();XOXOXOonFeedlyFileIncluded("mobile/edito.topic.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createTopicEdito=function(){var m={};m.gridCentric=true;var r=3;var d=null;m.setReader=function(y){d=y};var e=null;m.setMag=function(y){e=y
};var c=null;m.setGrid=function(y){c=y};var j=null;m.setSuggesto=function(y){j=y};var f=null;m.setLoadId=function(y){f=y};var i=null,w=null,n=null;m.setURI=function(y){i=y};var q={};m.setMetadata=function(y){q=y};var s=null;var v=null;m.setShowcasedEntry=function(y){s=y;v=y.getId()};var p=0;var l=false;var x=true;var u=false;m.load=function(){};m.unload=function(){d=null;
e=null;j=null;c=null};m.askCards=function(y){e.updateActivityHint(i+" top stories...");x=false;u=false;m.askMoreCards(y)};m.askMoreCards=function(y){if(l==true){return}l=true;d.askTopicEntries(i,t(),true,true,function(z){if(e==null){return}if(z.length==0){e.declareCard({factory:CARD("HelpCard"),section:i,step:10});e.declareEndOfFeed();e.declareEndOfCards();
return}e.declareEndOfFeed();p++;l=false;g(i+" top stories -- "+p,z,x,true,true);devhd.fn.callback(y)},function(z,A){if(e==null){return}l=false;e.declareCard({factory:CARD("HelpCard"),section:i,step:10});e.declareEndOfFeed();e.declareEndOfCards();devhd.fn.callback(y)})};function g(C,F,A,E,B){try{if(F.length>0){if(v!=null){var y=[];for(var z=0;z<F.length;
z++){if(F[z].getId()==v){continue}y.push(F[z])}}if(s!=null){s.metadata.showcased=true;F.unshift(s);s=null}c.buildCards(i,F,{section:C,loadId:f,sort:A,homogeneous:true,featured:true,layoutType:h(),source:"topic",endOfStream:B},false)}}catch(D){$feedly("[list edito] failed to process entries because:"+D.name+" -- "+D.message)}}function h(){if(AD==4){return"mag+list"
}else{if(AD==2){return"list"}else{return"mag"}}}function t(){if(AD==4){return 4+6+6+6}else{if(AD==2){return 4+6+6+6}else{return 1+5+5+5+5}}}return m}})();XOXOXOonFeedlyFileIncluded("mobile/edito.event.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createEventEdito=function(){var m={};m.gridCentric=true;var r=3;var d=null;
m.setReader=function(y){d=y};var e=null;m.setMag=function(y){e=y};var c=null;m.setGrid=function(y){c=y};var j=null;m.setSuggesto=function(y){j=y};var f=null;m.setLoadId=function(y){f=y};var i=null,w=null,n=null;m.setURI=function(y){i=y};var q={};m.setMetadata=function(y){q=y};var s=null;var v=null;m.setShowcasedEntry=function(y){s=y;v=y.getId()};var p=0;
var l=false;var x=true;var u=false;m.load=function(){};m.unload=function(){d=null;e=null;j=null;c=null};m.askCards=function(y){e.updateActivityHint(i+" speakers' showcase...");x=false;u=false;m.askMoreCards(y)};m.askMoreCards=function(y){if(l==true){return}l=true;d.askTopicEntries(i,t(),true,false,function(z){if(e==null){return}if(z.length==0){e.declareCard({factory:CARD("HelpCard"),section:"Oops",step:9});
e.declareEndOfFeed();e.declareEndOfCards();return}e.declareEndOfFeed();p++;l=false;g(i+" top stories -- "+p,z,x,true,true);devhd.fn.callback(y)},function(z,A){if(e==null){return}l=false;e.declareCard({factory:CARD("HelpCard"),section:"Not Found",step:7});e.declareEndOfFeed();e.declareEndOfCards();devhd.fn.callback(y)})};function g(C,F,A,E,B){try{if(F.length>0){if(v!=null){var y=[];
for(var z=0;z<F.length;z++){if(F[z].getId()==v){continue}y.push(F[z])}}if(s!=null){s.metadata.showcased=true;F.unshift(s);s=null}c.buildCards(i,F,{section:C,loadId:f,sort:A,homogeneous:true,featured:true,layoutType:h(),source:"topic",endOfStream:B},false)}}catch(D){$feedly("[list edito] failed to process entries because:"+D.name+" -- "+D.message)}}function h(){if(AD==4){return"mag+list"
}else{if(AD==2){return"list"}else{return"mag"}}}function t(){if(AD==4){return 4+6+6+6+6+6}else{if(AD==2){return 4+6+6+6+6+6}else{return 1+5+5+5+5+5}}}return m}})();XOXOXOonFeedlyFileIncluded("mobile/edito.welcome.js");"use strict";(function(){var a=devhd.pkg("mobile");a.createWelcomeEdito=function(){var f={};var e=null;f.setMag=function(g){e=g};var b=null;
f.setLoadId=function(g){b=g};var d=null;f.setURI=function(g){d=g};var c=false;f.load=function(){};f.unload=function(){e=null};f.askCards=function(g){if(c==true){return}c=true;e.declareCard({factory:CARD("ThingsCard"),section:"",step:10});window.setTimeout(function(){PRESENTED=true;$B.core.application.presentView(17);window.setTimeout(function(){e.declareCard({factory:CARD("WelcomeCard"),section:""});
e.declareCard({factory:CARD("HelpCard"),section:"",step:3,configTracker:"intro.everywhere"});e.declareEndOfFeed();e.declareEndOfCards();devhd.fn.callback(g)},500)},200)};f.askMoreCards=function(g){};return f}})();XOXOXOonFeedlyFileIncluded("mobile/edito.failed.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createFailedEdito=function(){var h={};
var g=null;h.setMag=function(i){g=i};var c=null;h.setLoadId=function(i){c=i};var f=null,e=null,d=null;h.setURI=function(i){f=i};h.load=function(){};h.unload=function(){};h.askCards=function(i){g.declareCard({factory:CARD("FailedCard"),section:"Oops!",message:f});g.declareEndOfFeed();g.declareEndOfCards();devhd.fn.callback(i)};h.askMoreCards=function(i){};
return h}})();XOXOXOonFeedlyFileIncluded("mobile/edito.console.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createConsoleEdito=function(){var h={};var g=null;h.setMag=function(i){g=i};var c=null;h.setLoadId=function(i){c=i};var f=null,e=null,d=null;h.setURI=function(i){f=i};h.load=function(){};h.unload=function(){};h.askCards=function(i){g.declareCard({factory:CARD("ConsoleCard"),section:"Console"});
g.declareEndOfFeed();g.declareEndOfCards();devhd.fn.callback(i)};h.askMoreCards=function(i){};return h}})();XOXOXOonFeedlyFileIncluded("mobile/edito.tests.js");"use strict";(function(){var b=devhd.pkg("mobile");var a=devhd.i18n.L;b.createTestsEdito=function(){var f={};var e=null;f.setMag=function(g){e=g};var c=null;f.setLoadId=function(g){c=g};var d=null;
f.setURI=function(g){d=g};f.load=function(){};f.unload=function(){};f.askCards=function(g){e.declareCard({factory:CARD("TestsCard"),section:"Tests"});e.declareEndOfFeed();e.declareEndOfCards();devhd.fn.callback(g)};f.askMoreCards=function(g){};return f}})();XOXOXOonFeedlyFileIncluded("mobile/edito.stats.js");"use strict";(function(){var b=devhd.pkg("mobile");
var a=devhd.i18n.L;b.createStatsEdito=function(){var f={};var e=null;f.setMag=function(g){e=g};var c=null;f.setLoadId=function(g){c=g};var d=null;f.setURI=function(g){d=g};f.load=function(){};f.unload=function(){};f.askCards=function(g){e.declareCard({factory:CARD("StatsCard"),section:"Stats"});e.declareEndOfFeed();e.declareEndOfCards();devhd.fn.callback(g)
};f.askMoreCards=function(g){};return f}})();XOXOXOonFeedlyFileIncluded("mobile/edito.generic.js");"use strict";(function(){var a=devhd.pkg("mobile");a.createGenericEdito=function(){var d={};var c=null;d.setMag=function(e){c=e};var b=null;d.setURL=function(e){b=e};d.load=function(){};d.unload=function(){};d.askCards=function(e){c.declareCard({factory:CARD(b.slice(0,1).toUpperCase()+b.slice(1)+"Card"),section:b});
c.declareEndOfFeed();c.declareEndOfCards();devhd.fn.callback(e)};d.askMoreCards=function(e){};return d}})();