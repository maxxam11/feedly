"use strict";templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.activity=templates.mobile.activity||{};templates.mobile.activity.more=templates.mobile.activity.more||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.activity.more;function g(l){var k=arguments,j;for(j=1;j<k.length;j++){l.push(k[j])
}}function d(j){try{if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(k){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.css=function(l){var j=[];g(j,e[0],feedlyTheme.sb_back,e[1]);var k=(U-30-18)/2;g(j,e[2],U-(30+k),e[3],U,e[4],k,e[5],30+k,e[6],svg("mobile-icon-toolbar-twitter"),e[7],svg("mobile-icon-toolbar-facebook"),e[8],svg("mobile-icon-toolbar-messenger"),e[9],svg("mobile-icon-toolbar-gplus"),e[10],svg("mobile-icon-toolbar-email"),e[11],svg("mobile-icon-toolbar-feedly"),e[12],svg("mobile-icon-toolbar-feedly.saved"),e[13],svg("mobile-icon-toolbar-evernote"),e[14],svg("mobile-icon-toolbar-tag"),e[15],svg("mobile-icon-toolbar-onenote"),e[16],svg("mobile-icon-toolbar-pocket"),e[17],svg("mobile-icon-toolbar-instapaper"),e[18],svg("mobile-icon-toolbar-chrome"),e[19],svg("mobile-icon-toolbar-chrome"),e[20],svg("mobile-icon-toolbar-safari"),e[21],svg("mobile-icon-toolbar-buffer"),e[22]);
if(ANDROID()==true){g(j,e[23],usvg("mobile-icon-toolbar-share-android"),e[22])}else{g(j,e[23],usvg("mobile-icon-toolbar-share-ios"),e[22])}g(j,e[24],svg("mobile-icon-toolbar-unread"),e[25],svg("mobile-icon-toolbar-url"),e[26],svg("mobile-icon-toolbar-sms"),e[22]);return j.join(f)};i.layout=function(){var j=[];g(j,e[27],feedlyTheme.sb_highlight,e[28]);
if(enableMessenger&&AD==1){g(j,e[29],feedlyTheme.sb_highlight,e[30])}g(j,e[31],feedlyTheme.sb_highlight,e[32]);if(SOCIAL_GOOGLE_PLUS()){g(j,e[33],feedlyTheme.sb_highlight,e[34])}g(j,e[35],feedlyTheme.sb_highlight,e[36],feedlyTheme.sb_highlight,e[37],feedlyTheme.sb_highlight,e[38],feedlyTheme.sb_highlight,e[39],feedlyTheme.sb_highlight,e[40],feedlyTheme.sb_highlight,e[41],feedlyTheme.sb_highlight,e[42]);
if(ANDROID()==false){g(j,e[43],feedlyTheme.sb_highlight,e[44])}if(ANDROID()==false){g(j,e[45],feedlyTheme.sb_highlight,e[46])}g(j,e[47],feedlyTheme.sb_highlight,e[48],feedlyTheme.sb_highlight,e[49],feedlyTheme.sb_highlight,e[50]);if(ANDROID()==true){g(j,e[51],feedlyTheme.sb_highlight,e[52])}if(IOS_7PLUS()==true){g(j,e[51],feedlyTheme.sb_highlight,e[53])
}return j.join(f)};e=[" \nhtml \n{ \noverflow : hidden; \n} \nbody \n{ \nmargin : 0px; \npadding : 0px; \noverflow : hidden; \nbackground-color : ","; \n-webkit-touch-callout : none; \n-webkit-user-select : none; \n-webkit-tap-highlight-color : rgba( 0, 0, 0, 0 ); \n-webkit-text-size-adjust : none; \nfont-family : sans-serif; \n} \n","\n.button \n{ \ndisplay : block; \nheight : ","px; \nwidth : ","px; \n-webkit-background-size : 30px 30px; \nbackground-size : 30px 30px; \nbackground-repeat : no-repeat; \nbackground-position : center ","px; \nfloat : left; \nfont-size : 11px; \nline-height : 18px; \ncolor : #777777; \npadding-top : ","px; \ntext-align : center; \nopacity : 0.85; \n} \n#twitterButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#facebookButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#messengerButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#gplusButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#emailButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#feedlyButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#feedlyButton.saved \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \nopacity : 1; \n} \n#evernoteButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#tagButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#onenoteButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#pocketButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#instapaperButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#browserButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#browserButton.chrome \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#browserButton.safari \n{ \nbackground-image : url( "," ); -webkit-background-size : 30px 30px; \nbackground-size : 30px 30px; \n} \n#bufferButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n"," #systemButton \n{ \nbackground-image : url( "," \n#unreadButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#urlButton \n{ \nbackground-image : url( "," ); \nbackground-size : 30px 30px; \n} \n#smsButton \n{ \nbackground-image : url( ",' \n<div id="facebookButton" data-touch-highlight="','" class="button touchable" data-action="facebook" data-action-hint="Post to Facebook">Facebook</div> \n',' <div id="messengerButton" data-touch-highlight="','" class="button touchable" data-action="messenger" data-action-hint="Post to Messenger">Messenger</div> \n',' \n<div id="twitterButton" data-touch-highlight="','" class="button touchable" data-action="twitter" data-action-hint="Post to Twitter">Twitter</div> \n',' <div id="gplusButton" data-touch-highlight="','" class="button touchable" data-action="gplus" data-action-hint="Post to Google+">Google+</div> \n',' \n<div id="emailButton" data-touch-highlight="','" class="button touchable" data-action="email" data-action-hint="Email">Email</div> \n<div id="feedlyButton" data-touch-highlight="','" class="button touchable" data-action="feedly" data-action-hint="Save in feedly">Save</div> \n<div id="evernoteButton" data-touch-highlight="','" class="button touchable" data-action="evernote" data-action-hint="Save in Evernote">Evernote</div> \n<div id="onenoteButton" data-touch-highlight="','" class="button touchable" data-action="onenote" data-action-hint="Save in OneNote">OneNote</div> \n<div id="tagButton" data-touch-highlight="','" class="button touchable" data-action="tag" data-action-hint="Tag in feedly">Tag</div> \n<div id="pocketButton" data-touch-highlight="','" class="button touchable" data-action="pocket" data-action-hint="Save in Pocket">Pocket</div> \n<div id="instapaperButton" data-touch-highlight="','" class="button touchable" data-action="instapaper" data-action-hint="Save in Instapaper">Instapaper</div> \n',' <div id="smsButton" data-touch-highlight="','" class="button touchable" data-action="sms" data-action-hint="Send via SMS">SMS</div> \n',' <div id="bufferButton" data-touch-highlight="','" class="button touchable" data-action="buffer" data-action-hint="Post via Buffer">Buffer</div> \n',' <div id="unreadButton" data-touch-highlight="','" class="button touchable" data-action="unread" data-action-hint="Keep unread">Unread</div> \n<div id="urlButton" data-touch-highlight="','" class="button touchable" data-action="copyURL" data-action-hint="Copy link">Copy link</div> \n<div id="browserButton" data-touch-highlight="','" class="button touchable" data-action="browser" data-action-hint="Open in browser">Browser</div> \n',' <div id="systemButton" data-touch-highlight="','" class="button touchable" data-action="system" data-action-hint="Share using...">Android</div> \n','" class="button touchable" data-action="system" data-action-hint="Share using...">iOS Sharing</div> \n']
})();"use strict";devhd.extend=function(d,c,b){for(var a in c){if(b==0||b==undefined||d[a]==undefined){d[a]=c[a]}else{if(b!=1){throw new Error("property '"+a+"' already set when extending object")}}}return d};function CW(d,c,a){a=a||OUTER;var b=Math.floor((W-(2*OUTER+(c-1)*a))/c);return d*b+(d-1)*a}function CH(d,c,f,a){a=a||OUTER;var e=SH()-(f||0);var b=Math.floor((e-(2*OUTER+(c-1)*a))/c);
return d*b+(d-1)*a}function SH(){return H-NAVIGATION_BAR-LOCATOR}var T=null;var SETTINGS={};function THEME(){return SETTING("feedly_theme")||"white"}function themable(a){switch(THEME()){case"black":return a+"-black";case"white":default:return a+"-white"}}function TABLET(){return MODE=="tablet"}function IOS(){return SETTING("device_os").indexOf(" ios")>-1||SETTING("device_os").indexOf("iphone")>-1||SETTING("device_os").indexOf("ipad")>-1
}function SVG(){return IOS_7PLUS()||ANDROID_SVG()}function IOS_7PLUS(){return IOS()&&parseFloat(SETTING("device_os_version"))>=7}function IOS_8PLUS(){return IOS()&&parseFloat(SETTING("device_os_version"))>=8}function ANDROID_SVG(){return ANDROID()&&parseFloat(SETTING("device_os_level"))>=19}function ANDROID(){return SETTING("device_os")=="android"}function ANDROID_MED(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<18
}function ANDROID_LOW(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<16}function ANDROID_TWO(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<14}function KINDLE(){return(navigator.userAgent.indexOf("KFTT")>-1||navigator.userAgent.indexOf("Kindle Fire")>-1)}function KINDLE_LOW(){return KINDLE()&&parseFloat(SETTING("device_os_version"))<4.1
}function KINDLE_OLD(){return navigator.userAgent.indexOf("Kindle Fire")>-1}function SOCIAL_GOOGLE_PLUS(){return SETTING("social_google_plus")=="yes"}function FONT(){return"system"}function DP(a){if(a==null){return null}else{return Math.ceil(a/window.devicePixelRatio)}}function faces(a){return fFaces[a]}function family(a){if(feedlyFont[FONT()][a]!=null){return"font-family:"+feedlyFont[FONT()][a]+";"
}else{return"font-family:"+feedlyFont.common[a]+";"}}function SETTING(a){return SETTINGS[a]}function TRACK(b,d,a,c){$B.core.wm.postMessage("parent",{type:"analytics",category:b,action:d,label:a,value:c})}function UPDATE_SETTING(a,b){SETTINGS[a]=b;$B.core.application.setUserSetting(a,b)}function TREAD(a){try{return window.localStorage.getItem(a)}catch(b){$feedly("[TREAD] failed because "+b.name+" -- "+b.message);
return null}}function TWRITE(a,b){try{window.localStorage.setItem(a,b)}catch(c){$feedly("[TWRITE] failed because "+c.name+" -- "+c.message)}}function LREAD(a){try{return SETTING("feedly_local_"+a)}catch(b){$feedly("[LREAD] failed because "+b.name+" -- "+b.message);return null}}function LWRITE(a,b){try{LWRITES({key:b})}catch(c){$feedly("[LWRITE] failed because "+c.name+" -- "+c.message)
}}function LWRITES(f){try{var d={};for(var a in f){var b="feedly_local_"+a;d[b]=SETTINGS[b]=f[a]}$B.core.application.updateUserSettings(d,true)}catch(c){$feedly("[LWRITES] failed because "+c.name+" -- "+c.message)}}function LREMOVE(a){try{LWRITES({key:null})}catch(b){$feedly("[LREMOVE] failed because "+b.name+" -- "+b.message)}}function LREMOVES(b){try{var d={};
for(var a=0;a<b.length;a++){d[b[a]]=null}LWRITES(d)}catch(c){$feedly("[LREMOVES] failed because "+c.name+" -- "+c.message)}}function FAVICON(a){try{if(a==null){return"https://www.google.com/s2/favicons?domain=google.com"}if(a.indexOf("twitter.com")>-1){return"http://twitter.com/favicon.ico"}return"https://www.google.com/s2/favicons?domain="+a.split("/").slice(2,3)+"&alt=feed"
}catch(b){return"https://www.google.com/s2/favicons?domain=google.com"}}function GET(c,e,f,d,i,a){if(d==null){d={}}if(i==null){i=30000}if(a==null){a=0}var j=null;var g=new Date().getTime();var h=new XMLHttpRequest();h.onreadystatechange=function(){if(h.readyState==4){if(j==null){return}if(j!=null){window.clearTimeout(j);j=null}if(h.status==200||h.status==201){e(h.responseText)
}else{if(h.status==0){if(a<2){window.setTimeout(function(){GET(c,e,f,d,i,a+1)},1000)}else{f("Failed to connect to the network")}}else{f(h.status)}}}};j=window.setTimeout(function(){if(j==null){return}window.clearTimeout(j);j=null;f("Failed to connect to the network")},i);h.open("GET",c,true);for(var b in d){h.setRequestHeader(b,d[b])}h.send("")}function POST(b,f,d,e,c,g){if(c==null){c={}
}if(g==null){g=30000}var i=null;var h=new XMLHttpRequest();h.onreadystatechange=function(){if(h.readyState==4){if(i==null){return}if(i!=null){window.clearTimeout(i);i=null}if(h.status==200||h.status==201){d(h.responseText)}else{e(h.status)}}};i=window.setTimeout(function(){if(i==null){return}window.clearTimeout(i);i=null;e("Failed to connect to the network")
},g);h.open("POST",b,true);for(var a in c){h.setRequestHeader(a,c[a])}h.send(f)}function JGET(a,d,b,e,c){GET(a,function(f){d(JSON.parse(f))},b,e,c)}function HINT(a){if(a==null){return}SIGN("[?] "+a)}function SIGN(b,a){if(b==null){return}$B.core.wm.sign(b,a,{})}function image(b){var a=["images/",b];if(window.devicePixelRatio>1){a.push("@2x")}a.push(".png");
return a.join("")}function svg(b){if(IOS_7PLUS()){var a=["images/",b];a.push("~ios");a.push(".svg");return a.join("")}else{if(ANDROID_SVG()){var a=["images/",b];a.push("~android");a.push(".svg");return a.join("")}else{return image(b)}}}function usvg(b){if(SVG()){var a=["images/",b];a.push(".svg");return a.join("")}else{return image(b)}}function findByClass(b,a){if(b==null){return null
}if(b.className!=null&&b.className.indexOf(a)>-1){return b}return null}function element(a){return document.getElementById(a)}function injectCSS(a){var b=document.createElement("style");b.setAttribute("data-injected","yes");b.setAttribute("type","text/css");b.innerText=a;document.getElementsByTagName("head")[0].appendChild(b)}function removeInjectedCSS(){try{var d=document.getElementsByTagName("style");
var b=0;for(var a=0;a<d.length;a++){if(d[a].getAttribute("data-injected")=="yes"){d[a].parentNode.removeChild(d[a]);b++}}return true}catch(c){$feedly("failed to remove injected CSS because "+c.name+" -- "+c.message);return false}}function refreshCSS(){removeInjectedCSS();switch(THEME()){case"black":feedlyTheme=THEME_BLACK;break;case"white":default:feedlyTheme=THEME_WHITE
}T=templates.mobile.activity[ACTIVITY_NAME];if(T!=null&&T.css!=null){injectCSS(T.css())}}function setupActivity(a){try{T=templates.mobile.activity[ACTIVITY_NAME];if(T!=null&&T.css!=null){injectCSS(T.css())}if(T!=null&&T.layout!=null){document.body.className=(document.body.className||"")+" "+SETTING("device_os")+" "+(KINDLE()?"kindle":"");document.body.innerHTML=T.layout(a)
}}catch(b){$feedly("[activity] failed to setup:"+JSON.stringify(a));throw b}}function makeActionable(a){var b=document.body;b.ontouchstart=fastTouchStart;b.ontouchmove=fastTouchMove;b.ontouchend=fastTouchEnd;b.ontouchcancel=fastTouchCancel}var startX;var startY;var maxDeltaX;var maxDeltaY;var touchable=null;var highlightTimer=null;var longTouchTimer=null;
var oldBackground=null;var t0=null;function unhighlightTouchable(){if(touchable==null){return}if(touchable.getAttribute("data-highlight-longer")=="yes"){window.setTimeout(function(){touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null},500)}else{touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null
}}function fastTouchStart(a){a.preventDefault();a.stopPropagation();t0=new Date().getTime();maxDeltaX=0;maxDeltaY=0;if(longTouchTimer!=null){window.clearTimeout(longTouchTimer);longTouchTimer=null}if(touchable!=null){touchable.style.backgroundColor=oldBackground;touchable=null}startX=a.targetTouches[0].clientX;startY=a.targetTouches[0].clientY;touchable=findByClass(a.targetTouches[0].target,"touchable");
if(touchable!=null){oldBackground=touchable.style.backgroundColor;touchable.style.backgroundColor=touchable.getAttribute("data-touch-highlight")||feedlyTheme.highlight;if(ANDROID()){longTouchTimer=window.setTimeout(function(){if(touchable==null){return}var b=touchable.getAttribute("data-action-hint");if(b!=null){HINT(b)}touchable.style.backgroundColor=oldBackground;
touchable=null},1000)}}}function fastTouchMove(a){a.preventDefault();a.stopPropagation()}function fastTouchEnd(a){a.preventDefault();a.stopPropagation();if(longTouchTimer!=null){window.clearTimeout(longTouchTimer);longTouchTimer=null}if(touchable==null){return}try{onAction(touchable.getAttribute("data-action"),touchable)}catch(b){$feedly("[activity] onAction failed")
}unhighlightTouchable()}function fastTouchCancel(a){if(touchable!=null){touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null}}function MAIN(a){setupActivity(a);updateBrowserElem();hideFavoriteElems();makeActionable()}function ONAPPEVENT(a){switch(a.type){case"wmstartgesture":unhighlightTouchable();break;case"wmbeforehide":unhighlightTouchable();
break;case"visibility":unhighlightTouchable();break;case"userSettings":SETTINGS=a;hideFavoriteElems();updateBrowserElem();break;default:break}}function ONEVENT(b){switch(b.type){case"updateIcons":var a=document.getElementById("feedlyButton");if(a!=null){if(b.saved==true){a.className="touchable button saved"}else{a.className="touchable button"}}break;
default:}}function hideFavoriteElems(){try{var a=document.getElementsByClassName("button");for(var b=0;b<a.length;b++){a[b].style.display="block"}var c=document.getElementById((SETTING("feedly_favorite_sharing_tool")||"twitter")+"Button");if(c!=null){c.style.display="none"}var d=document.getElementById((SETTING("feedly_favorite_saving_tool")||"feedly")+"Button");
if(d!=null){d.style.display="none"}}catch(f){$feedly("[more] failed to hide favorite elements because:"+f.name+" -- "+f.message)}}function updateBrowserElem(){try{var a=ANDROID()?"chrome":(SETTING("feedly_open_links_chrome")=="yes"?"chrome":"safari");document.getElementById("browserButton").className="button touchable "+a}catch(b){}}function onAction(a){if(a=="close"){$B.core.wm.hide("self")
}else{$B.core.wm.hide("self");$B.core.wm.postMessage("parent",{type:"action",action:a})}};