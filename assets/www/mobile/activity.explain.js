"use strict";templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.activity=templates.mobile.activity||{};templates.mobile.activity.explain=templates.mobile.activity.explain||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.activity.explain;function g(l){var k=arguments,j;for(j=1;j<k.length;j++){l.push(k[j])
}}function d(j){try{if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(k){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.css=function(k){var j=[];g(j,e[0],LETTER_SPACING,e[1],3*PAD,e[2],usvg("mobile-login-google"),e[3],usvg("mobile-login-facebook"),e[4],Math.min(Math.floor((PANEL_W-2*PAD-2*3)/3)-2,88),e[5],usvg("mobile-login-twitter"),e[6],usvg("mobile-login-windows"),e[7],usvg("mobile-login-evernote"),e[8]);
return j.join(f)};i.layout=function(){var j=[];var l=Math.floor(PANEL_W-2*PAD,400);var k="Continue";if(mode=="signin"){k="Login"}g(j,e[9],usvg("mobile-login-feedly-logo"),e[10],l,e[11],image("mobile-login-devices"),e[12],l,e[13],Math.floor(l/400*200),e[14],PAD,e[15],l,e[16]);if(mode=="signin"){g(j,e[17])}else{g(j,e[18])}g(j,e[19],k,e[20],k,e[21]);return j.join(f)
};e=[" \nbody \n{ \npadding : 0px; \nmargin : 0px; \nfont-family : sans-serif; \nfont-size : 13px; \nline-height : 1.4em; \nbackground-color : white; \n} \n#intro \n{ \nbackground-color : white; \nheight : 100%; \ncolor : #666666; \nfont-size : 16px; \n} \n#feedlyLogo \n{ \npadding-bottom : 5px; \nborder-bottom : 1px solid rgba( 0, 0, 0, 0.3 ); \n} \n#feedlyBanner \n{ \nfont-size : 20px; \nfont-weight : bold; \nletter-spacing : ","; \nline-height : 1.3em; \ntext-align : center; \ncolor : #494949; \nmargin-bottom : ","px; \n} \n.button \n{ \nmargin-bottom : 10px; \nborder-radius : 3px; \nbackground-repeat : no-repeat; \ncursor : pointer; \ntext-decoration : none; \n} \n.button.primary \n{ \ncolor : white; \nfont-size : 16px; \nline-height : 56px; \nmargin-bottom : 10px; \npadding-left : 56px; \nbackground-position : 14px 14px; \nbackground-size : 28px 28px; \nbackground-repeat : no-repeat; \ncursor : pointer; \ndisplay : block; \ntext-decoration : none; \nmax-width : 224px; \nmargin-left : auto; \nmargin-right : auto; \ndisplay : block; \n-webkit-font-smoothing : antialiased; \n} \n.or \n{ \ncolor : #999; \ntext-align : center; \nfont-size : 14px; \npadding-top : 10px; \npadding-bottom : 18px; \n} \n.button.google \n{ \nbackground-color : #488ae9; \nbackground-image : url('","'); \n} \n.button.google:hover \n{ \nbackground-color : #3c76c9; \n} \n.button.facebook \n{ \nbackground-color : #4963A4; \nbackground-image : url('","'); \n} \n.button.facebook:hover \n{ \nbackground-color : #3A4F82; \n} \n.button.secondary \n{ \nborder : 1px solid #EAEAEA; \nborder-radius : 3px; \nwidth : ","px; \nheight : 54px; \nbackground-size : 28px 28px; \nbackground-repeat : no-repeat; \nbackground-position : center center; \ndisplay : inline-block; \n} \n.button.secondary:hover \n{ \nborder : 1px solid #CCC; \n} \n.button.twitter \n{ \nbackground-image : url('","'); \nmargin-right : 3px; \n} \n.button.microsoft \n{ \nbackground-image : url('","'); \nmargin-right : 3px; \n} \n.button.evernote \n{ \nbackground-image : url('","'); \n} \n",'\n<img src="','" style="display:block; padding-left:15px; padding-top:15px" width="80" height="23" /> \n<div style="max-width:','px; margin-left: auto; margin-right:auto"> \n<img src="','" width="','" height="','" style="margin-top:',"px; width:",'px; display:block; margin-left: auto; margin-right:auto" /> \n<div id="feedlyBanner"> \n'," Welcome back.<br> \nLogin to access your feedly. \n"," Create an account and<br> \naccess your feedly everywhere. \n",' </div> \n<a class="button primary google" onclick="go( \'Google\' )"">',' with <b>Google</b></a> \n<a class="button primary facebook" onclick="go( \'Facebook\' )"">',' with <b>Facebook</b></a> \n<div class="or">or</div> \n<div style="margin-left:auto; margin-right:auto; clear:both"> \n<a class="button secondary twitter" onclick="go( \'Twitter\' )" \n></a><a class="button secondary microsoft" onclick="go( \'WindowsLive\' )" \n></a><a class="button secondary evernote" onclick="go( \'Evernote\' )"></a> \n</div> \n</div> \n']
})();"use strict";devhd.extend=function(d,c,b){for(var a in c){if(b==0||b==undefined||d[a]==undefined){d[a]=c[a]}else{if(b!=1){throw new Error("property '"+a+"' already set when extending object")}}}return d};function CW(d,c,a){a=a||OUTER;var b=Math.floor((W-(2*OUTER+(c-1)*a))/c);return d*b+(d-1)*a}function CH(d,c,f,a){a=a||OUTER;var e=SH()-(f||0);var b=Math.floor((e-(2*OUTER+(c-1)*a))/c);
return d*b+(d-1)*a}function SH(){return H-NAVIGATION_BAR-LOCATOR}var T=null;var SETTINGS={};function THEME(){return SETTING("feedly_theme")||"white"}function themable(a){switch(THEME()){case"black":return a+"-black";case"white":default:return a+"-white"}}function TABLET(){return MODE=="tablet"}function IOS(){return SETTING("device_os").indexOf(" ios")>-1||SETTING("device_os").indexOf("iphone")>-1||SETTING("device_os").indexOf("ipad")>-1
}function SVG(){return IOS_7PLUS()||ANDROID_SVG()}function IOS_7PLUS(){return IOS()&&parseFloat(SETTING("device_os_version"))>=7}function IOS_8PLUS(){return IOS()&&parseFloat(SETTING("device_os_version"))>=8}function ANDROID_SVG(){return ANDROID()&&parseFloat(SETTING("device_os_level"))>=19}function ANDROID(){return SETTING("device_os")=="android"}function ANDROID_MED(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<18
}function ANDROID_LOW(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<16}function ANDROID_TWO(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<14}function KINDLE(){return(navigator.userAgent.indexOf("KFTT")>-1||navigator.userAgent.indexOf("Kindle Fire")>-1)}function KINDLE_LOW(){return KINDLE()&&parseFloat(SETTING("device_os_version"))<4.1
}function KINDLE_OLD(){return navigator.userAgent.indexOf("Kindle Fire")>-1}function SOCIAL_GOOGLE_PLUS(){return SETTING("social_google_plus")=="yes"}function FONT(){return"system"}function DP(a){if(a==null){return null}else{return Math.ceil(a/window.devicePixelRatio)}}function faces(a){return fFaces[a]}function family(a){if(feedlyFont[FONT()][a]!=null){return"font-family:"+feedlyFont[FONT()][a]+";"
}else{return"font-family:"+feedlyFont.common[a]+";"}}function SETTING(a){return SETTINGS[a]}function TRACK(b,d,a,c){$B.core.wm.postMessage("parent",{type:"analytics",category:b,action:d,label:a,value:c})}function UPDATE_SETTING(a,b){SETTINGS[a]=b;$B.core.application.setUserSetting(a,b)}function TREAD(a){try{return window.localStorage.getItem(a)}catch(b){$feedly("[TREAD] failed because "+b.name+" -- "+b.message);
return null}}function TWRITE(a,b){try{window.localStorage.setItem(a,b)}catch(c){$feedly("[TWRITE] failed because "+c.name+" -- "+c.message)}}function LREAD(a){try{return SETTING("feedly_local_"+a)}catch(b){$feedly("[LREAD] failed because "+b.name+" -- "+b.message);return null}}function LWRITE(a,b){try{LWRITES({key:b})}catch(c){$feedly("[LWRITE] failed because "+c.name+" -- "+c.message)
}}function LWRITES(f){try{var d={};for(var a in f){var b="feedly_local_"+a;d[b]=SETTINGS[b]=f[a]}$B.core.application.updateUserSettings(d,true)}catch(c){$feedly("[LWRITES] failed because "+c.name+" -- "+c.message)}}function LREMOVE(a){try{LWRITES({key:null})}catch(b){$feedly("[LREMOVE] failed because "+b.name+" -- "+b.message)}}function LREMOVES(b){try{var d={};
for(var a=0;a<b.length;a++){d[b[a]]=null}LWRITES(d)}catch(c){$feedly("[LREMOVES] failed because "+c.name+" -- "+c.message)}}function FAVICON(a){try{if(a==null){return"https://www.google.com/s2/favicons?domain=google.com"}if(a.indexOf("twitter.com")>-1){return"http://twitter.com/favicon.ico"}return"https://www.google.com/s2/favicons?domain="+a.split("/").slice(2,3)+"&alt=feed"
}catch(b){return"https://www.google.com/s2/favicons?domain=google.com"}}function GET(c,e,f,d,i,a){if(d==null){d={}}if(i==null){i=30000}if(a==null){a=0}var j=null;var g=new Date().getTime();var h=new XMLHttpRequest();h.onreadystatechange=function(){if(h.readyState==4){if(j==null){return}if(j!=null){window.clearTimeout(j);j=null}if(h.status==200||h.status==201){e(h.responseText)
}else{if(h.status==0){if(a<2){window.setTimeout(function(){GET(c,e,f,d,i,a+1)},1000)}else{f("Failed to connect to the network")}}else{f(h.status)}}}};j=window.setTimeout(function(){if(j==null){return}window.clearTimeout(j);j=null;f("Failed to connect to the network")},i);h.open("GET",c,true);for(var b in d){h.setRequestHeader(b,d[b])}h.send("")}function POST(b,f,d,e,c,g){if(c==null){c={}
}if(g==null){g=30000}var i=null;var h=new XMLHttpRequest();h.onreadystatechange=function(){if(h.readyState==4){if(i==null){return}if(i!=null){window.clearTimeout(i);i=null}if(h.status==200||h.status==201){d(h.responseText)}else{e(h.status)}}};i=window.setTimeout(function(){if(i==null){return}window.clearTimeout(i);i=null;e("Failed to connect to the network")
},g);h.open("POST",b,true);for(var a in c){h.setRequestHeader(a,c[a])}h.send(f)}function JGET(a,d,b,e,c){GET(a,function(f){d(JSON.parse(f))},b,e,c)}function HINT(a){if(a==null){return}SIGN("[?] "+a)}function SIGN(b,a){if(b==null){return}$B.core.wm.sign(b,a,{})}function image(b){var a=["images/",b];if(window.devicePixelRatio>1){a.push("@2x")}a.push(".png");
return a.join("")}function svg(b){if(IOS_7PLUS()){var a=["images/",b];a.push("~ios");a.push(".svg");return a.join("")}else{if(ANDROID_SVG()){var a=["images/",b];a.push("~android");a.push(".svg");return a.join("")}else{return image(b)}}}function usvg(b){if(SVG()){var a=["images/",b];a.push(".svg");return a.join("")}else{return image(b)}}function findByClass(b,a){if(b==null){return null
}if(b.className!=null&&b.className.indexOf(a)>-1){return b}return null}function element(a){return document.getElementById(a)}function injectCSS(a){var b=document.createElement("style");b.setAttribute("data-injected","yes");b.setAttribute("type","text/css");b.innerText=a;document.getElementsByTagName("head")[0].appendChild(b)}function removeInjectedCSS(){try{var d=document.getElementsByTagName("style");
var b=0;for(var a=0;a<d.length;a++){if(d[a].getAttribute("data-injected")=="yes"){d[a].parentNode.removeChild(d[a]);b++}}return true}catch(c){$feedly("failed to remove injected CSS because "+c.name+" -- "+c.message);return false}}function refreshCSS(){removeInjectedCSS();switch(THEME()){case"black":feedlyTheme=THEME_BLACK;break;case"white":default:feedlyTheme=THEME_WHITE
}T=templates.mobile.activity[ACTIVITY_NAME];if(T!=null&&T.css!=null){injectCSS(T.css())}}function setupActivity(a){try{T=templates.mobile.activity[ACTIVITY_NAME];if(T!=null&&T.css!=null){injectCSS(T.css())}if(T!=null&&T.layout!=null){document.body.className=(document.body.className||"")+" "+SETTING("device_os")+" "+(KINDLE()?"kindle":"");document.body.innerHTML=T.layout(a)
}}catch(b){$feedly("[activity] failed to setup:"+JSON.stringify(a));throw b}}function makeActionable(a){var b=document.body;b.ontouchstart=fastTouchStart;b.ontouchmove=fastTouchMove;b.ontouchend=fastTouchEnd;b.ontouchcancel=fastTouchCancel}var startX;var startY;var maxDeltaX;var maxDeltaY;var touchable=null;var highlightTimer=null;var longTouchTimer=null;
var oldBackground=null;var t0=null;function unhighlightTouchable(){if(touchable==null){return}if(touchable.getAttribute("data-highlight-longer")=="yes"){window.setTimeout(function(){touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null},500)}else{touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null
}}function fastTouchStart(a){a.preventDefault();a.stopPropagation();t0=new Date().getTime();maxDeltaX=0;maxDeltaY=0;if(longTouchTimer!=null){window.clearTimeout(longTouchTimer);longTouchTimer=null}if(touchable!=null){touchable.style.backgroundColor=oldBackground;touchable=null}startX=a.targetTouches[0].clientX;startY=a.targetTouches[0].clientY;touchable=findByClass(a.targetTouches[0].target,"touchable");
if(touchable!=null){oldBackground=touchable.style.backgroundColor;touchable.style.backgroundColor=touchable.getAttribute("data-touch-highlight")||feedlyTheme.highlight;if(ANDROID()){longTouchTimer=window.setTimeout(function(){if(touchable==null){return}var b=touchable.getAttribute("data-action-hint");if(b!=null){HINT(b)}touchable.style.backgroundColor=oldBackground;
touchable=null},1000)}}}function fastTouchMove(a){a.preventDefault();a.stopPropagation()}function fastTouchEnd(a){a.preventDefault();a.stopPropagation();if(longTouchTimer!=null){window.clearTimeout(longTouchTimer);longTouchTimer=null}if(touchable==null){return}try{onAction(touchable.getAttribute("data-action"),touchable)}catch(b){$feedly("[activity] onAction failed")
}unhighlightTouchable()}function fastTouchCancel(a){if(touchable!=null){touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null}}var mode="signup";function MAIN(a){try{mode=a.mode;setupActivity(a);$B.core.wm.show("self")}catch(b){$feedly("[explain] MAIN failed:"+b.name+" -- "+b.message)}}function ONAPPEVENT(a){switch(a.type){case"userSettings":SETTINGS=a;
feedlyApplicationVersion=SETTING("feedly_app_version");break;case"visibility":if(a.visible=="hidden"){$B.core.wm.close("self")}break;default:}}function go(a){if(mode=="signin"){$B.core.wm.postMessage("parent",{type:"startSignin",signinType:a})}else{$B.core.wm.postMessage("parent",{type:"startSignup",signupType:a})}$B.core.wm.close("self")}function cancel(){$B.core.wm.close("self")
};