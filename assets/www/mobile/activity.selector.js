"use strict";templates=templates||{};templates.mobile=templates.mobile||{};templates.mobile.activity=templates.mobile.activity||{};templates.mobile.activity.selector=templates.mobile.activity.selector||{};(function(){var h=devhd.i18n.L,a=devhd.i18n.$L,e=[],f="",i=templates.mobile.activity.selector;function g(l){var k=arguments,j;for(j=1;j<k.length;j++){l.push(k[j])
}}function d(j){try{if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}catch(k){return""}}function c(j){if(j==null){return""}if(typeof j!="string"){return j}if(typeof j.replace!="function"){return j}return j.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\\/g,"\\\\").replace(/\"/g,"&quot;").replace(/[\f\r\t\n]/g," ").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")
}function b(j){if(aString==null){return null}return aString.replace(/<\/?[^>]+>/gi,"")}i.css=function(n){var j=[];g(j,e[0],PANEL_W,e[1],feedlyTheme.se_back,e[2],feedlyTheme.se_color,e[3],LIST_BAR,e[4],family("regular"),e[5],NAVIGATION_BAR,e[6],NAVIGATION_BAR,e[7],LIST_BAR,e[8],feedlyTheme.se_meta,e[9],PAD,e[10],PAD,e[11],family("regular"),e[12],feedlyTheme.se_block,e[13],Math.floor((54-40)/2),e[14],Math.floor((LIST_BAR-40)/2),e[15],Math.floor((LIST_BAR-40)/2),e[16],svg(themable("mobile-selector-right-arrow")),e[17]);
if(ANDROID_LOW()==false){g(j,e[18])}g(j,e[19],feedlyTheme.se_border,e[20],LIST_BAR,e[21],LIST_BAR,e[22],LIST_BAR,e[23],PANEL_W-34-54-PAD,e[24],LIST_BAR,e[25],LIST_BAR,e[26],family("regular"),e[27],LIST_BAR,e[28],PAD,e[29],feedlyTheme.se_block,e[30],family("regular"),e[31],feedlyTheme.se_border,e[32],feedlyTheme.se_border,e[33]);if(SETTING("device_os")!="android"){g(j,e[34])
}g(j,e[35],PANEL_W-54-18-10-35-12*2-1,e[36],family("regular"),e[37],feedlyTheme.se_meta,e[38],family("regular"),e[39],(LIST_BAR-16)/2,e[40],LIST_BAR,e[41],LIST_BAR,e[42],svg(themable("mobile-checkbox-unchecked")),e[43],svg(themable("mobile-checkbox-checked")),e[44],feedlyTheme.se_highlight,e[45],LIST_BAR,e[46],LIST_BAR,e[47],LIST_BAR,e[48],LIST_BAR,e[8],feedlyTheme.se_color,e[30],family("regular"),e[49],LIST_BAR,e[11],family("regular"),e[50],PANEL_W-2*PAD,e[51],PAD,e[52],PAD,e[53],(562/2)-4*PAD,e[6],2*PAD,e[54],-PAD,e[55],LETTER_SPACING,e[30],family("header"),e[56],PAD,e[57],PAD,e[58],FEEDLY_GREEN,e[59],PAD,e[10],PAD,e[60],PAD,e[61],FEEDLY_GREEN,e[62],feedlyTheme.secondary_text,e[63],feedlyTheme.secondary,e[64],FEEDLY_GREEN,e[65]);
for(var k=0;k<7;k++){g(j,e[66],k,e[67],PALETTE[k],e[30]);if(ANDROID_LOW()==false){g(j,e[68])}g(j,e[69],k,e[70],feedlyTheme.se_empty,e[71])}g(j,e[72],svg(themable("mobile-selector-feedly")),e[73],svg(themable("mobile-selector-favorite")),e[74],svg(themable("mobile-selector-saved")),e[75],svg(themable("mobile-selector-latest")),e[76],svg(themable("mobile-selector-tag")),e[77]);
var m=10;var o=Math.floor((PANEL_W-1-2*m-2*20)/3-2);var l=o+15;g(j,e[78],Math.floor((l-30-26)/2),e[79],o,e[51],l,e[80],feedlyTheme.se_border,e[81],m,e[57],m,e[82],l-26,e[51],26,e[83],PAD,e[60],PAD,e[84],18*2,e[51],18*2,e[85],19,e[86],PANEL_W-3*OUTER-2*18,e[87]);return j.join(f)};i.layoutGetStarted=function(k){var j=[];g(j,e[88],FEEDLY_GREEN_HI,e[89],PAD,e[90],PANEL_W-3*PAD,e[91]);
if(k.logged){g(j,e[92])}else{g(j,e[93])}g(j,e[94]);return j.join(f)};i.layout=function(j){var k=[];g(k,e[95],PANEL_W,e[96],PAD,e[97],feedlyTheme.se_meta,e[98],H-2*PAD,e[99]);return k.join(f)};i.social=function(k){var j=[];return j.join(f)};i.layoutSources=function(s,u){var w=[];var x=s.cats;var n=s.others.slice(0,750);var y=s.mustReads.slice(0,250);
var m=s.unconfigured;var t=s.mustReadUnreadCount;var o=s.userEmail||"";for(var r=0;r<x.length;r++){x[r].index=r}if(m==false){g(w,e[100]);if(s.subscriptionCount>0){g(w,e[101],2*PAD,e[102],s.readingListUnreadCount==0?"empty":"",e[103],s.readingListTerm,e[104])}g(w,e[105],TREAD("cat_global.must")||"closed",e[106],(y==null||y.length==0)?"none":"block",e[107],s.mustReadTerm,e[108],s.mustReadUnreadCount==0?"empty":"",e[109],s.mustReadTerm,e[110],s.mustReadTerm,e[111],prettyCount(s.mustReadUnreadCount),e[112]);
if(TREAD("cat_global.must")=="open"){g(w,i.sources(y,"cat_global.must",u))}g(w,e[113],2*PAD,e[114],s.readingListTerm,e[115],s.readingListUnreadCount==0?"empty":"",e[103],s.readingListTerm,e[116],s.readingListTerm,e[117],prettyCategoryCount(s.readingListUnreadCount),e[118]);g(w,i.categories(x,null,u));g(w,e[119]);g(w,i.social(s));if(n.length>0){g(w,e[120],TREAD("cat_global.uncategorized")||"closed",e[121]);
if(TREAD("cat_global.uncategorized")=="open"){for(var p=0;p<n.length;p++){g(w,i.source(n[p],u))}}g(w,e[94])}g(w,e[122],2*PAD,e[91]);if(s.tags!=null&&s.tags.length>0){g(w,i.tags(s.tags))}g(w,e[123],2*PAD,e[124]);var k=TREAD("more")||"closed";g(w,e[125],2*PAD,e[91]);g(w,i.shortcut("Recently Read","list://user/-/state/com.google/read"));g(w,i.shortcut("Edit Content","action:switchToEditMode"));
g(w,i.shortcut("Switch Theme","action:toggleTheme"));if(ANDROID()==false){g(w,i.shortcut("Clear caches","action:clearCaches"))}g(w,i.shortcut("Connections","action:connections"));g(w,i.shortcut("Settings","action:settings"));g(w,e[126]);g(w,i.action("Re-order Alphabetically","resetCategoriesOrdering"));g(w,i.shortcut("Console","console"));g(w,i.shortcut("IO Stats","stats"));
g(w,i.shortcut("Unit Tests","tests"));g(w,i.shortcut("Rate Us !!","action:app/396069556"));g(w,i.shortcut("Install: Evernote","action:app/281796108"));g(w,e[127]);g(w,i.shortcut("Logout","action:logout"));g(w,e[119]);var l="";var v="";var q=null;if(s.profile!=null&&s.profile.cover!=null&&s.profile.cover.picture!=null){q=s.profile.cover.picture}else{if(s.profile!=null&&s.profile.picture!=null){q=s.profile.picture
}}switch(s.session.provider){case"Twitter":l="@"+s.profile.twitter;v="via Twitter";break;case"Facebook":l=s.profile.email||s.profile.fullName;v="via Facebook";break;case"Evernote":l=s.profile.email||s.profile.fullName;v="via Evernote";break;case"WindowsLive":l=s.profile.email||s.profile.fullName;v="via Microsoft";break;case"Google":case"GooglePlus":l=s.profile.email||s.profile.fullName;
v="via Google";break;default:l=s.profile.email||s.profile.fullName;v="via "+(s.session.provider||"Unknown")}g(w,e[128],2*PAD,e[129],q,e[130],l,e[131],v,e[132])}g(w,e[133],feedlyApplicationVersion,e[134]);return w.join(f)};i.tags=function(k){var j=[];for(var l=0;l<k.length&&l<100;l++){if(k[l].label!=null&&k[l].id.indexOf("global.")!=0){g(j,e[135],k[l].label,e[136],l==k.length-1?"bbordered":"",e[137],k[l].id,e[138],k[l].label,e[139])
}}return j.join(f)};i.action=function(k,l){var j=[];g(j,e[140],l,e[141],k,e[142]);return j.join(f)};i.shortcut=function(l,k){var j=[];g(j,e[143],c(k),e[144],l,e[119]);return j.join(f)};i.categories=function(l,j,n){var k=[];for(var m=0;m<l.length&&m<1000;m++){var o=j||TREAD("cat_"+l[m].flsId)||(m<3?"open":"closed");g(k,e[145],c(l[m].flsId),e[136],o,e[146],c(l[m].flsId),e[147],c(l[m].index),e[148],c("cat_"+l[m].flsId),e[149],c(l[m].flsId),e[150],c(l[m].flsId),e[151],isEmpty(l[m].unreadCount)?"empty":"",e[152],c(l[m].flsId),e[103],c(l[m].flsId),e[153],l[m].label,e[154],c(l[m].flsId),e[117],prettyCategoryCount(l[m].unreadCount),e[155],c(l[m].flsId),e[156]);
if(o=="open"){g(k,i.sources(l[m].subscriptions,"cat_"+l[m].flsId,null,n))}g(k,e[94])}return k.join(f)};i.sources=function(n,p,q,r){var s=[];var k=1000;var u=1000;var m=q||5;var t=[];var l=[];for(var o=0;o<n.length;o++){if(n[o].unreadCount==null||n[o].unreadCount>0){t.push(n[o])}else{l.push(n[o])}}if(t.length==0&&l.length>0){t=l.slice(0,m);l=l.slice(m)
}for(var o=0;o<t.length;o++){g(s,i.source(t[o],r))}if(l.length>0){g(s,e[157],p,e[158],p,e[159],l.length,e[160],l.length>1?"s":"",e[161],p,e[162]);for(var o=0;o<l.length;o++){g(s,i.source(l[o],false))}g(s,e[163])}return s.join(f)};i.source=function(m,l){var k=[];var j=computeFavicon(m.u||m.id.slice("feed/".length));g(k,e[164],c(m.flsId||m.id),e[165],c(m.flsId||m.id),e[166],c(m.title),e[167]);
if(l){g(k,e[168],j,e[169])}else{g(k,e[170],j,e[171])}g(k,e[172],c(m.flsId||m.id),e[173],c(m.flsId||m.id),e[174],prettyCount(m.unreadCount),e[175],d(m.title),e[176]);return k.join(f)};i.layoutTop=function(){var j=[];g(j,e[177],PANEL_W,e[178],feedlyTheme.se_back,e[2],feedlyTheme.se_color,e[179],PANEL_W,e[180],PANEL_W,e[181],NAVIGATION_BAR,e[182],NAVIGATION_BAR,e[21],NAVIGATION_BAR,e[183],family("regular"),e[184],NAVIGATION_BAR-12,e[185]);
return j.join(f)};i.layoutBottom=function(){var j=[];g(j,e[186],PANEL_W,e[187],feedlyTheme.se_back,e[2],feedlyTheme.se_color,e[188],family("regular"),e[184],NAVIGATION_BAR,e[189],Math.floor(PANEL_W-2*18),e[190],NAVIGATION_BAR-2*18-2,e[191],NAVIGATION_BAR-2*18-2,e[29],FEEDLY_GREEN,e[192],PANEL_W,e[193]);return j.join(f)};e=["\nbody\n{\nmargin : 0px;\npadding : 0px;\nwidth : ","px;\noverflow : hidden;\nbackground : ",";\ncolor : ",";\nline-height : ","px;\nfont-size : 16px;\n","\n-webkit-touch-callout : none;\n-webkit-user-select : none;\n-webkit-tap-highlight-color : rgba( 0, 0, 0, 0 );\n-webkit-text-size-adjust : none;\n}\n.editable .nonEditable\n{\ndisplay : none;\n}\nbody.editable\n{\npadding-top : ","px;\npadding-bottom : ","px;\n}\n*\n{\n-webkit-tap-highlight-color : rgba( 0, 0, 0, 0 );\n-webkit-user-select : none;\n}\n.footer\n{\nfont-size : 12px;\n; line-height : ","px;\ncolor : ",";\nmargin-top : ","px;\npadding-left : ","px;\n","\n}\n.block\n{\nbackground : ","; \n}\n.block.open_ \n{\nmargin-bottom : 40px;\n}\n.touchable\n{\ndisplay : block;\n-webkit-touch-callout : none;\n-webkit-user-select : none;\n-webkit-tap-highlight-color : rgba( 0, 0, 0, 0 );\nuser-select : none;\n}\n.handleHolder\n{\npadding : ","px; \npadding-top : ","px; \npadding-bottom : ","px; \nfloat : left;\nheight : 40px;\nwidth : 40px;\noverflow : hidden;\nopacity : 0.5;\n}\n.handle\n{\nbackground-image : url( "," );\nbackground-position : center center;\nbackground-repeat : no-repeat;\n-webkit-background-size : 44px 44px;\nbackground-size : 44px 44px;\nheight : 40px;\nwidth : 40px;\nborder-radius : 20px;\nopacity : 1;\n"," -webkit-transition : -webkit-transform 0.25s;\n"," }\n.open .handle\n{\n-webkit-transform : rotate( 90deg );\n}\n.sources\n{\ndisplay : none;\n}\n.open .sources\n{\ndisplay : block;\n}\n.header\n{\nposition : relative;\nz-index : 2px;\nmargin-right : -1px;\nborder-top : 1px solid ",";\n}\n.header .labelHolder\n{\nheight : ","px;\noverflow : hidden;\nline-height : ","px;\n}\n.header .label\n{\nline-height : ","px;\nfont-size : 16px;\nfont-weight : normal;\ndisplay : inline-block;\nwidth : ","px;\noverflow : hidden;\nwhite-space : nowrap;\ntext-overflow : ellipsis;\nfont-weight : normal;\ntext-transform : capitalize;\n}\n.header .unreadCount\n{\ndisplay : inline-block;\nfont-size : 13px;\nwidth : 34px;\nline-height : ","px;\noverflow : hidden;\ntext-align : right;\nopacity : 0.4;\n}\n.source\n{\nheight : ","px;\noverflow : hidden;\nclear : both;\nfont-size : 13px;\npadding-left : 54px;\n","\n}\n.shortcut\n{\nheight : ","px;\noverflow : hidden;\nclear : both;\nfont-size : 13px;\npadding-left : ","px;\nbackground-color : ",";\n","\n}\n.tbordered\n{\nborder-top : 1px solid ",";\n}\n.bbordered\n{\nborder-bottom : 1px solid ",";\n}\n.title\n{\nfloat : left;\noverflow : hidden;\nwhite-space : nowrap;\n"," text-overflow : ellipsis;\n","\nwidth : ","px;\n-webkit-touch-callout : none;\n-webkit-user-select : none;\ntext-transform : capitalize;\nfont-size : 14px;\n","\n}\n.meta\n{\nfloat : right;\npadding-left : 12px;\npadding-right : 12px;\ncolor : ",";\nfont-size : 14px;\nwidth : 35px;\ntext-align : right;\n","\n}\n.faviconPlaceholder, .faviconPlaceholderMaterialized\n{\nfloat : left;\nmargin : ","px;\nmargin-left : 0px;\nmargin-right : 10px;\nheight : 18px;\nwidth : 18px;\noverflow : hidden;\nbackground-repeat : no-repeat;\nbackground-size : 16px 16px;\nbackground-position : center center;\nborder-radius : 3px;\n}\n.editable .faviconPlaceholder\n{\ndisplay : none;\n}\n.checkbox\n{\nfloat : left;\nheight : ","px;\nwidth : ","px;\nbackground-repeat : no-repeat;\n-webkit-background-size : 60px 60px;\nbackground-size : 60px 60px;\nbackground-position : center center;\noverflow : hidden;\ndisplay : none;\n}\n.editable .checkbox\n{\ndisplay : block;\n}\n.editable .meta\n{\ndisplay : none;\n}\n.unchecked .checkbox\n{\nbackground-image : url( "," );\nopacity : 0.25;\n}\n.checked .checkbox\n{\nbackground-image : url( "," );\n}\n.checked\n{\nbackground-color : ",";\n}\n.icon\n{\nfloat : left;\nheight : ","px;\nwidth : 54px;\noverflow : hidden;\nbackground-repeat : no-repeat;\n-webkit-background-size : ","px ","px;\n}\n.more\n{\nfont-size : 13px;\nheight : ","\n}\n.question\n{\nfont-size : 16px;\nheight : ","\n}\n#homeIntro\n{\nbackground : url( images/mobile-home@2x.jpg ) center center no-repeat;\nwidth : ","px;\nheight : ","px;\npadding : ","px;\npadding-top : ",";\n-webkit-background-size : cover;\nbackground-size : cover;\nmargin-top : ","px;\nline-height : 17px;\nfont-size : 16px;\ntext-align : center;\ncolor : rgba( 255, 255, 255, 0.6 );\nbox-shadow : 0px 1px 2px rgba( 0, 0, 0, 0.5 );\n}\n.panelTitle\n{\npadding-top : 12px;\nfont-weight : bold;\nline-height : 44px;\nfont-size : 24px;\nletter-spacing : ","\n}\n.panelDescription\n{\nfont-size : 16px;\nline-height : 1.6em;\nmargin-top : ","px;\nmargin-bottom : ","px;\n}\n.button\n{\nbackground-color : ",";\ncolor : white;\nfont-size : 16px;\nline-height : 44px;\nmargin-bottom : ","px;\npadding-right : ","px;\nborder-radius : 3px;\ntext-align : center;\n}\n.button.feedly\n{\nbackground-color : ",";\ncolor : white;\n}\n.button.secondary\n{\nbackground-color : transparent;\ncolor : ",";\nborder : 1px solid ",";\n}\n.hi\n{\nbackground-color : ",";\ncolor : white;\n}\n"," .background","\n{\nbackground-color : "," -webkit-transition : -webkit-transform 0.25s linear, color 1s linear;\ntransition : -webkit-transform 0.25s linear, color 1s linear;\n"," }\n.background",".empty\n{\nbackground-color : ",";\n}\n","\n.backgroundSaved\n{\nbackground-color : #74a62b;\n}\n.backgroundAdd\n{\nbackground-color : #649125;\n}\n#my_icon\n{\nbackground-image :url( "," );\n}\n#must_icon\n{\nbackground-image :url( "," );\n}\n#saved_icon\n{\nbackground-image :url( "," );\n}\n#latest_icon\n{\nbackground-image :url( "," );\n}\n.tagIcon\n{\nbackground-image :url( "," );\n}\n","\n.hub\n{\nfloat : left;\nborder-radius : 3px;\nbackground-position : center ","px;\nbackground-size : 30px 30px;\nbackground-repeat : no-repeat;\nwidth : ","px;\nborder : 1px solid ",";\noverflow : hidden;\ncursor : pointer;\nmargin-right : ","px;\n}\n.etiquette\n{\nmargin-top : ","px;\ntext-align : center;\nfont-size : 12px;\nbackground-color : #FFF;\nline-height : 26px;\nfont-size : 12px;\ntext-transform : capitalize;\n}\n.cover\n{\npadding-left : ","px;\n}\n.profilePhoto \n{\nbackground-size : cover;\nwidth : ","px;\nborder : 1px solid rgba( 0, 0, 0, 0.2 );\nborder-radius : ","px; \noverflow : hidden;\nmargin-right : 8px;\nfloat : left;\n}\n.profileInfo \n{\nline-height : 19px;\nfont-size : 14px;\nmax-width : ","px;\ntext-overflow : ellipsis;\noverflow : hidden;\n}\n",'\n<div style="padding-left:20px; padding-right:20px; margin-top: 10px">\n<div class="panelTitle">\nMake feedly yours\n</div>\n<div class="panelDescription" style="opacity:0.7; margin-bottom:30px; line-height:1.35em">\nYour favorite sites will be here when you add them to your feedly.\n</div>\n<div class="touchable button feedly nonEditable" data-touch-highlight="','" data-app-action="showStore" data-end-activity="yes">\n<div class="label">Add Content</div>\n</div>\n<div class="touchable button secondary nonEditable" data-url="explore" data-end-activity="yes">\n<div class="label">Explore</div>\n</div>\n<div style="position:absolute; bottom:',"px; width:",'px">\n',' <div class="touchable button secondary" data-app-action="logout" data-end-activity="yes">\nLogout\n</div>\n',' <div class="question">Existing user?</div>\n<div class="touchable button secondary nonEditable" data-app-action="askLogin" data-end-activity="yes">\n<div class="label">Login</div>\n</div>\n'," </div>\n</div>\n",'\n<div id="selector" style="width:','px; overflow:hidden">\n<div style="padding:',"px; color:","; line-height:12px; line-height:",'px; text-align:center">\nSynchronizing my feedly...\n</div>\n</div>\n',' <div class="bbordered">\n',' <div id="my_block" class="block nonEditable" style="margin-top:','px">\n<div class="header touchable" data-url="my">\n<div class="handleHolder" data-url="my">\n<div id="my_icon" class="countSensitive handle touchable ','"\ndata-flsId="','"\n></div>\n</div>\n<div class="labelHolder">\n<div class="label">Home<div class="unreadCount"></div></div>\n</div>\n</div>\n</div>\n',' \n<div id="cat_global.must_block" \nclass="block ','" \nstyle="display:','"\n>\n<div class="header touchable"\ndata-container="cat_global.must_sources"\ndata-source="mustReads"\ndata-handle="cat_global.must_sources"\ndata-url="list://','"\n>\n<div class="handleHolder toggleable" data-toggle="cat_global.must">\n<div id="must_icon" class="countSensitive handle toggleable ','" \ndata-flsId="','"\n></div>\n</div>\n<div class="labelHolder">\n<div class="label">Must Reads</div><div id="','_unreadCount" class="unreadCount mustReadUnreadCount">','</div>\n</div>\n</div>\n<div id="cat_global.must_sources" class="sources">\n',' </div>\n</div>\n<div id="saved_block" class="block bbordered nonEditable">\n<div class="header touchable" data-url="list://user/-/tag/global.saved">\n<div class="handleHolder">\n<div id="saved_icon" class="handle"></div>\n</div>\n<div class="labelHolder">\n<div class="label full">Saved For Later</div>\n</div>\n</div>\n</div>\n<div id="latest_block" class="block nonEditable" style="margin-top:','px">\n<div class="header touchable" data-url="list://','">\n<div class="handleHolder">\n<div id="latest_icon"\nclass="countSensitive handle touchable ','"\n></div>\n</div>\n<div class="labelHolder">\n<div class="label">All</div><div id="','_unreadCount" class="unreadCount">','</div>\n</div>\n</div>\n</div>\n<div id="categories" >\n',"\n</div>\n",' <div id="cat_global.uncategorized_block" class="block ','">\n<div class="header"\ndata-toggle="cat_global.uncategorized"\ndata-container="cat_global.uncategorized_sources"\ndata-source="others"\ndata-handle="cat_global.uncategorized_sources"\n>\n<div class="handleHolder toggleable">\n<div class="handle toggleable"></div>\n</div>\n<div class="labelHolder">\n<div class="label full">Uncategorized</div>\n</div>\n</div>\n<div id="cat_global.uncategorized_sources" class="sources">\n',' </div>\n<div id="tags" style="margin-top:',' </div>\n<div style="margin-top:','px">\n<div style="margin:10px" class="touchable button secondary nonEditable" data-app-action="showStore" data-end-activity="no">\n<div class="label">Add website</div>\n</div>\n<div style="margin:10px" class="touchable button secondary nonEditable" data-url="explore" data-end-activity="yes">\n<div class="label">Explore</div>\n</div>\n</div>\n',' <div class="nonEditable bbordered" style="margin-top:',"\n<!--\n","\n-->\n",'\n<div class="cover" style="margin-top:','px">\n<div class="profilePhoto" style="background-image:url( ',' )"></div>\n<div class="profileInfo">','</div>\n<div class="profileInfo">',"</div>\n</div> \n",'\n<div class="footer nonEditable">\nVersion '," <br/>\n</div>\n",' <div id="tag_','_block" class="block ',' nonEditable">\n<div class="header touchable" data-url="list://','">\n<div class="handleHolder">\n<div class="handle tagIcon"></div>\n</div>\n<div class="labelHolder">\n<div class="label full">',"</div>\n</div>\n</div>\n</div>\n",'\n<div class="touchable source" data-app-action="','" >\n<div class="tbordered">\n',"\n</div>\n</div>\n",'\n<div class="touchable shortcut tbordered" data-url="','">\n',' <div id="cat_','">\n<div class="header touchable"\ndata-container="cat_','_sources"\ndata-source="cats" data-index="','"\ndata-handle="','"\ndata-url="list://','"\n>\n<div class="handleHolder toggleable" data-toggle="cat_','">\n<div class="countSensitive handle toggleable ','"\ndata-toggle="cat_','"\n></div>\n</div>\n<div class="labelHolder">\n<div class="label">','</div><div id="','</div>\n</div>\n</div>\n<div id="cat_','_sources" class="sources">\n',' <div style="padding-left:54px" class="more touchable" data-more="','_more"><div class="tbordered" data-more="','_more">Show '," more source",'</div></div>\n<div id="','_more" style="display:none">\n'," </div>\n",' <div class="unchecked checkable touchable source" data-checkState="unchecked" data-feedId="','" data-url="list://','" data-hint="','">\n<div class="tbordered">\n<div class="checkbox"></div>\n',' <div class="faviconPlaceholderMaterialized" style="background-image:url( ',' )"></div> \n',' <div class="faviconPlaceholder" data-favicon="','"></div>\n',' <div id="','_unreadCountHolder" class="meta feedUnreadCountHolder" data-feedId="','">','</div>\n<div class="title">',"</div>\n</div>\n</div>\n",'\n<html>\n<head>\n<title>selectorTop</title>\n<meta name="viewport" content="initial-scale=1,minimum-scale=1,maximum-scale=1,width=',',user-scalable=no">\n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n<style>\nbody\n{\nbackground : ',";\nmargin : 0px;\npadding : 0px;\nwidth : ",";\nmax-width : ",";\nheight : ","px;\nmax-height : ","px;\nfont-size : 18px;\ntext-align : center;\n","\n-webkit-touch-callout : none;\n-webkit-user-select : none;\n-webkit-tap-highlight-color : rgba( 0, 0, 0, 0 );\n-webkit-text-size-adjust : none;\n}\n.button\n{\nline-height : ",'px;\ncolor : #FFF;\nbackground-color : #808080;\ntext-align : center;\nfont-size : 14px;\n}\n</style>\n<!--inject.bridge-->\n<script>\nwindow.onload = function()\n{\n$B.core.wm.markAsReady(); \ndocument.body.ontouchend = function()\n{\n// send an app action request to the parent\n$B.core.wm.postMessage( "parent",\n{\ntype : "mode",\naction : "view"\n}\n);\n}\n}\n<\/script>\n</head>\n<body>\n<div class="button" style="display:none; position:absolute; right: 6px; top: 6px">Done</div>\nEdit\n</body>\n</html>\n','\n<html>\n<head>\n<title>selectorBottom</title>\n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n<meta name="viewport" content="initial-scale=1,minimum-scale=1,maximum-scale=1,width=',',user-scalable=no">\n<style>\nbody\n{\nmargin : 0px;\npadding : 0px;\nwidth : 100%;\noverflow : hidden;\nbackground : ',";\nfont-size : 14px;\n","px;\ncolor : #FFF;\nbackground-color : #808080;\ntext-align : center;\nfont-size : 14px;\nfloat : left;\nwidth : 50%;\n}\n.disabled .button\n{\ncolor : rgba( 255, 255, 255, 0.33 );\n}\n.bar\n{\nwidth : ","px;\nmargin : 18px;\nheight : ","px;\nborder : 1px solid #BBB;\n}\n.cursor\n{\nheight : ",";\n}\n</style>\n<!--inject.bridge-->\n<script>\nvar PANEL_W = ",';\n// RECEIVING MODEL CHANGE EVENTS FROM THE PARENT\nfunction ONEVENT( message )\n{\ntry\n{\nswitch( message.type )\n{\ncase "count":\ndocument.getElementById( "actions" ).style.display = "block";\ndocument.getElementById( "progress" ).style.display = "none";\nif( message.count == 0 )\n{\ndocument.body.className = "disabled";\ndocument.getElementById( "remove" ).innerHTML = "Remove";\n}\nelse\n{\ndocument.body.className = "enabled";\ndocument.getElementById( "remove" ).innerHTML = "Remove (" + message.count + ")";\n}\nbreak;\ncase "progress":\ndocument.getElementById( "actions" ).style.display = "none";\ndocument.getElementById( "progress" ).style.display = "block";\ndocument.getElementById( "cursor" ).style.width = Math.floor( ( PANEL_W - 2 * 18 ) * message.i / message.n ) + "px";\nbreak;\ndefault:\n///D $feedly( "[selector] ON EVENT:" + JSON.stringify( message ) );\n}\n}\ncatch( e )\n{\n$feedly( "[selector$bottom] ON EVENT FAILED: " + e.name + " -- " + e.message + " -- " + JSON.stringify( message ) );\n}\n}\nwindow.onload = function(){\n$B.core.wm.markAsReady(); \ndocument.getElementById( "remove" ).ontouchend = function(){\n// send an app action request to the parent\n$B.core.wm.postMessage( "parent",\n{\ntype : "edit",\naction : "remove"\n}\n);\n}\ndocument.getElementById( "cancel" ).ontouchend = function(){\n// send an app action request to the parent\n$B.core.wm.postMessage( "parent",\n{\ntype : "edit",\naction : "cancel"\n}\n);\n}\n};\n<\/script>\n</head>\n<body>\n<div id="actions">\n<div id="remove" class="button" style="background-color:#a30800">Remove</div>\n<div id="cancel" class="button" style="color:#FFF">Cancel</div>\n</div>\n<div id="progress" style="display:none">\n<div id="bar" class="bar">\n<div id="cursor" class="cursor"></div>\n</div>\n</div>\n</body>\n</html>\n']
})();"use strict";devhd.extend=function(d,c,b){for(var a in c){if(b==0||b==undefined||d[a]==undefined){d[a]=c[a]}else{if(b!=1){throw new Error("property '"+a+"' already set when extending object")}}}return d};function CW(d,c,a){a=a||OUTER;var b=Math.floor((W-(2*OUTER+(c-1)*a))/c);return d*b+(d-1)*a}function CH(d,c,f,a){a=a||OUTER;var e=SH()-(f||0);var b=Math.floor((e-(2*OUTER+(c-1)*a))/c);
return d*b+(d-1)*a}function SH(){return H-NAVIGATION_BAR-LOCATOR}var T=null;var SETTINGS={};function THEME(){return SETTING("feedly_theme")||"white"}function themable(a){switch(THEME()){case"black":return a+"-black";case"white":default:return a+"-white"}}function TABLET(){return MODE=="tablet"}function IOS(){return SETTING("device_os").indexOf(" ios")>-1||SETTING("device_os").indexOf("iphone")>-1||SETTING("device_os").indexOf("ipad")>-1
}function SVG(){return IOS_7PLUS()||ANDROID_SVG()}function IOS_7PLUS(){return IOS()&&parseFloat(SETTING("device_os_version"))>=7}function IOS_8PLUS(){return IOS()&&parseFloat(SETTING("device_os_version"))>=8}function ANDROID_SVG(){return ANDROID()&&parseFloat(SETTING("device_os_level"))>=19}function ANDROID(){return SETTING("device_os")=="android"}function ANDROID_MED(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<18
}function ANDROID_LOW(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<16}function ANDROID_TWO(){return SETTING("device_os")=="android"&&parseFloat(SETTING("device_os_level"))<14}function KINDLE(){return(navigator.userAgent.indexOf("KFTT")>-1||navigator.userAgent.indexOf("Kindle Fire")>-1)}function KINDLE_LOW(){return KINDLE()&&parseFloat(SETTING("device_os_version"))<4.1
}function KINDLE_OLD(){return navigator.userAgent.indexOf("Kindle Fire")>-1}function SOCIAL_GOOGLE_PLUS(){return SETTING("social_google_plus")=="yes"}function FONT(){return"system"}function DP(a){if(a==null){return null}else{return Math.ceil(a/window.devicePixelRatio)}}function faces(a){return fFaces[a]}function family(a){if(feedlyFont[FONT()][a]!=null){return"font-family:"+feedlyFont[FONT()][a]+";"
}else{return"font-family:"+feedlyFont.common[a]+";"}}function SETTING(a){return SETTINGS[a]}function TRACK(b,d,a,c){$B.core.wm.postMessage("parent",{type:"analytics",category:b,action:d,label:a,value:c})}function UPDATE_SETTING(a,b){SETTINGS[a]=b;$B.core.application.setUserSetting(a,b)}function TREAD(a){try{return window.localStorage.getItem(a)}catch(b){$feedly("[TREAD] failed because "+b.name+" -- "+b.message);
return null}}function TWRITE(a,b){try{window.localStorage.setItem(a,b)}catch(c){$feedly("[TWRITE] failed because "+c.name+" -- "+c.message)}}function LREAD(a){try{return SETTING("feedly_local_"+a)}catch(b){$feedly("[LREAD] failed because "+b.name+" -- "+b.message);return null}}function LWRITE(a,b){try{LWRITES({key:b})}catch(c){$feedly("[LWRITE] failed because "+c.name+" -- "+c.message)
}}function LWRITES(f){try{var d={};for(var a in f){var b="feedly_local_"+a;d[b]=SETTINGS[b]=f[a]}$B.core.application.updateUserSettings(d,true)}catch(c){$feedly("[LWRITES] failed because "+c.name+" -- "+c.message)}}function LREMOVE(a){try{LWRITES({key:null})}catch(b){$feedly("[LREMOVE] failed because "+b.name+" -- "+b.message)}}function LREMOVES(b){try{var d={};
for(var a=0;a<b.length;a++){d[b[a]]=null}LWRITES(d)}catch(c){$feedly("[LREMOVES] failed because "+c.name+" -- "+c.message)}}function FAVICON(a){try{if(a==null){return"https://www.google.com/s2/favicons?domain=google.com"}if(a.indexOf("twitter.com")>-1){return"http://twitter.com/favicon.ico"}return"https://www.google.com/s2/favicons?domain="+a.split("/").slice(2,3)+"&alt=feed"
}catch(b){return"https://www.google.com/s2/favicons?domain=google.com"}}function GET(c,e,f,d,i,a){if(d==null){d={}}if(i==null){i=30000}if(a==null){a=0}var j=null;var g=new Date().getTime();var h=new XMLHttpRequest();h.onreadystatechange=function(){if(h.readyState==4){if(j==null){return}if(j!=null){window.clearTimeout(j);j=null}if(h.status==200||h.status==201){e(h.responseText)
}else{if(h.status==0){if(a<2){window.setTimeout(function(){GET(c,e,f,d,i,a+1)},1000)}else{f("Failed to connect to the network")}}else{f(h.status)}}}};j=window.setTimeout(function(){if(j==null){return}window.clearTimeout(j);j=null;f("Failed to connect to the network")},i);h.open("GET",c,true);for(var b in d){h.setRequestHeader(b,d[b])}h.send("")}function POST(b,f,d,e,c,g){if(c==null){c={}
}if(g==null){g=30000}var i=null;var h=new XMLHttpRequest();h.onreadystatechange=function(){if(h.readyState==4){if(i==null){return}if(i!=null){window.clearTimeout(i);i=null}if(h.status==200||h.status==201){d(h.responseText)}else{e(h.status)}}};i=window.setTimeout(function(){if(i==null){return}window.clearTimeout(i);i=null;e("Failed to connect to the network")
},g);h.open("POST",b,true);for(var a in c){h.setRequestHeader(a,c[a])}h.send(f)}function JGET(a,d,b,e,c){GET(a,function(f){d(JSON.parse(f))},b,e,c)}function HINT(a){if(a==null){return}SIGN("[?] "+a)}function SIGN(b,a){if(b==null){return}$B.core.wm.sign(b,a,{})}function image(b){var a=["images/",b];if(window.devicePixelRatio>1){a.push("@2x")}a.push(".png");
return a.join("")}function svg(b){if(IOS_7PLUS()){var a=["images/",b];a.push("~ios");a.push(".svg");return a.join("")}else{if(ANDROID_SVG()){var a=["images/",b];a.push("~android");a.push(".svg");return a.join("")}else{return image(b)}}}function usvg(b){if(SVG()){var a=["images/",b];a.push(".svg");return a.join("")}else{return image(b)}}function findByClass(b,a){if(b==null){return null
}if(b.className!=null&&b.className.indexOf(a)>-1){return b}return null}function element(a){return document.getElementById(a)}function injectCSS(a){var b=document.createElement("style");b.setAttribute("data-injected","yes");b.setAttribute("type","text/css");b.innerText=a;document.getElementsByTagName("head")[0].appendChild(b)}function removeInjectedCSS(){try{var d=document.getElementsByTagName("style");
var b=0;for(var a=0;a<d.length;a++){if(d[a].getAttribute("data-injected")=="yes"){d[a].parentNode.removeChild(d[a]);b++}}return true}catch(c){$feedly("failed to remove injected CSS because "+c.name+" -- "+c.message);return false}}function refreshCSS(){removeInjectedCSS();switch(THEME()){case"black":feedlyTheme=THEME_BLACK;break;case"white":default:feedlyTheme=THEME_WHITE
}T=templates.mobile.activity[ACTIVITY_NAME];if(T!=null&&T.css!=null){injectCSS(T.css())}}function setupActivity(a){try{T=templates.mobile.activity[ACTIVITY_NAME];if(T!=null&&T.css!=null){injectCSS(T.css())}if(T!=null&&T.layout!=null){document.body.className=(document.body.className||"")+" "+SETTING("device_os")+" "+(KINDLE()?"kindle":"");document.body.innerHTML=T.layout(a)
}}catch(b){$feedly("[activity] failed to setup:"+JSON.stringify(a));throw b}}function makeActionable(a){var b=document.body;b.ontouchstart=fastTouchStart;b.ontouchmove=fastTouchMove;b.ontouchend=fastTouchEnd;b.ontouchcancel=fastTouchCancel}var startX;var startY;var maxDeltaX;var maxDeltaY;var touchable=null;var highlightTimer=null;var longTouchTimer=null;
var oldBackground=null;var t0=null;function unhighlightTouchable(){if(touchable==null){return}if(touchable.getAttribute("data-highlight-longer")=="yes"){window.setTimeout(function(){touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null},500)}else{touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null
}}function fastTouchStart(a){a.preventDefault();a.stopPropagation();t0=new Date().getTime();maxDeltaX=0;maxDeltaY=0;if(longTouchTimer!=null){window.clearTimeout(longTouchTimer);longTouchTimer=null}if(touchable!=null){touchable.style.backgroundColor=oldBackground;touchable=null}startX=a.targetTouches[0].clientX;startY=a.targetTouches[0].clientY;touchable=findByClass(a.targetTouches[0].target,"touchable");
if(touchable!=null){oldBackground=touchable.style.backgroundColor;touchable.style.backgroundColor=touchable.getAttribute("data-touch-highlight")||feedlyTheme.highlight;if(ANDROID()){longTouchTimer=window.setTimeout(function(){if(touchable==null){return}var b=touchable.getAttribute("data-action-hint");if(b!=null){HINT(b)}touchable.style.backgroundColor=oldBackground;
touchable=null},1000)}}}function fastTouchMove(a){a.preventDefault();a.stopPropagation()}function fastTouchEnd(a){a.preventDefault();a.stopPropagation();if(longTouchTimer!=null){window.clearTimeout(longTouchTimer);longTouchTimer=null}if(touchable==null){return}try{onAction(touchable.getAttribute("data-action"),touchable)}catch(b){$feedly("[activity] onAction failed")
}unhighlightTouchable()}function fastTouchCancel(a){if(touchable!=null){touchable.style.backgroundColor=oldBackground;touchable=null;oldBackground=null}}var selectorElem=null;var materialized=null;var more={};var model=null;var futureModel=null;var futureChanges=null;var mode="view";var removeQueue=[];var removeTotal=0;var visible=false;var feedly499Plus="499+";
var toBeLoaded=null;var toBeLoadedHint=null;var bottomCreated=false;function ONAPPEVENT(b){switch(b.type){case"wmstartgesture":handleCancel();switchToViewMode();break;case"wmbeforehide":switchToViewMode();break;case"onrefresh":$B.core.wm.postMessage("parent",{type:"mag",action:"askRefreshProfile"});break;case"visibility":switchToViewMode();if(b.visible=="hidden"){clearHighlightable();
visible=false;if(toBeLoaded!=null){$B.core.wm.postMessage("parent",{type:"navigation",url:toBeLoaded,hint:toBeLoadedHint});toBeLoaded=null;toBeLoadedHint=null}}else{visible=true;toBeLoaded=null;toBeLoadedHint=null;if(futureModel!=null){updateModel(futureModel);futureModel=null}if(futureChanges!=null){layerCounts(futureChanges);futureChanges=null}if(materialized==false){materializeFavicons();
materialized=true}TRACK_CONFIG("selector");try{$B.core.wm.refreshDone()}catch(d){}}break;case"userSettings":if(SETTINGS==null){SETTINGS=b;feedlyApplicationVersion=SETTING("feedly_app_version")}else{var a=SETTING("feedly_theme")||initialTheme;SETTINGS=b;var c=SETTING("feedly_theme")||"white";if(c!=a){refreshCSS()}}break;default:break}}function ONEVENT(c){try{if(selectorElem==null){return
}switch(c.type){case"reset":window.scroll(0,0);break;case"backToTop":window.scroll(0,0);$B.core.wm.show("self");break;case"model":var b=(model!=null&&model.logged==c.logged&&model.logged==true);if(c!=null&&ANDROID()&&c.subscriptionCount>50){b=true}if(visible==false&&b){futureModel=c;futureChanges=null}else{updateModel(c);futureModel=null}try{$B.core.wm.refreshDone()
}catch(d){}break;case"batch-complete":updateModel(c);switchToViewMode();break;case"batch-unfollow":if(removeQueue.length==0){$B.core.wm.postMessage("parent",{type:"mag",action:"askCompleteBatchUnfollow"})}else{askUnfollowNextFeed()}break;case"edit":switch(c.action){case"remove":askUnfollowFeeds(listCheckedFeedIds());break;case"move":case"done":default:switchToViewMode()
}break;case"mode":switchToViewMode();break;case"unreadCountSync":if(c.counts==null){return}if(visible==false){if(futureChanges==null){futureChanges={}}for(var a in c.counts){futureChanges[a]=c.counts[a]}return}try{if(futureModel!=null){updateModel(futureModel);futureModel=null}}catch(d){$feedly("[selector] failed to apply future model (2):"+d.name+" -- "+d.message);
futureModel=null}layerCounts(c.counts);break;default:}}catch(d){$feedly("[selector] ON EVENT FAILED: "+d.name+" -- "+d.message+" -- "+JSON.stringify(c))}}function MAIN(a){try{document.body.innerHTML="<span style='color:${ feedlyTheme.default_activity_text }; padding:17px'>Building...</span>";setupActivity(a);selectorElem=element("selector");selectorElem.ontouchstart=selectorTouchStart;
selectorElem.ontouchmove=selectorTouchMove;selectorElem.ontouchend=selectorTouchEnd;selectorElem.ontouchcancel=selectorTouchCancel}catch(b){$feedly("[selector] failed MAIN because: "+b.name+" -- "+b.message)}}function createSelectorBottom(){if(bottomCreated==true){return}bottomCreated=true;$B.core.wm.open("selector$bottom",T.layoutBottom(),{},{effectName:"slideup",gravity:"bottom|left",width:PANEL_W,height:NAVIGATION_BAR,effectDuration:0.4})
}function layerCounts(n){try{var a=document.getElementsByClassName("feedUnreadCountHolder");for(var g=0;g<a.length;g++){var h=a[g].getAttribute("data-feedId");if(n[h]!=null){a[g].innerHTML=prettyCount(n[h])}}for(var d in n){if(d.indexOf("user/")==0){var m=element(d+"_unreadCount");if(m!=null){m.innerHTML=prettyCategoryCount(n[d])}if(n[d]==0){closeCategory(d)
}}}var o=document.getElementsByClassName("countSensitive");for(var g=0;g<o.length;g++){var p=o[g];var b=p.getAttribute("data-flsId");if(b!=null&&n[b]!=null){if(isEmpty(n[b])){if(p.className.indexOf("empty")==-1){p.className=o[g].className+" empty"}}else{if(p.className.indexOf(" empty")>-1){p.className=p.className.replace(" empty","")}}}}for(var d in ["cats","others","mustReads"]){var d=["cats","others","mustReads"][d];
if(model[d]==null||model[d].length==null||model[d].length==0){continue}for(var f=0;f<model[d].length;f++){var c=model[d][f].subscriptions;if(c==null){continue}for(var g=0;g<c.length;g++){if(n[c[g].id]!=null){c[g].unreadCount=n[c[g].id];break}}}}for(var d in more){if(more[d]==null||more[d].length==null){continue}for(var g=0;g<more[d].length;g++){if(n[more[d].id]!=null){more[d].unreadCount=n[more[d].id]
}}}}catch(l){$feedly("[selector] failed to layer counts:"+l.name+" -- "+l.message)}}function findHighlightable(a){if(a==null){return null}if(a.className!=null&&(a.className.indexOf("touchable")>-1||a.className.indexOf("toggleable")>-1)){return a}return findHighlightable(a.parentNode)}var startX;var startY;var maxDeltaX;var maxDeltaY;var highlightable=null;
var highlightTimer=null;var oldBackground=null;function clearHighlightable(a){if(a==null){a=false}if(highlightTimer!=null){window.clearTimeout(highlightTimer);highlightTimer=null}if(highlightable==null){return}if(a===true){window.setTimeout(function(){if(highlightable!=null){if(oldBackground!=null){highlightable.style.backgroundColor=oldBackground}highlightable=null;
oldBackground=null}},500)}else{if(highlightable!=null){if(oldBackground!=null){highlightable.style.backgroundColor=oldBackground}highlightable=null;oldBackground=null}}}function selectorTouchStart(a){if(mode=="processing"){return}maxDeltaX=0;maxDeltaY=0;clearHighlightable();startX=a.targetTouches[0].clientX;startY=a.targetTouches[0].clientY;oldBackground=null;
highlightable=findHighlightable(a.targetTouches[0].target);if(highlightable!=null){oldBackground=highlightable.style.backgroundColor;highlightTimer=window.setTimeout(function(){if(highlightable!=null){if(highlightable.className.indexOf(" empty")>-1){highlightable.style.backgroundColor=highlightable.getAttribute("data-touch-highlight-empty")||feedlyTheme.se_highlight_empty
}else{highlightable.style.backgroundColor=highlightable.getAttribute("data-touch-highlight")||feedlyTheme.se_highlight}}highlightTimer=null},TOUCH_HIGHLIGHT_DELAY)}}function selectorTouchMove(a){if(mode=="processing"){return}var c=a.targetTouches[0].clientX;var b=a.targetTouches[0].clientY;maxDeltaX=Math.max(maxDeltaX,Math.abs(c-startX));maxDeltaY=Math.max(maxDeltaY,Math.abs(b-startY));
if(ANDROID()||(maxDeltaX>TOUCH_SLOP||maxDeltaY>TOUCH_SLOP)){clearHighlightable()}}function selectorTouchEnd(b){if(mode=="processing"){return}if(highlightable==null){return}var a=processClick(highlightable);clearHighlightable(a)}function selectorTouchCancel(a){handleCancel()}function handleCancel(){try{clearHighlightable()}catch(a){$feedly("[selector] failed to cancel touch:"+a.name+" -- "+a.message)
}}function switchToEditMode(){if(mode=="edit"){return}$B.core.wm.updateStyle("self",{hideGestureEnabled:false,topPullEnabled:false});createSelectorBottom();$B.core.wm.postMessage("selector$bottom",{type:"count",count:0});$B.core.wm.show("selector$bottom");document.body.className="editable "+SETTING("device_os");mode="edit"}function switchToViewMode(){if(mode=="view"){return
}$B.core.wm.updateStyle("self",{hideGestureEnabled:true,topPullEnabled:true});$B.core.wm.hide("selector$bottom");document.body.className=SETTING("device_os");resetCheckedElements();mode="view"}function isEmpty(a){if(a==null||isNaN(a)||a==0){return true}else{return false}}function prettyCount(a){if(a==null||isNaN(a)||a==0){return""}if(a>499){return feedly499Plus
}return a}function prettyCategoryCount(a){if(a==null||isNaN(a)||a==0){return""}if(a>499){return feedly499Plus}return a}function updateModel(a){try{model=a;more={};materialized=false;if(model.logged==false||model.unconfigured==true){selectorElem.innerHTML=T.layoutGetStarted(model);window.scroll(0,0)}else{var b=materialized==false&&visible==true;selectorElem.innerHTML=T.layoutSources(model,b);
if(b){materialized=true}}if(futureChanges!=null){layerCounts(futureChanges);futureChanges=null}}catch(c){selectorElem.innerHTML="ERR123 - "+c.name+" -- "+c.message+". Work around: tap reload icon";$feedly("[selector] failed to update model because: "+c.name+" -- "+c.message+" -- model:"+JSON.stringify(model))}}function findAttribute(c,b){if(c==null){return null
}if(c.getAttribute!=null){var a=c.getAttribute(b);if(a!=null){return a}}return findAttribute(c.parentNode,b)}function processClick(n){try{var j=n.getAttribute("data-sign");if(j!=null){SIGN(j,3);return}var g=findAttribute(n,"data-toggle");if(g!=null){var p=element(g+"_block");if(p.className.indexOf("open")>-1){p.className="block closed";TWRITE(g,"closed");
var o=findAttribute(n,"data-container");if(o!=null){var k=element(o);k.innerHTML=""}updateCheckedCount()}else{var o=findAttribute(n,"data-container");if(o!=null){var k=element(o);var d=[];var h=findAttribute(n,"data-source");if(h=="others"){d=model.others.slice(0,100)}else{if(h=="mustReads"){d=model.mustReads}else{d=model[h][parseInt(findAttribute(n,"data-index"))].subscriptions
}}k.innerHTML=T.sources(d,findAttribute(n,"data-handle"),null,true)}p.className="block open";TWRITE(g,"open")}return false}if(mode=="view"){var l=n.getAttribute("data-app-action");if(l!=null){if(l=="resetCategoriesOrdering"){SIGN("Re-ordering")}$B.core.wm.postMessage("parent",{type:"mag",action:l,input:n.getAttribute("data-app-action-input"),option:n.getAttribute("data-app-action-option"),endActivity:n.getAttribute("data-end-activity")=="yes",});
return false}var f=findAttribute(n,"data-url");if(f=="action:switchToEditMode"){switchToEditMode();return false}else{if(f!=null){$B.core.wm.hide("self");if(ANDROID()){toBeLoaded=f;toBeLoadedHint=findAttribute(n,"data-hint")}else{$B.core.wm.postMessage("parent",{type:"navigation",url:f,hint:findAttribute(n,"data-hint")})}return true}}}else{var a=findHighlightable(n);
var q=a.getAttribute("data-checkState");switch(q){case"unchecked":a.className="touchable checkable checked source";a.setAttribute("data-checkState","checked");updateCheckedCount();return false;case"checked":a.className="touchable checkable unchecked source";a.setAttribute("data-checkState","unchecked");updateCheckedCount();return false;default:}}var i=n.getAttribute("data-more");
if(i!=null){n.style.display="none";element(i).style.display="block";materializeFavicons();return false}}catch(m){$feedly("[selector] process click failed because:"+m.name+" -- "+m.message)}}function closeCategory(d){try{var g="cat_"+d;var a=element(g+"_block");if(a==null){return}if(a.className.indexOf("open")>-1){a.className="block closed";TWRITE(g,"closed");
var h=element(g+"_sources");if(h!=null){h.innerHTML=""}}}catch(f){$feedly("[selector] failed to close category:"+d+" -- "+f.name+" -- "+f.message)}}function updateCheckedCount(){if(mode=="view"){return}var a=document.getElementsByClassName("checked");$B.core.wm.postMessage("selector$bottom",{type:"count",count:a.length})}function resetCheckedElements(){var b=document.getElementsByClassName("checked");
var a=b.length-1;for(var c=a;c>=0;c--){b[c].setAttribute("data-checkState","unchecked");b[c].className="source touchable checkable unchecked"}}function listCheckedFeedIds(){var c=[];var b=document.getElementsByClassName("checked");var a=b.length-1;for(var d=a;d>=0;d--){c.push(b[d].getAttribute("data-feedId"))}return c}function askUnfollowFeeds(a){if(a==null||a.length==0){switchToViewMode();
return}mode="processing";removeQueue=a;removeTotal=a.length;askUnfollowNextFeed()}function askUnfollowNextFeed(){var a=removeQueue.shift();$B.core.wm.postMessage("selector$bottom",{type:"progress",i:removeTotal-removeQueue.length,n:removeTotal});$B.core.wm.postMessage("parent",{type:"mag",action:"askUnfollowFeed",input:a,option:true})}function isDisplayed(a){if(a.style==null){return true
}if(a.style.display=="none"||(a.className||"").indexOf("closed")>-1){return false}if(a.parentNode==null||a.parentNode==a){return true}return isDisplayed(a.parentNode)}function materializeFavicons(){try{var c=new Date().getTime();var b=document.getElementsByClassName("faviconPlaceholder");for(var a=0;a<b.length;a++){var f=b[a].getAttribute("data-favicon");
if(f==null){continue}if(isDisplayed(b[a])==false){continue}b[a].style.backgroundImage="url("+f+")";b[a].removeAttribute("data-favicon")}}catch(d){$feedly("failed to add favicons because "+d.name+" -- "+d.message)}}function TRACK_CONFIG(a){try{if(model!=null&&model.logged==true){return}$B.core.tracker.trackPageView(a)}catch(b){}}function computeFavicon(a){if(a==null){return"https://www.google.com/s2/favicons?domain=google.com"
}if(a.indexOf("twitter.com")>-1){return"http://twitter.com/favicon.ico"}return"https://www.google.com/s2/favicons?domain="+a.split("/").slice(2,3)+"&alt=feed"};